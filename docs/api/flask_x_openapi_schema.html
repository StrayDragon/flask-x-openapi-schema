<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.3"/>
    <title>flask_x_openapi_schema API documentation</title>
            <link rel="icon" href="https://flask.palletsprojects.com/en/3.0.x/_static/flask-icon.png"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style><style>
    .pdoc .mermaid-pre {
        border: none;
        background: none;
    }
</style>
<script type="module" defer>
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs";

    /* Re-invoke Mermaid when DOM content changes, for example during search. */
    document.addEventListener("DOMContentLoaded", () => {
        new MutationObserver(() => mermaid.run()).observe(
            document.querySelector("main.pdoc").parentNode,
            {childList: true}
        );
    })
</script></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#GLOBAL_CONFIG_HOLDER">GLOBAL_CONFIG_HOLDER</a>
            </li>
            <li>
                    <a class="class" href="#BaseRespModel">BaseRespModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#BaseRespModel.model_config">model_config</a>
                        </li>
                        <li>
                                <a class="function" href="#BaseRespModel.from_dict">from_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#BaseRespModel.to_dict">to_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#BaseRespModel.to_response">to_response</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ConventionalPrefixConfig">ConventionalPrefixConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ConventionalPrefixConfig.__init__">ConventionalPrefixConfig</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConventionalPrefixConfig.request_body_prefix">request_body_prefix</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConventionalPrefixConfig.request_query_prefix">request_query_prefix</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConventionalPrefixConfig.request_path_prefix">request_path_prefix</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConventionalPrefixConfig.request_file_prefix">request_file_prefix</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConventionalPrefixConfig.extra_options">extra_options</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DocumentUploadModel">DocumentUploadModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DocumentUploadModel.file">file</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocumentUploadModel.allowed_extensions">allowed_extensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocumentUploadModel.max_size">max_size</a>
                        </li>
                        <li>
                                <a class="function" href="#DocumentUploadModel.validate_document_file">validate_document_file</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocumentUploadModel.model_config">model_config</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FileUploadModel">FileUploadModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#FileUploadModel.file">file</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileUploadModel.model_config">model_config</a>
                        </li>
                        <li>
                                <a class="function" href="#FileUploadModel.validate_file">validate_file</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#I18nStr">I18nStr</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#I18nStr.__init__">I18nStr</a>
                        </li>
                        <li>
                                <a class="variable" href="#I18nStr.SUPPORTED_LANGUAGES">SUPPORTED_LANGUAGES</a>
                        </li>
                        <li>
                                <a class="variable" href="#I18nStr.default_language">default_language</a>
                        </li>
                        <li>
                                <a class="function" href="#I18nStr.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#I18nStr.create">create</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ImageUploadModel">ImageUploadModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ImageUploadModel.file">file</a>
                        </li>
                        <li>
                                <a class="variable" href="#ImageUploadModel.allowed_extensions">allowed_extensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#ImageUploadModel.max_size">max_size</a>
                        </li>
                        <li>
                                <a class="function" href="#ImageUploadModel.validate_image_file">validate_image_file</a>
                        </li>
                        <li>
                                <a class="variable" href="#ImageUploadModel.model_config">model_config</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MultipleFileUploadModel">MultipleFileUploadModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#MultipleFileUploadModel.files">files</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleFileUploadModel.model_config">model_config</a>
                        </li>
                        <li>
                                <a class="function" href="#MultipleFileUploadModel.validate_files">validate_files</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPIBlueprintMixin">OpenAPIBlueprintMixin</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OpenAPIBlueprintMixin.__init__">OpenAPIBlueprintMixin</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIBlueprintMixin.configure_openapi">configure_openapi</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIBlueprintMixin.generate_openapi_schema">generate_openapi_schema</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPIIntegrationMixin">OpenAPIIntegrationMixin</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OpenAPIIntegrationMixin.__init__">OpenAPIIntegrationMixin</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIIntegrationMixin.add_resource">add_resource</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIIntegrationMixin.configure_openapi">configure_openapi</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIIntegrationMixin.generate_openapi_schema">generate_openapi_schema</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPIMetaResponse">OpenAPIMetaResponse</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponse.responses">responses</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIMetaResponse.to_openapi_dict">to_openapi_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponse.model_config">model_config</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPIMetaResponseItem">OpenAPIMetaResponseItem</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.model">model</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.description">description</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.content_type">content_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.headers">headers</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.examples">examples</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.msg">msg</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPIMetaResponseItem.to_openapi_dict">to_openapi_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPIMetaResponseItem.model_config">model_config</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPIMethodViewMixin">OpenAPIMethodViewMixin</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OpenAPIMethodViewMixin.register_to_blueprint">register_to_blueprint</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OpenAPISchemaGenerator">OpenAPISchemaGenerator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OpenAPISchemaGenerator.__init__">OpenAPISchemaGenerator</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.title">title</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.version">version</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.description">description</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.language">language</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.paths">paths</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.components">components</a>
                        </li>
                        <li>
                                <a class="variable" href="#OpenAPISchemaGenerator.tags">tags</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPISchemaGenerator.add_security_scheme">add_security_scheme</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPISchemaGenerator.add_tag">add_tag</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPISchemaGenerator.scan_blueprint">scan_blueprint</a>
                        </li>
                        <li>
                                <a class="function" href="#OpenAPISchemaGenerator.generate_schema">generate_schema</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#configure_prefixes">configure_prefixes</a>
            </li>
            <li>
                    <a class="function" href="#create_response">create_response</a>
            </li>
            <li>
                    <a class="function" href="#error_response">error_response</a>
            </li>
            <li>
                    <a class="function" href="#get_current_language">get_current_language</a>
            </li>
            <li>
                    <a class="function" href="#reset_prefixes">reset_prefixes</a>
            </li>
            <li>
                    <a class="function" href="#set_current_language">set_current_language</a>
            </li>
            <li>
                    <a class="function" href="#success_response">success_response</a>
            </li>
    </ul>


            <footer>flask-x-openapi-schema - 自动生成OpenAPI文档的Flask工具</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
flask_x_openapi_schema    </h1>

                        <div class="docstring"><p>Flask-X-OpenAPI-Schema: A Flask extension for generating OpenAPI schemas from Pydantic models.</p>
</div>

                        <input id="mod-flask_x_openapi_schema-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-flask_x_openapi_schema-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;Flask-X-OpenAPI-Schema: A Flask extension for generating OpenAPI schemas from Pydantic models.&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.core.config</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="p">,</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a>    <span class="n">ConventionalPrefixConfig</span><span class="p">,</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>    <span class="n">configure_prefixes</span><span class="p">,</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a>    <span class="n">reset_prefixes</span><span class="p">,</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="p">)</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.core.schema_generator</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAPISchemaGenerator</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.i18n.i18n_string</span><span class="w"> </span><span class="kn">import</span> <span class="n">I18nStr</span><span class="p">,</span> <span class="n">get_current_language</span><span class="p">,</span> <span class="n">set_current_language</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseRespModel</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.models.file_models</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>    <span class="n">DocumentUploadModel</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>    <span class="n">FileUploadModel</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>    <span class="n">ImageUploadModel</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>    <span class="n">MultipleFileUploadModel</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="p">)</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.models.responses</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>    <span class="n">OpenAPIMetaResponse</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>    <span class="n">OpenAPIMetaResponseItem</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="n">create_response</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>    <span class="n">error_response</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>    <span class="n">success_response</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="p">)</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.x.flask.views</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAPIMethodViewMixin</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.x.flask_restful.resources</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAPIBlueprintMixin</span><span class="p">,</span> <span class="n">OpenAPIIntegrationMixin</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="s2">&quot;GLOBAL_CONFIG_HOLDER&quot;</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a>    <span class="c1"># Models</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>    <span class="s2">&quot;BaseRespModel&quot;</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>    <span class="c1"># Configuration</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>    <span class="s2">&quot;ConventionalPrefixConfig&quot;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>    <span class="s2">&quot;DocumentUploadModel&quot;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>    <span class="s2">&quot;FileUploadModel&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a>    <span class="c1"># I18n</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;I18nStr&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;ImageUploadModel&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;MultipleFileUploadModel&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;OpenAPIBlueprintMixin&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="c1"># Mixins</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;OpenAPIIntegrationMixin&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="c1"># Response Models</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a>    <span class="s2">&quot;OpenAPIMetaResponse&quot;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a>    <span class="s2">&quot;OpenAPIMetaResponseItem&quot;</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a>    <span class="c1"># MethodView</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a>    <span class="s2">&quot;OpenAPIMethodViewMixin&quot;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">48</span></a>    <span class="c1"># Schema Generator</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">49</span></a>    <span class="s2">&quot;OpenAPISchemaGenerator&quot;</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">50</span></a>    <span class="s2">&quot;configure_prefixes&quot;</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">51</span></a>    <span class="s2">&quot;create_response&quot;</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">52</span></a>    <span class="s2">&quot;error_response&quot;</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">53</span></a>    <span class="s2">&quot;get_current_language&quot;</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">54</span></a>    <span class="s2">&quot;reset_prefixes&quot;</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">55</span></a>    <span class="s2">&quot;set_current_language&quot;</span><span class="p">,</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">56</span></a>    <span class="s2">&quot;success_response&quot;</span><span class="p">,</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">57</span></a>    <span class="c1"># Decorators</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">58</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="GLOBAL_CONFIG_HOLDER">
                    <div class="attr variable">
            <span class="name">GLOBAL_CONFIG_HOLDER</span>        =
<span class="default_value">&lt;flask_x_openapi_schema.core.config.ThreadSafeConfig object&gt;</span>


    </div>
    <a class="headerlink" href="#GLOBAL_CONFIG_HOLDER"></a>



                </section>
                <section id="BaseRespModel">
                            <input id="BaseRespModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">BaseRespModel</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="BaseRespModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BaseRespModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BaseRespModel-12"><a href="#BaseRespModel-12"><span class="linenos"> 12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">BaseRespModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="BaseRespModel-13"><a href="#BaseRespModel-13"><span class="linenos"> 13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model for API responses.</span>
</span><span id="BaseRespModel-14"><a href="#BaseRespModel-14"><span class="linenos"> 14</span></a>
</span><span id="BaseRespModel-15"><a href="#BaseRespModel-15"><span class="linenos"> 15</span></a><span class="sd">    This class extends Pydantic&#39;s BaseModel to provide a standard way to convert</span>
</span><span id="BaseRespModel-16"><a href="#BaseRespModel-16"><span class="linenos"> 16</span></a><span class="sd">    response models to Flask-compatible responses. It includes methods for converting</span>
</span><span id="BaseRespModel-17"><a href="#BaseRespModel-17"><span class="linenos"> 17</span></a><span class="sd">    the model to dictionaries and Flask response objects.</span>
</span><span id="BaseRespModel-18"><a href="#BaseRespModel-18"><span class="linenos"> 18</span></a>
</span><span id="BaseRespModel-19"><a href="#BaseRespModel-19"><span class="linenos"> 19</span></a><span class="sd">    :param model_config: Configuration for the Pydantic model</span>
</span><span id="BaseRespModel-20"><a href="#BaseRespModel-20"><span class="linenos"> 20</span></a>
</span><span id="BaseRespModel-21"><a href="#BaseRespModel-21"><span class="linenos"> 21</span></a><span class="sd">    Example:</span>
</span><span id="BaseRespModel-22"><a href="#BaseRespModel-22"><span class="linenos"> 22</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import BaseRespModel</span>
</span><span id="BaseRespModel-23"><a href="#BaseRespModel-23"><span class="linenos"> 23</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import Field</span>
</span><span id="BaseRespModel-24"><a href="#BaseRespModel-24"><span class="linenos"> 24</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="BaseRespModel-25"><a href="#BaseRespModel-25"><span class="linenos"> 25</span></a><span class="sd">        &gt;&gt;&gt; class UserResponse(BaseRespModel):</span>
</span><span id="BaseRespModel-26"><a href="#BaseRespModel-26"><span class="linenos"> 26</span></a><span class="sd">        ...     id: str = Field(..., description=&quot;User ID&quot;)</span>
</span><span id="BaseRespModel-27"><a href="#BaseRespModel-27"><span class="linenos"> 27</span></a><span class="sd">        ...     name: str = Field(..., description=&quot;User name&quot;)</span>
</span><span id="BaseRespModel-28"><a href="#BaseRespModel-28"><span class="linenos"> 28</span></a><span class="sd">        ...     email: str = Field(..., description=&quot;User email&quot;)</span>
</span><span id="BaseRespModel-29"><a href="#BaseRespModel-29"><span class="linenos"> 29</span></a><span class="sd">        &gt;&gt;&gt; # In your API endpoint:</span>
</span><span id="BaseRespModel-30"><a href="#BaseRespModel-30"><span class="linenos"> 30</span></a><span class="sd">        &gt;&gt;&gt; def get(self):</span>
</span><span id="BaseRespModel-31"><a href="#BaseRespModel-31"><span class="linenos"> 31</span></a><span class="sd">        ...     # Returns a dictionary that Flask will convert to JSON</span>
</span><span id="BaseRespModel-32"><a href="#BaseRespModel-32"><span class="linenos"> 32</span></a><span class="sd">        ...     return UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel-33"><a href="#BaseRespModel-33"><span class="linenos"> 33</span></a><span class="sd">        &gt;&gt;&gt; # Or with a status code:</span>
</span><span id="BaseRespModel-34"><a href="#BaseRespModel-34"><span class="linenos"> 34</span></a><span class="sd">        &gt;&gt;&gt; def post(self):</span>
</span><span id="BaseRespModel-35"><a href="#BaseRespModel-35"><span class="linenos"> 35</span></a><span class="sd">        ...     # Returns a tuple with the dictionary and status code</span>
</span><span id="BaseRespModel-36"><a href="#BaseRespModel-36"><span class="linenos"> 36</span></a><span class="sd">        ...     return UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;), 201</span>
</span><span id="BaseRespModel-37"><a href="#BaseRespModel-37"><span class="linenos"> 37</span></a><span class="sd">        &gt;&gt;&gt; # Or use the to_response method:</span>
</span><span id="BaseRespModel-38"><a href="#BaseRespModel-38"><span class="linenos"> 38</span></a><span class="sd">        &gt;&gt;&gt; def put(self):</span>
</span><span id="BaseRespModel-39"><a href="#BaseRespModel-39"><span class="linenos"> 39</span></a><span class="sd">        ...     user = UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel-40"><a href="#BaseRespModel-40"><span class="linenos"> 40</span></a><span class="sd">        ...     return user.to_response(status_code=200)</span>
</span><span id="BaseRespModel-41"><a href="#BaseRespModel-41"><span class="linenos"> 41</span></a>
</span><span id="BaseRespModel-42"><a href="#BaseRespModel-42"><span class="linenos"> 42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BaseRespModel-43"><a href="#BaseRespModel-43"><span class="linenos"> 43</span></a>
</span><span id="BaseRespModel-44"><a href="#BaseRespModel-44"><span class="linenos"> 44</span></a>    <span class="c1"># Configure Pydantic model</span>
</span><span id="BaseRespModel-45"><a href="#BaseRespModel-45"><span class="linenos"> 45</span></a>    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span>
</span><span id="BaseRespModel-46"><a href="#BaseRespModel-46"><span class="linenos"> 46</span></a>        <span class="n">populate_by_name</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="BaseRespModel-47"><a href="#BaseRespModel-47"><span class="linenos"> 47</span></a>        <span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="BaseRespModel-48"><a href="#BaseRespModel-48"><span class="linenos"> 48</span></a>        <span class="n">extra</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span>
</span><span id="BaseRespModel-49"><a href="#BaseRespModel-49"><span class="linenos"> 49</span></a>        <span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="BaseRespModel-50"><a href="#BaseRespModel-50"><span class="linenos"> 50</span></a>    <span class="p">)</span>
</span><span id="BaseRespModel-51"><a href="#BaseRespModel-51"><span class="linenos"> 51</span></a>
</span><span id="BaseRespModel-52"><a href="#BaseRespModel-52"><span class="linenos"> 52</span></a>    <span class="nd">@classmethod</span>
</span><span id="BaseRespModel-53"><a href="#BaseRespModel-53"><span class="linenos"> 53</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="BaseRespModel-54"><a href="#BaseRespModel-54"><span class="linenos"> 54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a model instance from a dictionary.</span>
</span><span id="BaseRespModel-55"><a href="#BaseRespModel-55"><span class="linenos"> 55</span></a>
</span><span id="BaseRespModel-56"><a href="#BaseRespModel-56"><span class="linenos"> 56</span></a><span class="sd">        :param data: Dictionary containing model data</span>
</span><span id="BaseRespModel-57"><a href="#BaseRespModel-57"><span class="linenos"> 57</span></a><span class="sd">        :type data: dict[str, Any]</span>
</span><span id="BaseRespModel-58"><a href="#BaseRespModel-58"><span class="linenos"> 58</span></a><span class="sd">        :return: An instance of the model</span>
</span><span id="BaseRespModel-59"><a href="#BaseRespModel-59"><span class="linenos"> 59</span></a><span class="sd">        :rtype: T</span>
</span><span id="BaseRespModel-60"><a href="#BaseRespModel-60"><span class="linenos"> 60</span></a>
</span><span id="BaseRespModel-61"><a href="#BaseRespModel-61"><span class="linenos"> 61</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel-62"><a href="#BaseRespModel-62"><span class="linenos"> 62</span></a><span class="sd">            &gt;&gt;&gt; data = {&quot;id&quot;: &quot;123&quot;, &quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john@example.com&quot;}</span>
</span><span id="BaseRespModel-63"><a href="#BaseRespModel-63"><span class="linenos"> 63</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse.from_dict(data)</span>
</span><span id="BaseRespModel-64"><a href="#BaseRespModel-64"><span class="linenos"> 64</span></a>
</span><span id="BaseRespModel-65"><a href="#BaseRespModel-65"><span class="linenos"> 65</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel-66"><a href="#BaseRespModel-66"><span class="linenos"> 66</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
</span><span id="BaseRespModel-67"><a href="#BaseRespModel-67"><span class="linenos"> 67</span></a>
</span><span id="BaseRespModel-68"><a href="#BaseRespModel-68"><span class="linenos"> 68</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="BaseRespModel-69"><a href="#BaseRespModel-69"><span class="linenos"> 69</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the model to a dictionary.</span>
</span><span id="BaseRespModel-70"><a href="#BaseRespModel-70"><span class="linenos"> 70</span></a>
</span><span id="BaseRespModel-71"><a href="#BaseRespModel-71"><span class="linenos"> 71</span></a><span class="sd">        :return: A dictionary representation of the model</span>
</span><span id="BaseRespModel-72"><a href="#BaseRespModel-72"><span class="linenos"> 72</span></a><span class="sd">        :rtype: dict[str, Any]</span>
</span><span id="BaseRespModel-73"><a href="#BaseRespModel-73"><span class="linenos"> 73</span></a>
</span><span id="BaseRespModel-74"><a href="#BaseRespModel-74"><span class="linenos"> 74</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel-75"><a href="#BaseRespModel-75"><span class="linenos"> 75</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel-76"><a href="#BaseRespModel-76"><span class="linenos"> 76</span></a><span class="sd">            &gt;&gt;&gt; user_dict = user.to_dict()</span>
</span><span id="BaseRespModel-77"><a href="#BaseRespModel-77"><span class="linenos"> 77</span></a><span class="sd">            &gt;&gt;&gt; user_dict</span>
</span><span id="BaseRespModel-78"><a href="#BaseRespModel-78"><span class="linenos"> 78</span></a><span class="sd">            {&#39;id&#39;: &#39;123&#39;, &#39;name&#39;: &#39;John Doe&#39;, &#39;email&#39;: &#39;john@example.com&#39;}</span>
</span><span id="BaseRespModel-79"><a href="#BaseRespModel-79"><span class="linenos"> 79</span></a>
</span><span id="BaseRespModel-80"><a href="#BaseRespModel-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel-81"><a href="#BaseRespModel-81"><span class="linenos"> 81</span></a>        <span class="c1"># Use model_dump with custom encoder for datetime objects</span>
</span><span id="BaseRespModel-82"><a href="#BaseRespModel-82"><span class="linenos"> 82</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
</span><span id="BaseRespModel-83"><a href="#BaseRespModel-83"><span class="linenos"> 83</span></a>
</span><span id="BaseRespModel-84"><a href="#BaseRespModel-84"><span class="linenos"> 84</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="BaseRespModel-85"><a href="#BaseRespModel-85"><span class="linenos"> 85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the model to a Flask-compatible response.</span>
</span><span id="BaseRespModel-86"><a href="#BaseRespModel-86"><span class="linenos"> 86</span></a>
</span><span id="BaseRespModel-87"><a href="#BaseRespModel-87"><span class="linenos"> 87</span></a><span class="sd">        :param status_code: Optional HTTP status code</span>
</span><span id="BaseRespModel-88"><a href="#BaseRespModel-88"><span class="linenos"> 88</span></a><span class="sd">        :type status_code: Optional[int]</span>
</span><span id="BaseRespModel-89"><a href="#BaseRespModel-89"><span class="linenos"> 89</span></a><span class="sd">        :return: A Flask-compatible response (dict or tuple with dict and status code)</span>
</span><span id="BaseRespModel-90"><a href="#BaseRespModel-90"><span class="linenos"> 90</span></a><span class="sd">        :rtype: Union[dict[str, Any], tuple[dict[str, Any], int]]</span>
</span><span id="BaseRespModel-91"><a href="#BaseRespModel-91"><span class="linenos"> 91</span></a>
</span><span id="BaseRespModel-92"><a href="#BaseRespModel-92"><span class="linenos"> 92</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel-93"><a href="#BaseRespModel-93"><span class="linenos"> 93</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel-94"><a href="#BaseRespModel-94"><span class="linenos"> 94</span></a><span class="sd">            &gt;&gt;&gt; # Without status code</span>
</span><span id="BaseRespModel-95"><a href="#BaseRespModel-95"><span class="linenos"> 95</span></a><span class="sd">            &gt;&gt;&gt; response = user.to_response()</span>
</span><span id="BaseRespModel-96"><a href="#BaseRespModel-96"><span class="linenos"> 96</span></a><span class="sd">            &gt;&gt;&gt; # With status code</span>
</span><span id="BaseRespModel-97"><a href="#BaseRespModel-97"><span class="linenos"> 97</span></a><span class="sd">            &gt;&gt;&gt; response = user.to_response(status_code=201)</span>
</span><span id="BaseRespModel-98"><a href="#BaseRespModel-98"><span class="linenos"> 98</span></a>
</span><span id="BaseRespModel-99"><a href="#BaseRespModel-99"><span class="linenos"> 99</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel-100"><a href="#BaseRespModel-100"><span class="linenos">100</span></a>        <span class="n">response_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="BaseRespModel-101"><a href="#BaseRespModel-101"><span class="linenos">101</span></a>
</span><span id="BaseRespModel-102"><a href="#BaseRespModel-102"><span class="linenos">102</span></a>        <span class="k">if</span> <span class="n">status_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BaseRespModel-103"><a href="#BaseRespModel-103"><span class="linenos">103</span></a>            <span class="k">return</span> <span class="n">response_dict</span><span class="p">,</span> <span class="n">status_code</span>
</span><span id="BaseRespModel-104"><a href="#BaseRespModel-104"><span class="linenos">104</span></a>
</span><span id="BaseRespModel-105"><a href="#BaseRespModel-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="n">response_dict</span>
</span></pre></div>


            <div class="docstring"><p>Base model for API responses.</p>

<p>This class extends Pydantic's BaseModel to provide a standard way to convert
response models to Flask-compatible responses. It includes methods for converting
the model to dictionaries and Flask response objects.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model_config</strong>:  Configuration for the Pydantic model</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import BaseRespModel
      from pydantic import Field</p>

      <p>class UserResponse(BaseRespModel):
          ...     id: str = Field(..., description="User ID")
          ...     name: str = Field(..., description="User name")
          ...     email: str = Field(..., description="User email")</p>

      <h1 id="in-your-api-endpoint">In your API endpoint:</h1>

      <p>def get(self):
          ...     # Returns a dictionary that Flask will convert to JSON
          ...     return UserResponse(id="123", name="John Doe", email="john@example.com")</p>

      <h1 id="or-with-a-status-code">Or with a status code:</h1>

      <p>def post(self):
          ...     # Returns a tuple with the dictionary and status code
          ...     return UserResponse(id="123", name="John Doe", email="john@example.com"), 201</p>

      <h1 id="or-use-the-to_response-method">Or use the to_response method:</h1>

      <p>def put(self):
          ...     user = UserResponse(id="123", name="John Doe", email="john@example.com")
          ...     return user.to_response(status_code=200)</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="BaseRespModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span>        =
<input id="BaseRespModel.model_config-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="BaseRespModel.model_config-view-value"></label><span class="default_value">{&#39;populate_by_name&#39;: True, &#39;validate_assignment&#39;: True, &#39;extra&#39;: &#39;ignore&#39;, &#39;arbitrary_types_allowed&#39;: True, &#39;validate_by_alias&#39;: True, &#39;validate_by_name&#39;: True}</span>


    </div>
    <a class="headerlink" href="#BaseRespModel.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                            <div id="BaseRespModel.from_dict" class="classattr">
                                        <input id="BaseRespModel.from_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

                <label class="view-source-button" for="BaseRespModel.from_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BaseRespModel.from_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BaseRespModel.from_dict-52"><a href="#BaseRespModel.from_dict-52"><span class="linenos">52</span></a>    <span class="nd">@classmethod</span>
</span><span id="BaseRespModel.from_dict-53"><a href="#BaseRespModel.from_dict-53"><span class="linenos">53</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="BaseRespModel.from_dict-54"><a href="#BaseRespModel.from_dict-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a model instance from a dictionary.</span>
</span><span id="BaseRespModel.from_dict-55"><a href="#BaseRespModel.from_dict-55"><span class="linenos">55</span></a>
</span><span id="BaseRespModel.from_dict-56"><a href="#BaseRespModel.from_dict-56"><span class="linenos">56</span></a><span class="sd">        :param data: Dictionary containing model data</span>
</span><span id="BaseRespModel.from_dict-57"><a href="#BaseRespModel.from_dict-57"><span class="linenos">57</span></a><span class="sd">        :type data: dict[str, Any]</span>
</span><span id="BaseRespModel.from_dict-58"><a href="#BaseRespModel.from_dict-58"><span class="linenos">58</span></a><span class="sd">        :return: An instance of the model</span>
</span><span id="BaseRespModel.from_dict-59"><a href="#BaseRespModel.from_dict-59"><span class="linenos">59</span></a><span class="sd">        :rtype: T</span>
</span><span id="BaseRespModel.from_dict-60"><a href="#BaseRespModel.from_dict-60"><span class="linenos">60</span></a>
</span><span id="BaseRespModel.from_dict-61"><a href="#BaseRespModel.from_dict-61"><span class="linenos">61</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel.from_dict-62"><a href="#BaseRespModel.from_dict-62"><span class="linenos">62</span></a><span class="sd">            &gt;&gt;&gt; data = {&quot;id&quot;: &quot;123&quot;, &quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john@example.com&quot;}</span>
</span><span id="BaseRespModel.from_dict-63"><a href="#BaseRespModel.from_dict-63"><span class="linenos">63</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse.from_dict(data)</span>
</span><span id="BaseRespModel.from_dict-64"><a href="#BaseRespModel.from_dict-64"><span class="linenos">64</span></a>
</span><span id="BaseRespModel.from_dict-65"><a href="#BaseRespModel.from_dict-65"><span class="linenos">65</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel.from_dict-66"><a href="#BaseRespModel.from_dict-66"><span class="linenos">66</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a model instance from a dictionary.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong>:  Dictionary containing model data</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the model</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>data = {"id": "123", "name": "John Doe", "email": "john@example.com"}
      user = UserResponse.from_dict(data)</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="BaseRespModel.to_dict" class="classattr">
                                        <input id="BaseRespModel.to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="BaseRespModel.to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BaseRespModel.to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BaseRespModel.to_dict-68"><a href="#BaseRespModel.to_dict-68"><span class="linenos">68</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="BaseRespModel.to_dict-69"><a href="#BaseRespModel.to_dict-69"><span class="linenos">69</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the model to a dictionary.</span>
</span><span id="BaseRespModel.to_dict-70"><a href="#BaseRespModel.to_dict-70"><span class="linenos">70</span></a>
</span><span id="BaseRespModel.to_dict-71"><a href="#BaseRespModel.to_dict-71"><span class="linenos">71</span></a><span class="sd">        :return: A dictionary representation of the model</span>
</span><span id="BaseRespModel.to_dict-72"><a href="#BaseRespModel.to_dict-72"><span class="linenos">72</span></a><span class="sd">        :rtype: dict[str, Any]</span>
</span><span id="BaseRespModel.to_dict-73"><a href="#BaseRespModel.to_dict-73"><span class="linenos">73</span></a>
</span><span id="BaseRespModel.to_dict-74"><a href="#BaseRespModel.to_dict-74"><span class="linenos">74</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel.to_dict-75"><a href="#BaseRespModel.to_dict-75"><span class="linenos">75</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel.to_dict-76"><a href="#BaseRespModel.to_dict-76"><span class="linenos">76</span></a><span class="sd">            &gt;&gt;&gt; user_dict = user.to_dict()</span>
</span><span id="BaseRespModel.to_dict-77"><a href="#BaseRespModel.to_dict-77"><span class="linenos">77</span></a><span class="sd">            &gt;&gt;&gt; user_dict</span>
</span><span id="BaseRespModel.to_dict-78"><a href="#BaseRespModel.to_dict-78"><span class="linenos">78</span></a><span class="sd">            {&#39;id&#39;: &#39;123&#39;, &#39;name&#39;: &#39;John Doe&#39;, &#39;email&#39;: &#39;john@example.com&#39;}</span>
</span><span id="BaseRespModel.to_dict-79"><a href="#BaseRespModel.to_dict-79"><span class="linenos">79</span></a>
</span><span id="BaseRespModel.to_dict-80"><a href="#BaseRespModel.to_dict-80"><span class="linenos">80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel.to_dict-81"><a href="#BaseRespModel.to_dict-81"><span class="linenos">81</span></a>        <span class="c1"># Use model_dump with custom encoder for datetime objects</span>
</span><span id="BaseRespModel.to_dict-82"><a href="#BaseRespModel.to_dict-82"><span class="linenos">82</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Convert the model to a dictionary.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A dictionary representation of the model</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>user = UserResponse(id="123", name="John Doe", email="john@example.com")
      user_dict = user.to_dict()
      user_dict
          {'id': '123', 'name': 'John Doe', 'email': 'john@example.com'}</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="BaseRespModel.to_response" class="classattr">
                                        <input id="BaseRespModel.to_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="BaseRespModel.to_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BaseRespModel.to_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BaseRespModel.to_response-84"><a href="#BaseRespModel.to_response-84"><span class="linenos"> 84</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="BaseRespModel.to_response-85"><a href="#BaseRespModel.to_response-85"><span class="linenos"> 85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the model to a Flask-compatible response.</span>
</span><span id="BaseRespModel.to_response-86"><a href="#BaseRespModel.to_response-86"><span class="linenos"> 86</span></a>
</span><span id="BaseRespModel.to_response-87"><a href="#BaseRespModel.to_response-87"><span class="linenos"> 87</span></a><span class="sd">        :param status_code: Optional HTTP status code</span>
</span><span id="BaseRespModel.to_response-88"><a href="#BaseRespModel.to_response-88"><span class="linenos"> 88</span></a><span class="sd">        :type status_code: Optional[int]</span>
</span><span id="BaseRespModel.to_response-89"><a href="#BaseRespModel.to_response-89"><span class="linenos"> 89</span></a><span class="sd">        :return: A Flask-compatible response (dict or tuple with dict and status code)</span>
</span><span id="BaseRespModel.to_response-90"><a href="#BaseRespModel.to_response-90"><span class="linenos"> 90</span></a><span class="sd">        :rtype: Union[dict[str, Any], tuple[dict[str, Any], int]]</span>
</span><span id="BaseRespModel.to_response-91"><a href="#BaseRespModel.to_response-91"><span class="linenos"> 91</span></a>
</span><span id="BaseRespModel.to_response-92"><a href="#BaseRespModel.to_response-92"><span class="linenos"> 92</span></a><span class="sd">        Example:</span>
</span><span id="BaseRespModel.to_response-93"><a href="#BaseRespModel.to_response-93"><span class="linenos"> 93</span></a><span class="sd">            &gt;&gt;&gt; user = UserResponse(id=&quot;123&quot;, name=&quot;John Doe&quot;, email=&quot;john@example.com&quot;)</span>
</span><span id="BaseRespModel.to_response-94"><a href="#BaseRespModel.to_response-94"><span class="linenos"> 94</span></a><span class="sd">            &gt;&gt;&gt; # Without status code</span>
</span><span id="BaseRespModel.to_response-95"><a href="#BaseRespModel.to_response-95"><span class="linenos"> 95</span></a><span class="sd">            &gt;&gt;&gt; response = user.to_response()</span>
</span><span id="BaseRespModel.to_response-96"><a href="#BaseRespModel.to_response-96"><span class="linenos"> 96</span></a><span class="sd">            &gt;&gt;&gt; # With status code</span>
</span><span id="BaseRespModel.to_response-97"><a href="#BaseRespModel.to_response-97"><span class="linenos"> 97</span></a><span class="sd">            &gt;&gt;&gt; response = user.to_response(status_code=201)</span>
</span><span id="BaseRespModel.to_response-98"><a href="#BaseRespModel.to_response-98"><span class="linenos"> 98</span></a>
</span><span id="BaseRespModel.to_response-99"><a href="#BaseRespModel.to_response-99"><span class="linenos"> 99</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BaseRespModel.to_response-100"><a href="#BaseRespModel.to_response-100"><span class="linenos">100</span></a>        <span class="n">response_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="BaseRespModel.to_response-101"><a href="#BaseRespModel.to_response-101"><span class="linenos">101</span></a>
</span><span id="BaseRespModel.to_response-102"><a href="#BaseRespModel.to_response-102"><span class="linenos">102</span></a>        <span class="k">if</span> <span class="n">status_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BaseRespModel.to_response-103"><a href="#BaseRespModel.to_response-103"><span class="linenos">103</span></a>            <span class="k">return</span> <span class="n">response_dict</span><span class="p">,</span> <span class="n">status_code</span>
</span><span id="BaseRespModel.to_response-104"><a href="#BaseRespModel.to_response-104"><span class="linenos">104</span></a>
</span><span id="BaseRespModel.to_response-105"><a href="#BaseRespModel.to_response-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="n">response_dict</span>
</span></pre></div>


            <div class="docstring"><p>Convert the model to a Flask-compatible response.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>status_code</strong>:  Optional HTTP status code</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A Flask-compatible response (dict or tuple with dict and status code)</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>user = UserResponse(id="123", name="John Doe", email="john@example.com")</p>

      <h1 id="without-status-code">Without status code</h1>

      <p>response = user.to_response()</p>

      <h1 id="with-status-code">With status code</h1>

      <p>response = user.to_response(status_code=201)</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                </section>
                <section id="ConventionalPrefixConfig">
                            <input id="ConventionalPrefixConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">ConventionalPrefixConfig</span>:

                <label class="view-source-button" for="ConventionalPrefixConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConventionalPrefixConfig-24"><a href="#ConventionalPrefixConfig-24"><span class="linenos">24</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ConventionalPrefixConfig-25"><a href="#ConventionalPrefixConfig-25"><span class="linenos">25</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ConventionalPrefixConfig</span><span class="p">:</span>
</span><span id="ConventionalPrefixConfig-26"><a href="#ConventionalPrefixConfig-26"><span class="linenos">26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration class for OpenAPI parameter prefixes.</span>
</span><span id="ConventionalPrefixConfig-27"><a href="#ConventionalPrefixConfig-27"><span class="linenos">27</span></a>
</span><span id="ConventionalPrefixConfig-28"><a href="#ConventionalPrefixConfig-28"><span class="linenos">28</span></a><span class="sd">    This class holds configuration settings for parameter prefixes used in</span>
</span><span id="ConventionalPrefixConfig-29"><a href="#ConventionalPrefixConfig-29"><span class="linenos">29</span></a><span class="sd">    binding request data to function parameters.</span>
</span><span id="ConventionalPrefixConfig-30"><a href="#ConventionalPrefixConfig-30"><span class="linenos">30</span></a>
</span><span id="ConventionalPrefixConfig-31"><a href="#ConventionalPrefixConfig-31"><span class="linenos">31</span></a><span class="sd">    :param request_body_prefix: Prefix for request body parameters (default: &quot;_x_body&quot;)</span>
</span><span id="ConventionalPrefixConfig-32"><a href="#ConventionalPrefixConfig-32"><span class="linenos">32</span></a><span class="sd">    :type request_body_prefix: str</span>
</span><span id="ConventionalPrefixConfig-33"><a href="#ConventionalPrefixConfig-33"><span class="linenos">33</span></a><span class="sd">    :param request_query_prefix: Prefix for query parameters (default: &quot;_x_query&quot;)</span>
</span><span id="ConventionalPrefixConfig-34"><a href="#ConventionalPrefixConfig-34"><span class="linenos">34</span></a><span class="sd">    :type request_query_prefix: str</span>
</span><span id="ConventionalPrefixConfig-35"><a href="#ConventionalPrefixConfig-35"><span class="linenos">35</span></a><span class="sd">    :param request_path_prefix: Prefix for path parameters (default: &quot;_x_path&quot;)</span>
</span><span id="ConventionalPrefixConfig-36"><a href="#ConventionalPrefixConfig-36"><span class="linenos">36</span></a><span class="sd">    :type request_path_prefix: str</span>
</span><span id="ConventionalPrefixConfig-37"><a href="#ConventionalPrefixConfig-37"><span class="linenos">37</span></a><span class="sd">    :param request_file_prefix: Prefix for file parameters (default: &quot;_x_file&quot;)</span>
</span><span id="ConventionalPrefixConfig-38"><a href="#ConventionalPrefixConfig-38"><span class="linenos">38</span></a><span class="sd">    :type request_file_prefix: str</span>
</span><span id="ConventionalPrefixConfig-39"><a href="#ConventionalPrefixConfig-39"><span class="linenos">39</span></a><span class="sd">    :param extra_options: Additional configuration options</span>
</span><span id="ConventionalPrefixConfig-40"><a href="#ConventionalPrefixConfig-40"><span class="linenos">40</span></a><span class="sd">    :type extra_options: Dict[str, Any]</span>
</span><span id="ConventionalPrefixConfig-41"><a href="#ConventionalPrefixConfig-41"><span class="linenos">41</span></a>
</span><span id="ConventionalPrefixConfig-42"><a href="#ConventionalPrefixConfig-42"><span class="linenos">42</span></a><span class="sd">    Example:</span>
</span><span id="ConventionalPrefixConfig-43"><a href="#ConventionalPrefixConfig-43"><span class="linenos">43</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import ConventionalPrefixConfig</span>
</span><span id="ConventionalPrefixConfig-44"><a href="#ConventionalPrefixConfig-44"><span class="linenos">44</span></a><span class="sd">        &gt;&gt;&gt; config = ConventionalPrefixConfig(</span>
</span><span id="ConventionalPrefixConfig-45"><a href="#ConventionalPrefixConfig-45"><span class="linenos">45</span></a><span class="sd">        ...     request_body_prefix=&quot;req_body&quot;,</span>
</span><span id="ConventionalPrefixConfig-46"><a href="#ConventionalPrefixConfig-46"><span class="linenos">46</span></a><span class="sd">        ...     request_query_prefix=&quot;req_query&quot;,</span>
</span><span id="ConventionalPrefixConfig-47"><a href="#ConventionalPrefixConfig-47"><span class="linenos">47</span></a><span class="sd">        ...     request_path_prefix=&quot;req_path&quot;,</span>
</span><span id="ConventionalPrefixConfig-48"><a href="#ConventionalPrefixConfig-48"><span class="linenos">48</span></a><span class="sd">        ...     request_file_prefix=&quot;req_file&quot;,</span>
</span><span id="ConventionalPrefixConfig-49"><a href="#ConventionalPrefixConfig-49"><span class="linenos">49</span></a><span class="sd">        ... )</span>
</span><span id="ConventionalPrefixConfig-50"><a href="#ConventionalPrefixConfig-50"><span class="linenos">50</span></a>
</span><span id="ConventionalPrefixConfig-51"><a href="#ConventionalPrefixConfig-51"><span class="linenos">51</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ConventionalPrefixConfig-52"><a href="#ConventionalPrefixConfig-52"><span class="linenos">52</span></a>
</span><span id="ConventionalPrefixConfig-53"><a href="#ConventionalPrefixConfig-53"><span class="linenos">53</span></a>    <span class="n">request_body_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_BODY_PREFIX</span>
</span><span id="ConventionalPrefixConfig-54"><a href="#ConventionalPrefixConfig-54"><span class="linenos">54</span></a>    <span class="n">request_query_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_QUERY_PREFIX</span>
</span><span id="ConventionalPrefixConfig-55"><a href="#ConventionalPrefixConfig-55"><span class="linenos">55</span></a>    <span class="n">request_path_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_PATH_PREFIX</span>
</span><span id="ConventionalPrefixConfig-56"><a href="#ConventionalPrefixConfig-56"><span class="linenos">56</span></a>    <span class="n">request_file_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_FILE_PREFIX</span>
</span><span id="ConventionalPrefixConfig-57"><a href="#ConventionalPrefixConfig-57"><span class="linenos">57</span></a>    <span class="n">extra_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configuration class for OpenAPI parameter prefixes.</p>

<p>This class holds configuration settings for parameter prefixes used in
binding request data to function parameters.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>request_body_prefix: Prefix for request body parameters (default</strong>:  "_x_body")</li>
<li><strong>request_query_prefix: Prefix for query parameters (default</strong>:  "_x_query")</li>
<li><strong>request_path_prefix: Prefix for path parameters (default</strong>:  "_x_path")</li>
<li><strong>request_file_prefix: Prefix for file parameters (default</strong>:  "_x_file")</li>
<li><strong>extra_options</strong>:  Additional configuration options</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import ConventionalPrefixConfig
      config = ConventionalPrefixConfig(
          ...     request_body_prefix="req_body",
          ...     request_query_prefix="req_query",
          ...     request_path_prefix="req_path",
          ...     request_file_prefix="req_file",
          ... )</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="ConventionalPrefixConfig.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">ConventionalPrefixConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">request_body_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;_x_body&#39;</span>,</span><span class="param">	<span class="n">request_query_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;_x_query&#39;</span>,</span><span class="param">	<span class="n">request_path_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;_x_path&#39;</span>,</span><span class="param">	<span class="n">request_file_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;_x_file&#39;</span>,</span><span class="param">	<span class="n">extra_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">factory</span><span class="o">&gt;</span></span>)</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.__init__"></a>



                            </div>
                            <div id="ConventionalPrefixConfig.request_body_prefix" class="classattr">
                                <div class="attr variable">
            <span class="name">request_body_prefix</span><span class="annotation">: str</span>        =
<span class="default_value">&#39;_x_body&#39;</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.request_body_prefix"></a>



                            </div>
                            <div id="ConventionalPrefixConfig.request_query_prefix" class="classattr">
                                <div class="attr variable">
            <span class="name">request_query_prefix</span><span class="annotation">: str</span>        =
<span class="default_value">&#39;_x_query&#39;</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.request_query_prefix"></a>



                            </div>
                            <div id="ConventionalPrefixConfig.request_path_prefix" class="classattr">
                                <div class="attr variable">
            <span class="name">request_path_prefix</span><span class="annotation">: str</span>        =
<span class="default_value">&#39;_x_path&#39;</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.request_path_prefix"></a>



                            </div>
                            <div id="ConventionalPrefixConfig.request_file_prefix" class="classattr">
                                <div class="attr variable">
            <span class="name">request_file_prefix</span><span class="annotation">: str</span>        =
<span class="default_value">&#39;_x_file&#39;</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.request_file_prefix"></a>



                            </div>
                            <div id="ConventionalPrefixConfig.extra_options" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_options</span><span class="annotation">: dict[str, typing.Any]</span>


    </div>
    <a class="headerlink" href="#ConventionalPrefixConfig.extra_options"></a>



                            </div>
                </section>
                <section id="DocumentUploadModel">
                            <input id="DocumentUploadModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">DocumentUploadModel</span><wbr>(<span class="base"><a href="#FileUploadModel">flask_x_openapi_schema.FileUploadModel</a></span>):

                <label class="view-source-button" for="DocumentUploadModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocumentUploadModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocumentUploadModel-195"><a href="#DocumentUploadModel-195"><span class="linenos">195</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DocumentUploadModel</span><span class="p">(</span><span class="n">FileUploadModel</span><span class="p">):</span>
</span><span id="DocumentUploadModel-196"><a href="#DocumentUploadModel-196"><span class="linenos">196</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Model for document file uploads with validation.&quot;&quot;&quot;</span>
</span><span id="DocumentUploadModel-197"><a href="#DocumentUploadModel-197"><span class="linenos">197</span></a>
</span><span id="DocumentUploadModel-198"><a href="#DocumentUploadModel-198"><span class="linenos">198</span></a>    <span class="n">file</span><span class="p">:</span> <span class="n">FileStorage</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The uploaded document file&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel-199"><a href="#DocumentUploadModel-199"><span class="linenos">199</span></a>    <span class="n">allowed_extensions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
</span><span id="DocumentUploadModel-200"><a href="#DocumentUploadModel-200"><span class="linenos">200</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="s2">&quot;docx&quot;</span><span class="p">,</span> <span class="s2">&quot;txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rtf&quot;</span><span class="p">,</span> <span class="s2">&quot;md&quot;</span><span class="p">],</span>
</span><span id="DocumentUploadModel-201"><a href="#DocumentUploadModel-201"><span class="linenos">201</span></a>        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Allowed file extensions&quot;</span><span class="p">,</span>
</span><span id="DocumentUploadModel-202"><a href="#DocumentUploadModel-202"><span class="linenos">202</span></a>    <span class="p">)</span>
</span><span id="DocumentUploadModel-203"><a href="#DocumentUploadModel-203"><span class="linenos">203</span></a>    <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Maximum file size in bytes&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel-204"><a href="#DocumentUploadModel-204"><span class="linenos">204</span></a>
</span><span id="DocumentUploadModel-205"><a href="#DocumentUploadModel-205"><span class="linenos">205</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel-206"><a href="#DocumentUploadModel-206"><span class="linenos">206</span></a>    <span class="nd">@classmethod</span>
</span><span id="DocumentUploadModel-207"><a href="#DocumentUploadModel-207"><span class="linenos">207</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_document_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">FileStorage</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="DocumentUploadModel-208"><a href="#DocumentUploadModel-208"><span class="linenos">208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is a document with allowed extension and size.&quot;&quot;&quot;</span>
</span><span id="DocumentUploadModel-209"><a href="#DocumentUploadModel-209"><span class="linenos">209</span></a>        <span class="c1"># Get values from info.data</span>
</span><span id="DocumentUploadModel-210"><a href="#DocumentUploadModel-210"><span class="linenos">210</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span>
</span><span id="DocumentUploadModel-211"><a href="#DocumentUploadModel-211"><span class="linenos">211</span></a>        <span class="c1"># Check if it&#39;s a valid file</span>
</span><span id="DocumentUploadModel-212"><a href="#DocumentUploadModel-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="DocumentUploadModel-213"><a href="#DocumentUploadModel-213"><span class="linenos">213</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No file provided&quot;</span>
</span><span id="DocumentUploadModel-214"><a href="#DocumentUploadModel-214"><span class="linenos">214</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="DocumentUploadModel-215"><a href="#DocumentUploadModel-215"><span class="linenos">215</span></a>
</span><span id="DocumentUploadModel-216"><a href="#DocumentUploadModel-216"><span class="linenos">216</span></a>        <span class="c1"># Check file extension</span>
</span><span id="DocumentUploadModel-217"><a href="#DocumentUploadModel-217"><span class="linenos">217</span></a>        <span class="n">allowed_extensions</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allowed_extensions&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="s2">&quot;docx&quot;</span><span class="p">,</span> <span class="s2">&quot;txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rtf&quot;</span><span class="p">,</span> <span class="s2">&quot;md&quot;</span><span class="p">])</span>
</span><span id="DocumentUploadModel-218"><a href="#DocumentUploadModel-218"><span class="linenos">218</span></a>        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="DocumentUploadModel-219"><a href="#DocumentUploadModel-219"><span class="linenos">219</span></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="DocumentUploadModel-220"><a href="#DocumentUploadModel-220"><span class="linenos">220</span></a>            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_extensions</span><span class="p">:</span>
</span><span id="DocumentUploadModel-221"><a href="#DocumentUploadModel-221"><span class="linenos">221</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File extension &#39;</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&#39; not allowed. Allowed extensions: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_extensions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DocumentUploadModel-222"><a href="#DocumentUploadModel-222"><span class="linenos">222</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="DocumentUploadModel-223"><a href="#DocumentUploadModel-223"><span class="linenos">223</span></a>                    <span class="n">msg</span><span class="p">,</span>
</span><span id="DocumentUploadModel-224"><a href="#DocumentUploadModel-224"><span class="linenos">224</span></a>                <span class="p">)</span>
</span><span id="DocumentUploadModel-225"><a href="#DocumentUploadModel-225"><span class="linenos">225</span></a>
</span><span id="DocumentUploadModel-226"><a href="#DocumentUploadModel-226"><span class="linenos">226</span></a>        <span class="c1"># Check file size if max_size is specified</span>
</span><span id="DocumentUploadModel-227"><a href="#DocumentUploadModel-227"><span class="linenos">227</span></a>        <span class="n">max_size</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_size&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel-228"><a href="#DocumentUploadModel-228"><span class="linenos">228</span></a>        <span class="k">if</span> <span class="n">max_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocumentUploadModel-229"><a href="#DocumentUploadModel-229"><span class="linenos">229</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Seek to the end of the file</span>
</span><span id="DocumentUploadModel-230"><a href="#DocumentUploadModel-230"><span class="linenos">230</span></a>            <span class="n">size</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>  <span class="c1"># Get the position (size)</span>
</span><span id="DocumentUploadModel-231"><a href="#DocumentUploadModel-231"><span class="linenos">231</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rewind to the beginning</span>
</span><span id="DocumentUploadModel-232"><a href="#DocumentUploadModel-232"><span class="linenos">232</span></a>
</span><span id="DocumentUploadModel-233"><a href="#DocumentUploadModel-233"><span class="linenos">233</span></a>            <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="n">max_size</span><span class="p">:</span>
</span><span id="DocumentUploadModel-234"><a href="#DocumentUploadModel-234"><span class="linenos">234</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File size (</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes) exceeds maximum allowed size (</span><span class="si">{</span><span class="n">max_size</span><span class="si">}</span><span class="s2"> bytes)&quot;</span>
</span><span id="DocumentUploadModel-235"><a href="#DocumentUploadModel-235"><span class="linenos">235</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="DocumentUploadModel-236"><a href="#DocumentUploadModel-236"><span class="linenos">236</span></a>
</span><span id="DocumentUploadModel-237"><a href="#DocumentUploadModel-237"><span class="linenos">237</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Model for document file uploads with validation.</p>
</div>


                            <div id="DocumentUploadModel.file" class="classattr">
                                <div class="attr variable">
            <span class="name">file</span><span class="annotation">: werkzeug.datastructures.file_storage.FileStorage</span>


    </div>
    <a class="headerlink" href="#DocumentUploadModel.file"></a>



                            </div>
                            <div id="DocumentUploadModel.allowed_extensions" class="classattr">
                                <div class="attr variable">
            <span class="name">allowed_extensions</span><span class="annotation">: list[str]</span>


    </div>
    <a class="headerlink" href="#DocumentUploadModel.allowed_extensions"></a>



                            </div>
                            <div id="DocumentUploadModel.max_size" class="classattr">
                                <div class="attr variable">
            <span class="name">max_size</span><span class="annotation">: int | None</span>


    </div>
    <a class="headerlink" href="#DocumentUploadModel.max_size"></a>



                            </div>
                            <div id="DocumentUploadModel.validate_document_file" class="classattr">
                                        <input id="DocumentUploadModel.validate_document_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-field_validator">@field_validator(&#39;file&#39;)</div>
        <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">validate_document_file</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">v</span><span class="p">:</span> <span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span>,</span><span class="param">	<span class="n">info</span></span><span class="return-annotation">) -> <span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span>:</span></span>

                <label class="view-source-button" for="DocumentUploadModel.validate_document_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocumentUploadModel.validate_document_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocumentUploadModel.validate_document_file-205"><a href="#DocumentUploadModel.validate_document_file-205"><span class="linenos">205</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel.validate_document_file-206"><a href="#DocumentUploadModel.validate_document_file-206"><span class="linenos">206</span></a>    <span class="nd">@classmethod</span>
</span><span id="DocumentUploadModel.validate_document_file-207"><a href="#DocumentUploadModel.validate_document_file-207"><span class="linenos">207</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_document_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">FileStorage</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="DocumentUploadModel.validate_document_file-208"><a href="#DocumentUploadModel.validate_document_file-208"><span class="linenos">208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is a document with allowed extension and size.&quot;&quot;&quot;</span>
</span><span id="DocumentUploadModel.validate_document_file-209"><a href="#DocumentUploadModel.validate_document_file-209"><span class="linenos">209</span></a>        <span class="c1"># Get values from info.data</span>
</span><span id="DocumentUploadModel.validate_document_file-210"><a href="#DocumentUploadModel.validate_document_file-210"><span class="linenos">210</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span>
</span><span id="DocumentUploadModel.validate_document_file-211"><a href="#DocumentUploadModel.validate_document_file-211"><span class="linenos">211</span></a>        <span class="c1"># Check if it&#39;s a valid file</span>
</span><span id="DocumentUploadModel.validate_document_file-212"><a href="#DocumentUploadModel.validate_document_file-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="DocumentUploadModel.validate_document_file-213"><a href="#DocumentUploadModel.validate_document_file-213"><span class="linenos">213</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No file provided&quot;</span>
</span><span id="DocumentUploadModel.validate_document_file-214"><a href="#DocumentUploadModel.validate_document_file-214"><span class="linenos">214</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="DocumentUploadModel.validate_document_file-215"><a href="#DocumentUploadModel.validate_document_file-215"><span class="linenos">215</span></a>
</span><span id="DocumentUploadModel.validate_document_file-216"><a href="#DocumentUploadModel.validate_document_file-216"><span class="linenos">216</span></a>        <span class="c1"># Check file extension</span>
</span><span id="DocumentUploadModel.validate_document_file-217"><a href="#DocumentUploadModel.validate_document_file-217"><span class="linenos">217</span></a>        <span class="n">allowed_extensions</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allowed_extensions&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="s2">&quot;docx&quot;</span><span class="p">,</span> <span class="s2">&quot;txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rtf&quot;</span><span class="p">,</span> <span class="s2">&quot;md&quot;</span><span class="p">])</span>
</span><span id="DocumentUploadModel.validate_document_file-218"><a href="#DocumentUploadModel.validate_document_file-218"><span class="linenos">218</span></a>        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="DocumentUploadModel.validate_document_file-219"><a href="#DocumentUploadModel.validate_document_file-219"><span class="linenos">219</span></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="DocumentUploadModel.validate_document_file-220"><a href="#DocumentUploadModel.validate_document_file-220"><span class="linenos">220</span></a>            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_extensions</span><span class="p">:</span>
</span><span id="DocumentUploadModel.validate_document_file-221"><a href="#DocumentUploadModel.validate_document_file-221"><span class="linenos">221</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File extension &#39;</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&#39; not allowed. Allowed extensions: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_extensions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DocumentUploadModel.validate_document_file-222"><a href="#DocumentUploadModel.validate_document_file-222"><span class="linenos">222</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="DocumentUploadModel.validate_document_file-223"><a href="#DocumentUploadModel.validate_document_file-223"><span class="linenos">223</span></a>                    <span class="n">msg</span><span class="p">,</span>
</span><span id="DocumentUploadModel.validate_document_file-224"><a href="#DocumentUploadModel.validate_document_file-224"><span class="linenos">224</span></a>                <span class="p">)</span>
</span><span id="DocumentUploadModel.validate_document_file-225"><a href="#DocumentUploadModel.validate_document_file-225"><span class="linenos">225</span></a>
</span><span id="DocumentUploadModel.validate_document_file-226"><a href="#DocumentUploadModel.validate_document_file-226"><span class="linenos">226</span></a>        <span class="c1"># Check file size if max_size is specified</span>
</span><span id="DocumentUploadModel.validate_document_file-227"><a href="#DocumentUploadModel.validate_document_file-227"><span class="linenos">227</span></a>        <span class="n">max_size</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_size&quot;</span><span class="p">)</span>
</span><span id="DocumentUploadModel.validate_document_file-228"><a href="#DocumentUploadModel.validate_document_file-228"><span class="linenos">228</span></a>        <span class="k">if</span> <span class="n">max_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocumentUploadModel.validate_document_file-229"><a href="#DocumentUploadModel.validate_document_file-229"><span class="linenos">229</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Seek to the end of the file</span>
</span><span id="DocumentUploadModel.validate_document_file-230"><a href="#DocumentUploadModel.validate_document_file-230"><span class="linenos">230</span></a>            <span class="n">size</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>  <span class="c1"># Get the position (size)</span>
</span><span id="DocumentUploadModel.validate_document_file-231"><a href="#DocumentUploadModel.validate_document_file-231"><span class="linenos">231</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rewind to the beginning</span>
</span><span id="DocumentUploadModel.validate_document_file-232"><a href="#DocumentUploadModel.validate_document_file-232"><span class="linenos">232</span></a>
</span><span id="DocumentUploadModel.validate_document_file-233"><a href="#DocumentUploadModel.validate_document_file-233"><span class="linenos">233</span></a>            <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="n">max_size</span><span class="p">:</span>
</span><span id="DocumentUploadModel.validate_document_file-234"><a href="#DocumentUploadModel.validate_document_file-234"><span class="linenos">234</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File size (</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes) exceeds maximum allowed size (</span><span class="si">{</span><span class="n">max_size</span><span class="si">}</span><span class="s2"> bytes)&quot;</span>
</span><span id="DocumentUploadModel.validate_document_file-235"><a href="#DocumentUploadModel.validate_document_file-235"><span class="linenos">235</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="DocumentUploadModel.validate_document_file-236"><a href="#DocumentUploadModel.validate_document_file-236"><span class="linenos">236</span></a>
</span><span id="DocumentUploadModel.validate_document_file-237"><a href="#DocumentUploadModel.validate_document_file-237"><span class="linenos">237</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Validate that the file is a document with allowed extension and size.</p>
</div>


                            </div>
                            <div id="DocumentUploadModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True, &#39;json_schema_extra&#39;: {&#39;multipart/form-data&#39;: True}}</span>


    </div>
    <a class="headerlink" href="#DocumentUploadModel.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                </section>
                <section id="FileUploadModel">
                            <input id="FileUploadModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">FileUploadModel</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="FileUploadModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileUploadModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileUploadModel-89"><a href="#FileUploadModel-89"><span class="linenos"> 89</span></a><span class="k">class</span><span class="w"> </span><span class="nc">FileUploadModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="FileUploadModel-90"><a href="#FileUploadModel-90"><span class="linenos"> 90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model for file uploads.</span>
</span><span id="FileUploadModel-91"><a href="#FileUploadModel-91"><span class="linenos"> 91</span></a>
</span><span id="FileUploadModel-92"><a href="#FileUploadModel-92"><span class="linenos"> 92</span></a><span class="sd">    This model provides a structured way to handle file uploads with validation.</span>
</span><span id="FileUploadModel-93"><a href="#FileUploadModel-93"><span class="linenos"> 93</span></a><span class="sd">    It automatically validates that the uploaded file is a valid FileStorage instance.</span>
</span><span id="FileUploadModel-94"><a href="#FileUploadModel-94"><span class="linenos"> 94</span></a>
</span><span id="FileUploadModel-95"><a href="#FileUploadModel-95"><span class="linenos"> 95</span></a><span class="sd">    :param file: The uploaded file</span>
</span><span id="FileUploadModel-96"><a href="#FileUploadModel-96"><span class="linenos"> 96</span></a><span class="sd">    :type file: FileStorage</span>
</span><span id="FileUploadModel-97"><a href="#FileUploadModel-97"><span class="linenos"> 97</span></a>
</span><span id="FileUploadModel-98"><a href="#FileUploadModel-98"><span class="linenos"> 98</span></a><span class="sd">    Example:</span>
</span><span id="FileUploadModel-99"><a href="#FileUploadModel-99"><span class="linenos"> 99</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import FileUploadModel</span>
</span><span id="FileUploadModel-100"><a href="#FileUploadModel-100"><span class="linenos">100</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="FileUploadModel-101"><a href="#FileUploadModel-101"><span class="linenos">101</span></a><span class="sd">        &gt;&gt;&gt; @openapi_metadata(summary=&quot;Upload a file&quot;)</span>
</span><span id="FileUploadModel-102"><a href="#FileUploadModel-102"><span class="linenos">102</span></a><span class="sd">        &gt;&gt;&gt; def post(self, _x_file: FileUploadModel):</span>
</span><span id="FileUploadModel-103"><a href="#FileUploadModel-103"><span class="linenos">103</span></a><span class="sd">        ...     # File is automatically injected and validated</span>
</span><span id="FileUploadModel-104"><a href="#FileUploadModel-104"><span class="linenos">104</span></a><span class="sd">        ...     return {&quot;filename&quot;: _x_file.file.filename}</span>
</span><span id="FileUploadModel-105"><a href="#FileUploadModel-105"><span class="linenos">105</span></a>
</span><span id="FileUploadModel-106"><a href="#FileUploadModel-106"><span class="linenos">106</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="FileUploadModel-107"><a href="#FileUploadModel-107"><span class="linenos">107</span></a>
</span><span id="FileUploadModel-108"><a href="#FileUploadModel-108"><span class="linenos">108</span></a>    <span class="n">file</span><span class="p">:</span> <span class="n">FileStorage</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The uploaded file&quot;</span><span class="p">)</span>
</span><span id="FileUploadModel-109"><a href="#FileUploadModel-109"><span class="linenos">109</span></a>
</span><span id="FileUploadModel-110"><a href="#FileUploadModel-110"><span class="linenos">110</span></a>    <span class="c1"># Allow arbitrary types for FileStorage</span>
</span><span id="FileUploadModel-111"><a href="#FileUploadModel-111"><span class="linenos">111</span></a>    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">json_schema_extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;multipart/form-data&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</span><span id="FileUploadModel-112"><a href="#FileUploadModel-112"><span class="linenos">112</span></a>
</span><span id="FileUploadModel-113"><a href="#FileUploadModel-113"><span class="linenos">113</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="FileUploadModel-114"><a href="#FileUploadModel-114"><span class="linenos">114</span></a>    <span class="nd">@classmethod</span>
</span><span id="FileUploadModel-115"><a href="#FileUploadModel-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>
</span><span id="FileUploadModel-116"><a href="#FileUploadModel-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is a FileStorage instance.</span>
</span><span id="FileUploadModel-117"><a href="#FileUploadModel-117"><span class="linenos">117</span></a>
</span><span id="FileUploadModel-118"><a href="#FileUploadModel-118"><span class="linenos">118</span></a><span class="sd">        :param v: The value to validate</span>
</span><span id="FileUploadModel-119"><a href="#FileUploadModel-119"><span class="linenos">119</span></a><span class="sd">        :type v: Any</span>
</span><span id="FileUploadModel-120"><a href="#FileUploadModel-120"><span class="linenos">120</span></a><span class="sd">        :return: The validated FileStorage instance</span>
</span><span id="FileUploadModel-121"><a href="#FileUploadModel-121"><span class="linenos">121</span></a><span class="sd">        :rtype: FileStorage</span>
</span><span id="FileUploadModel-122"><a href="#FileUploadModel-122"><span class="linenos">122</span></a><span class="sd">        :raises ValueError: If the value is not a FileStorage instance</span>
</span><span id="FileUploadModel-123"><a href="#FileUploadModel-123"><span class="linenos">123</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileUploadModel-124"><a href="#FileUploadModel-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">FileStorage</span><span class="p">):</span>
</span><span id="FileUploadModel-125"><a href="#FileUploadModel-125"><span class="linenos">125</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Not a valid file upload&quot;</span>
</span><span id="FileUploadModel-126"><a href="#FileUploadModel-126"><span class="linenos">126</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="FileUploadModel-127"><a href="#FileUploadModel-127"><span class="linenos">127</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Base model for file uploads.</p>

<p>This model provides a structured way to handle file uploads with validation.
It automatically validates that the uploaded file is a valid FileStorage instance.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file</strong>:  The uploaded file</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import FileUploadModel</p>

      <p>@openapi_metadata(summary="Upload a file")
      def post(self, _x_file: FileUploadModel):
          ...     # File is automatically injected and validated
          ...     return {"filename": _x_file.file.filename}</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="FileUploadModel.file" class="classattr">
                                <div class="attr variable">
            <span class="name">file</span><span class="annotation">: werkzeug.datastructures.file_storage.FileStorage</span>


    </div>
    <a class="headerlink" href="#FileUploadModel.file"></a>



                            </div>
                            <div id="FileUploadModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True, &#39;json_schema_extra&#39;: {&#39;multipart/form-data&#39;: True}}</span>


    </div>
    <a class="headerlink" href="#FileUploadModel.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                            <div id="FileUploadModel.validate_file" class="classattr">
                                        <input id="FileUploadModel.validate_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-field_validator">@field_validator(&#39;file&#39;)</div>
        <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">validate_file</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">v</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span>:</span></span>

                <label class="view-source-button" for="FileUploadModel.validate_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileUploadModel.validate_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileUploadModel.validate_file-113"><a href="#FileUploadModel.validate_file-113"><span class="linenos">113</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="FileUploadModel.validate_file-114"><a href="#FileUploadModel.validate_file-114"><span class="linenos">114</span></a>    <span class="nd">@classmethod</span>
</span><span id="FileUploadModel.validate_file-115"><a href="#FileUploadModel.validate_file-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>
</span><span id="FileUploadModel.validate_file-116"><a href="#FileUploadModel.validate_file-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is a FileStorage instance.</span>
</span><span id="FileUploadModel.validate_file-117"><a href="#FileUploadModel.validate_file-117"><span class="linenos">117</span></a>
</span><span id="FileUploadModel.validate_file-118"><a href="#FileUploadModel.validate_file-118"><span class="linenos">118</span></a><span class="sd">        :param v: The value to validate</span>
</span><span id="FileUploadModel.validate_file-119"><a href="#FileUploadModel.validate_file-119"><span class="linenos">119</span></a><span class="sd">        :type v: Any</span>
</span><span id="FileUploadModel.validate_file-120"><a href="#FileUploadModel.validate_file-120"><span class="linenos">120</span></a><span class="sd">        :return: The validated FileStorage instance</span>
</span><span id="FileUploadModel.validate_file-121"><a href="#FileUploadModel.validate_file-121"><span class="linenos">121</span></a><span class="sd">        :rtype: FileStorage</span>
</span><span id="FileUploadModel.validate_file-122"><a href="#FileUploadModel.validate_file-122"><span class="linenos">122</span></a><span class="sd">        :raises ValueError: If the value is not a FileStorage instance</span>
</span><span id="FileUploadModel.validate_file-123"><a href="#FileUploadModel.validate_file-123"><span class="linenos">123</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileUploadModel.validate_file-124"><a href="#FileUploadModel.validate_file-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">FileStorage</span><span class="p">):</span>
</span><span id="FileUploadModel.validate_file-125"><a href="#FileUploadModel.validate_file-125"><span class="linenos">125</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Not a valid file upload&quot;</span>
</span><span id="FileUploadModel.validate_file-126"><a href="#FileUploadModel.validate_file-126"><span class="linenos">126</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="FileUploadModel.validate_file-127"><a href="#FileUploadModel.validate_file-127"><span class="linenos">127</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Validate that the file is a FileStorage instance.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>v</strong>:  The value to validate</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The validated FileStorage instance</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>:  If the value is not a FileStorage instance</li>
</ul>
</div>


                            </div>
                </section>
                <section id="I18nStr">
                            <input id="I18nStr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">I18nStr</span>:

                <label class="view-source-button" for="I18nStr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#I18nStr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="I18nStr-49"><a href="#I18nStr-49"><span class="linenos"> 49</span></a><span class="k">class</span><span class="w"> </span><span class="nc">I18nStr</span><span class="p">:</span>
</span><span id="I18nStr-50"><a href="#I18nStr-50"><span class="linenos"> 50</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A string class that supports internationalization.</span>
</span><span id="I18nStr-51"><a href="#I18nStr-51"><span class="linenos"> 51</span></a>
</span><span id="I18nStr-52"><a href="#I18nStr-52"><span class="linenos"> 52</span></a><span class="sd">    This class allows you to define strings in multiple languages and automatically</span>
</span><span id="I18nStr-53"><a href="#I18nStr-53"><span class="linenos"> 53</span></a><span class="sd">    returns the appropriate string based on the current language setting.</span>
</span><span id="I18nStr-54"><a href="#I18nStr-54"><span class="linenos"> 54</span></a>
</span><span id="I18nStr-55"><a href="#I18nStr-55"><span class="linenos"> 55</span></a><span class="sd">    :param strings: Either a dictionary mapping language codes to strings, or a single string</span>
</span><span id="I18nStr-56"><a href="#I18nStr-56"><span class="linenos"> 56</span></a><span class="sd">    :type strings: Union[dict[str, str], str]</span>
</span><span id="I18nStr-57"><a href="#I18nStr-57"><span class="linenos"> 57</span></a><span class="sd">    :param default_language: The default language to use if the requested language is not available</span>
</span><span id="I18nStr-58"><a href="#I18nStr-58"><span class="linenos"> 58</span></a><span class="sd">    :type default_language: str</span>
</span><span id="I18nStr-59"><a href="#I18nStr-59"><span class="linenos"> 59</span></a>
</span><span id="I18nStr-60"><a href="#I18nStr-60"><span class="linenos"> 60</span></a><span class="sd">    Example:</span>
</span><span id="I18nStr-61"><a href="#I18nStr-61"><span class="linenos"> 61</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import I18nStr</span>
</span><span id="I18nStr-62"><a href="#I18nStr-62"><span class="linenos"> 62</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="I18nStr-63"><a href="#I18nStr-63"><span class="linenos"> 63</span></a><span class="sd">        &gt;&gt;&gt; # Create an I18nStr with multiple language versions</span>
</span><span id="I18nStr-64"><a href="#I18nStr-64"><span class="linenos"> 64</span></a><span class="sd">        &gt;&gt;&gt; greeting = I18nStr({&quot;en-US&quot;: &quot;Hello&quot;, &quot;zh-Hans&quot;: &quot;你好&quot;, &quot;ja-JP&quot;: &quot;こんにちは&quot;})</span>
</span><span id="I18nStr-65"><a href="#I18nStr-65"><span class="linenos"> 65</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="I18nStr-66"><a href="#I18nStr-66"><span class="linenos"> 66</span></a><span class="sd">        &gt;&gt;&gt; # Get the string in the current language</span>
</span><span id="I18nStr-67"><a href="#I18nStr-67"><span class="linenos"> 67</span></a><span class="sd">        &gt;&gt;&gt; str(greeting)  # Outputs the greeting in the current language</span>
</span><span id="I18nStr-68"><a href="#I18nStr-68"><span class="linenos"> 68</span></a><span class="sd">        &#39;Hello&#39;</span>
</span><span id="I18nStr-69"><a href="#I18nStr-69"><span class="linenos"> 69</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="I18nStr-70"><a href="#I18nStr-70"><span class="linenos"> 70</span></a><span class="sd">        &gt;&gt;&gt; # Get the string in a specific language</span>
</span><span id="I18nStr-71"><a href="#I18nStr-71"><span class="linenos"> 71</span></a><span class="sd">        &gt;&gt;&gt; greeting.get(&quot;zh-Hans&quot;)</span>
</span><span id="I18nStr-72"><a href="#I18nStr-72"><span class="linenos"> 72</span></a><span class="sd">        &#39;你好&#39;</span>
</span><span id="I18nStr-73"><a href="#I18nStr-73"><span class="linenos"> 73</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="I18nStr-74"><a href="#I18nStr-74"><span class="linenos"> 74</span></a><span class="sd">        &gt;&gt;&gt; # Use in OpenAPI metadata</span>
</span><span id="I18nStr-75"><a href="#I18nStr-75"><span class="linenos"> 75</span></a><span class="sd">        &gt;&gt;&gt; @openapi_metadata(</span>
</span><span id="I18nStr-76"><a href="#I18nStr-76"><span class="linenos"> 76</span></a><span class="sd">        ...     summary=I18nStr({</span>
</span><span id="I18nStr-77"><a href="#I18nStr-77"><span class="linenos"> 77</span></a><span class="sd">        ...         &quot;en-US&quot;: &quot;Get an item&quot;,</span>
</span><span id="I18nStr-78"><a href="#I18nStr-78"><span class="linenos"> 78</span></a><span class="sd">        ...         &quot;zh-Hans&quot;: &quot;获取一个项目&quot;</span>
</span><span id="I18nStr-79"><a href="#I18nStr-79"><span class="linenos"> 79</span></a><span class="sd">        ...     })</span>
</span><span id="I18nStr-80"><a href="#I18nStr-80"><span class="linenos"> 80</span></a><span class="sd">        ... )</span>
</span><span id="I18nStr-81"><a href="#I18nStr-81"><span class="linenos"> 81</span></a><span class="sd">        &gt;&gt;&gt; def get(self, item_id):</span>
</span><span id="I18nStr-82"><a href="#I18nStr-82"><span class="linenos"> 82</span></a><span class="sd">        ...     pass</span>
</span><span id="I18nStr-83"><a href="#I18nStr-83"><span class="linenos"> 83</span></a>
</span><span id="I18nStr-84"><a href="#I18nStr-84"><span class="linenos"> 84</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="I18nStr-85"><a href="#I18nStr-85"><span class="linenos"> 85</span></a>
</span><span id="I18nStr-86"><a href="#I18nStr-86"><span class="linenos"> 86</span></a>    <span class="nd">@classmethod</span>
</span><span id="I18nStr-87"><a href="#I18nStr-87"><span class="linenos"> 87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">__get_pydantic_core_schema__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">_source_type</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">_handler</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoreSchema</span><span class="p">:</span>
</span><span id="I18nStr-88"><a href="#I18nStr-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a pydantic core schema for I18nString.&quot;&quot;&quot;</span>
</span><span id="I18nStr-89"><a href="#I18nStr-89"><span class="linenos"> 89</span></a>        <span class="k">return</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">is_instance_schema</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="I18nStr-90"><a href="#I18nStr-90"><span class="linenos"> 90</span></a>
</span><span id="I18nStr-91"><a href="#I18nStr-91"><span class="linenos"> 91</span></a>    <span class="c1"># Default supported languages</span>
</span><span id="I18nStr-92"><a href="#I18nStr-92"><span class="linenos"> 92</span></a>    <span class="n">SUPPORTED_LANGUAGES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="I18nStr-93"><a href="#I18nStr-93"><span class="linenos"> 93</span></a>        <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
</span><span id="I18nStr-94"><a href="#I18nStr-94"><span class="linenos"> 94</span></a>        <span class="s2">&quot;zh-Hans&quot;</span><span class="p">,</span>
</span><span id="I18nStr-95"><a href="#I18nStr-95"><span class="linenos"> 95</span></a>        <span class="s2">&quot;zh-Hant&quot;</span><span class="p">,</span>
</span><span id="I18nStr-96"><a href="#I18nStr-96"><span class="linenos"> 96</span></a>        <span class="s2">&quot;pt-BR&quot;</span><span class="p">,</span>
</span><span id="I18nStr-97"><a href="#I18nStr-97"><span class="linenos"> 97</span></a>        <span class="s2">&quot;es-ES&quot;</span><span class="p">,</span>
</span><span id="I18nStr-98"><a href="#I18nStr-98"><span class="linenos"> 98</span></a>        <span class="s2">&quot;fr-FR&quot;</span><span class="p">,</span>
</span><span id="I18nStr-99"><a href="#I18nStr-99"><span class="linenos"> 99</span></a>        <span class="s2">&quot;de-DE&quot;</span><span class="p">,</span>
</span><span id="I18nStr-100"><a href="#I18nStr-100"><span class="linenos">100</span></a>        <span class="s2">&quot;ja-JP&quot;</span><span class="p">,</span>
</span><span id="I18nStr-101"><a href="#I18nStr-101"><span class="linenos">101</span></a>        <span class="s2">&quot;ko-KR&quot;</span><span class="p">,</span>
</span><span id="I18nStr-102"><a href="#I18nStr-102"><span class="linenos">102</span></a>        <span class="s2">&quot;ru-RU&quot;</span><span class="p">,</span>
</span><span id="I18nStr-103"><a href="#I18nStr-103"><span class="linenos">103</span></a>        <span class="s2">&quot;it-IT&quot;</span><span class="p">,</span>
</span><span id="I18nStr-104"><a href="#I18nStr-104"><span class="linenos">104</span></a>        <span class="s2">&quot;uk-UA&quot;</span><span class="p">,</span>
</span><span id="I18nStr-105"><a href="#I18nStr-105"><span class="linenos">105</span></a>        <span class="s2">&quot;vi-VN&quot;</span><span class="p">,</span>
</span><span id="I18nStr-106"><a href="#I18nStr-106"><span class="linenos">106</span></a>        <span class="s2">&quot;ro-RO&quot;</span><span class="p">,</span>
</span><span id="I18nStr-107"><a href="#I18nStr-107"><span class="linenos">107</span></a>        <span class="s2">&quot;pl-PL&quot;</span><span class="p">,</span>
</span><span id="I18nStr-108"><a href="#I18nStr-108"><span class="linenos">108</span></a>        <span class="s2">&quot;hi-IN&quot;</span><span class="p">,</span>
</span><span id="I18nStr-109"><a href="#I18nStr-109"><span class="linenos">109</span></a>        <span class="s2">&quot;tr-TR&quot;</span><span class="p">,</span>
</span><span id="I18nStr-110"><a href="#I18nStr-110"><span class="linenos">110</span></a>        <span class="s2">&quot;fa-IR&quot;</span><span class="p">,</span>
</span><span id="I18nStr-111"><a href="#I18nStr-111"><span class="linenos">111</span></a>        <span class="s2">&quot;sl-SI&quot;</span><span class="p">,</span>
</span><span id="I18nStr-112"><a href="#I18nStr-112"><span class="linenos">112</span></a>        <span class="s2">&quot;th-TH&quot;</span><span class="p">,</span>
</span><span id="I18nStr-113"><a href="#I18nStr-113"><span class="linenos">113</span></a>    <span class="p">]</span>
</span><span id="I18nStr-114"><a href="#I18nStr-114"><span class="linenos">114</span></a>
</span><span id="I18nStr-115"><a href="#I18nStr-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="I18nStr-116"><a href="#I18nStr-116"><span class="linenos">116</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="I18nStr-117"><a href="#I18nStr-117"><span class="linenos">117</span></a>        <span class="n">strings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="I18nStr-118"><a href="#I18nStr-118"><span class="linenos">118</span></a>        <span class="n">default_language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
</span><span id="I18nStr-119"><a href="#I18nStr-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="I18nStr-120"><a href="#I18nStr-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an I18nString.</span>
</span><span id="I18nStr-121"><a href="#I18nStr-121"><span class="linenos">121</span></a>
</span><span id="I18nStr-122"><a href="#I18nStr-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr-123"><a href="#I18nStr-123"><span class="linenos">123</span></a><span class="sd">            strings: Either a dictionary mapping language codes to strings,</span>
</span><span id="I18nStr-124"><a href="#I18nStr-124"><span class="linenos">124</span></a><span class="sd">                    or a single string (which will be used for all languages)</span>
</span><span id="I18nStr-125"><a href="#I18nStr-125"><span class="linenos">125</span></a><span class="sd">            default_language: The default language to use if the requested language is not available</span>
</span><span id="I18nStr-126"><a href="#I18nStr-126"><span class="linenos">126</span></a>
</span><span id="I18nStr-127"><a href="#I18nStr-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-128"><a href="#I18nStr-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">default_language</span> <span class="o">=</span> <span class="n">default_language</span>
</span><span id="I18nStr-129"><a href="#I18nStr-129"><span class="linenos">129</span></a>
</span><span id="I18nStr-130"><a href="#I18nStr-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="I18nStr-131"><a href="#I18nStr-131"><span class="linenos">131</span></a>            <span class="c1"># If a single string is provided, use it for all languages</span>
</span><span id="I18nStr-132"><a href="#I18nStr-132"><span class="linenos">132</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SUPPORTED_LANGUAGES</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
</span><span id="I18nStr-133"><a href="#I18nStr-133"><span class="linenos">133</span></a>            <span class="c1"># Ensure default language is set</span>
</span><span id="I18nStr-134"><a href="#I18nStr-134"><span class="linenos">134</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="n">strings</span>
</span><span id="I18nStr-135"><a href="#I18nStr-135"><span class="linenos">135</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="I18nStr-136"><a href="#I18nStr-136"><span class="linenos">136</span></a>            <span class="c1"># Use the provided dictionary</span>
</span><span id="I18nStr-137"><a href="#I18nStr-137"><span class="linenos">137</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">strings</span>
</span><span id="I18nStr-138"><a href="#I18nStr-138"><span class="linenos">138</span></a>
</span><span id="I18nStr-139"><a href="#I18nStr-139"><span class="linenos">139</span></a>            <span class="c1"># Ensure default language is set</span>
</span><span id="I18nStr-140"><a href="#I18nStr-140"><span class="linenos">140</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr-141"><a href="#I18nStr-141"><span class="linenos">141</span></a>                <span class="c1"># If default language is not provided, use the first available language</span>
</span><span id="I18nStr-142"><a href="#I18nStr-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr-143"><a href="#I18nStr-143"><span class="linenos">143</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</span><span id="I18nStr-144"><a href="#I18nStr-144"><span class="linenos">144</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="I18nStr-145"><a href="#I18nStr-145"><span class="linenos">145</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="I18nStr-146"><a href="#I18nStr-146"><span class="linenos">146</span></a>
</span><span id="I18nStr-147"><a href="#I18nStr-147"><span class="linenos">147</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="I18nStr-148"><a href="#I18nStr-148"><span class="linenos">148</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the string in the specified language.</span>
</span><span id="I18nStr-149"><a href="#I18nStr-149"><span class="linenos">149</span></a>
</span><span id="I18nStr-150"><a href="#I18nStr-150"><span class="linenos">150</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr-151"><a href="#I18nStr-151"><span class="linenos">151</span></a><span class="sd">            language: The language code to get the string for.</span>
</span><span id="I18nStr-152"><a href="#I18nStr-152"><span class="linenos">152</span></a><span class="sd">                     If None, uses the current language.</span>
</span><span id="I18nStr-153"><a href="#I18nStr-153"><span class="linenos">153</span></a>
</span><span id="I18nStr-154"><a href="#I18nStr-154"><span class="linenos">154</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr-155"><a href="#I18nStr-155"><span class="linenos">155</span></a><span class="sd">            The string in the requested language, or the default language if not available</span>
</span><span id="I18nStr-156"><a href="#I18nStr-156"><span class="linenos">156</span></a>
</span><span id="I18nStr-157"><a href="#I18nStr-157"><span class="linenos">157</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-158"><a href="#I18nStr-158"><span class="linenos">158</span></a>        <span class="k">if</span> <span class="n">language</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="I18nStr-159"><a href="#I18nStr-159"><span class="linenos">159</span></a>            <span class="n">language</span> <span class="o">=</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="I18nStr-160"><a href="#I18nStr-160"><span class="linenos">160</span></a>
</span><span id="I18nStr-161"><a href="#I18nStr-161"><span class="linenos">161</span></a>        <span class="c1"># Try to get the string in the requested language</span>
</span><span id="I18nStr-162"><a href="#I18nStr-162"><span class="linenos">162</span></a>        <span class="k">if</span> <span class="n">language</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr-163"><a href="#I18nStr-163"><span class="linenos">163</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="n">language</span><span class="p">]</span>
</span><span id="I18nStr-164"><a href="#I18nStr-164"><span class="linenos">164</span></a>
</span><span id="I18nStr-165"><a href="#I18nStr-165"><span class="linenos">165</span></a>        <span class="c1"># Fall back to default language</span>
</span><span id="I18nStr-166"><a href="#I18nStr-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span>
</span><span id="I18nStr-167"><a href="#I18nStr-167"><span class="linenos">167</span></a>
</span><span id="I18nStr-168"><a href="#I18nStr-168"><span class="linenos">168</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="I18nStr-169"><a href="#I18nStr-169"><span class="linenos">169</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the string in the current language.</span>
</span><span id="I18nStr-170"><a href="#I18nStr-170"><span class="linenos">170</span></a>
</span><span id="I18nStr-171"><a href="#I18nStr-171"><span class="linenos">171</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr-172"><a href="#I18nStr-172"><span class="linenos">172</span></a><span class="sd">            The string in the current language</span>
</span><span id="I18nStr-173"><a href="#I18nStr-173"><span class="linenos">173</span></a>
</span><span id="I18nStr-174"><a href="#I18nStr-174"><span class="linenos">174</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-175"><a href="#I18nStr-175"><span class="linenos">175</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="I18nStr-176"><a href="#I18nStr-176"><span class="linenos">176</span></a>
</span><span id="I18nStr-177"><a href="#I18nStr-177"><span class="linenos">177</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="I18nStr-178"><a href="#I18nStr-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a string representation of the I18nString.</span>
</span><span id="I18nStr-179"><a href="#I18nStr-179"><span class="linenos">179</span></a>
</span><span id="I18nStr-180"><a href="#I18nStr-180"><span class="linenos">180</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr-181"><a href="#I18nStr-181"><span class="linenos">181</span></a><span class="sd">            A string representation of the I18nString</span>
</span><span id="I18nStr-182"><a href="#I18nStr-182"><span class="linenos">182</span></a>
</span><span id="I18nStr-183"><a href="#I18nStr-183"><span class="linenos">183</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-184"><a href="#I18nStr-184"><span class="linenos">184</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;I18nString(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="I18nStr-185"><a href="#I18nStr-185"><span class="linenos">185</span></a>
</span><span id="I18nStr-186"><a href="#I18nStr-186"><span class="linenos">186</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="I18nStr-187"><a href="#I18nStr-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Compare this I18nString with another object.</span>
</span><span id="I18nStr-188"><a href="#I18nStr-188"><span class="linenos">188</span></a>
</span><span id="I18nStr-189"><a href="#I18nStr-189"><span class="linenos">189</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr-190"><a href="#I18nStr-190"><span class="linenos">190</span></a><span class="sd">            other: The object to compare with</span>
</span><span id="I18nStr-191"><a href="#I18nStr-191"><span class="linenos">191</span></a>
</span><span id="I18nStr-192"><a href="#I18nStr-192"><span class="linenos">192</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr-193"><a href="#I18nStr-193"><span class="linenos">193</span></a><span class="sd">            True if the objects are equal, False otherwise</span>
</span><span id="I18nStr-194"><a href="#I18nStr-194"><span class="linenos">194</span></a>
</span><span id="I18nStr-195"><a href="#I18nStr-195"><span class="linenos">195</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-196"><a href="#I18nStr-196"><span class="linenos">196</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="I18nStr-197"><a href="#I18nStr-197"><span class="linenos">197</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">strings</span>
</span><span id="I18nStr-198"><a href="#I18nStr-198"><span class="linenos">198</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="I18nStr-199"><a href="#I18nStr-199"><span class="linenos">199</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">other</span>
</span><span id="I18nStr-200"><a href="#I18nStr-200"><span class="linenos">200</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="I18nStr-201"><a href="#I18nStr-201"><span class="linenos">201</span></a>
</span><span id="I18nStr-202"><a href="#I18nStr-202"><span class="linenos">202</span></a>    <span class="nd">@classmethod</span>
</span><span id="I18nStr-203"><a href="#I18nStr-203"><span class="linenos">203</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;I18nStr&quot;</span><span class="p">:</span>
</span><span id="I18nStr-204"><a href="#I18nStr-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an I18nString from keyword arguments.</span>
</span><span id="I18nStr-205"><a href="#I18nStr-205"><span class="linenos">205</span></a>
</span><span id="I18nStr-206"><a href="#I18nStr-206"><span class="linenos">206</span></a><span class="sd">        This is a convenience method for creating an I18nString with named language parameters.</span>
</span><span id="I18nStr-207"><a href="#I18nStr-207"><span class="linenos">207</span></a>
</span><span id="I18nStr-208"><a href="#I18nStr-208"><span class="linenos">208</span></a><span class="sd">        Example:</span>
</span><span id="I18nStr-209"><a href="#I18nStr-209"><span class="linenos">209</span></a><span class="sd">            ```python</span>
</span><span id="I18nStr-210"><a href="#I18nStr-210"><span class="linenos">210</span></a><span class="sd">            greeting = I18nString.create(en_US=&quot;Hello&quot;, zh_Hans=&quot;你好&quot;, ja_JP=&quot;こんにちは&quot;)</span>
</span><span id="I18nStr-211"><a href="#I18nStr-211"><span class="linenos">211</span></a><span class="sd">            ```</span>
</span><span id="I18nStr-212"><a href="#I18nStr-212"><span class="linenos">212</span></a>
</span><span id="I18nStr-213"><a href="#I18nStr-213"><span class="linenos">213</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr-214"><a href="#I18nStr-214"><span class="linenos">214</span></a><span class="sd">            **kwargs: Keyword arguments where the keys are language codes (with underscores</span>
</span><span id="I18nStr-215"><a href="#I18nStr-215"><span class="linenos">215</span></a><span class="sd">                     instead of hyphens) and the values are the strings in those languages</span>
</span><span id="I18nStr-216"><a href="#I18nStr-216"><span class="linenos">216</span></a>
</span><span id="I18nStr-217"><a href="#I18nStr-217"><span class="linenos">217</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr-218"><a href="#I18nStr-218"><span class="linenos">218</span></a><span class="sd">            An I18nString instance</span>
</span><span id="I18nStr-219"><a href="#I18nStr-219"><span class="linenos">219</span></a>
</span><span id="I18nStr-220"><a href="#I18nStr-220"><span class="linenos">220</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr-221"><a href="#I18nStr-221"><span class="linenos">221</span></a>        <span class="c1"># Convert keys from snake_case to kebab-case (e.g., en_US -&gt; en-US)</span>
</span><span id="I18nStr-222"><a href="#I18nStr-222"><span class="linenos">222</span></a>        <span class="n">strings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="I18nStr-223"><a href="#I18nStr-223"><span class="linenos">223</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">strings</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A string class that supports internationalization.</p>

<p>This class allows you to define strings in multiple languages and automatically
returns the appropriate string based on the current language setting.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>strings</strong>:  Either a dictionary mapping language codes to strings, or a single string</li>
<li><strong>default_language</strong>:  The default language to use if the requested language is not available</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import I18nStr</p>

      <h1 id="create-an-i18nstr-with-multiple-language-versions">Create an I18nStr with multiple language versions</h1>

      <p>greeting = I18nStr({"en-US": "Hello", "zh-Hans": "你好", "ja-JP": "こんにちは"})</p>

      <h1 id="get-the-string-in-the-current-language">Get the string in the current language</h1>

      <p>str(greeting)  # Outputs the greeting in the current language
          'Hello'</p>

      <h1 id="get-the-string-in-a-specific-language">Get the string in a specific language</h1>

      <p>greeting.get("zh-Hans")
          '你好'</p>

      <h1 id="use-in-openapi-metadata">Use in OpenAPI metadata</h1>

      <p>@openapi_metadata(
          ...     summary=I18nStr({
          ...         "en-US": "Get an item",
          ...         "zh-Hans": "获取一个项目"
          ...     })
          ... )
      def get(self, item_id):
          ...     pass</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="I18nStr.__init__" class="classattr">
                                        <input id="I18nStr.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">I18nStr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">strings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>, </span><span class="param"><span class="n">default_language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;en-US&#39;</span></span>)</span>

                <label class="view-source-button" for="I18nStr.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#I18nStr.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="I18nStr.__init__-115"><a href="#I18nStr.__init__-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="I18nStr.__init__-116"><a href="#I18nStr.__init__-116"><span class="linenos">116</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="I18nStr.__init__-117"><a href="#I18nStr.__init__-117"><span class="linenos">117</span></a>        <span class="n">strings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="I18nStr.__init__-118"><a href="#I18nStr.__init__-118"><span class="linenos">118</span></a>        <span class="n">default_language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
</span><span id="I18nStr.__init__-119"><a href="#I18nStr.__init__-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="I18nStr.__init__-120"><a href="#I18nStr.__init__-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an I18nString.</span>
</span><span id="I18nStr.__init__-121"><a href="#I18nStr.__init__-121"><span class="linenos">121</span></a>
</span><span id="I18nStr.__init__-122"><a href="#I18nStr.__init__-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr.__init__-123"><a href="#I18nStr.__init__-123"><span class="linenos">123</span></a><span class="sd">            strings: Either a dictionary mapping language codes to strings,</span>
</span><span id="I18nStr.__init__-124"><a href="#I18nStr.__init__-124"><span class="linenos">124</span></a><span class="sd">                    or a single string (which will be used for all languages)</span>
</span><span id="I18nStr.__init__-125"><a href="#I18nStr.__init__-125"><span class="linenos">125</span></a><span class="sd">            default_language: The default language to use if the requested language is not available</span>
</span><span id="I18nStr.__init__-126"><a href="#I18nStr.__init__-126"><span class="linenos">126</span></a>
</span><span id="I18nStr.__init__-127"><a href="#I18nStr.__init__-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr.__init__-128"><a href="#I18nStr.__init__-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">default_language</span> <span class="o">=</span> <span class="n">default_language</span>
</span><span id="I18nStr.__init__-129"><a href="#I18nStr.__init__-129"><span class="linenos">129</span></a>
</span><span id="I18nStr.__init__-130"><a href="#I18nStr.__init__-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="I18nStr.__init__-131"><a href="#I18nStr.__init__-131"><span class="linenos">131</span></a>            <span class="c1"># If a single string is provided, use it for all languages</span>
</span><span id="I18nStr.__init__-132"><a href="#I18nStr.__init__-132"><span class="linenos">132</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SUPPORTED_LANGUAGES</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
</span><span id="I18nStr.__init__-133"><a href="#I18nStr.__init__-133"><span class="linenos">133</span></a>            <span class="c1"># Ensure default language is set</span>
</span><span id="I18nStr.__init__-134"><a href="#I18nStr.__init__-134"><span class="linenos">134</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="n">strings</span>
</span><span id="I18nStr.__init__-135"><a href="#I18nStr.__init__-135"><span class="linenos">135</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="I18nStr.__init__-136"><a href="#I18nStr.__init__-136"><span class="linenos">136</span></a>            <span class="c1"># Use the provided dictionary</span>
</span><span id="I18nStr.__init__-137"><a href="#I18nStr.__init__-137"><span class="linenos">137</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">strings</span>
</span><span id="I18nStr.__init__-138"><a href="#I18nStr.__init__-138"><span class="linenos">138</span></a>
</span><span id="I18nStr.__init__-139"><a href="#I18nStr.__init__-139"><span class="linenos">139</span></a>            <span class="c1"># Ensure default language is set</span>
</span><span id="I18nStr.__init__-140"><a href="#I18nStr.__init__-140"><span class="linenos">140</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr.__init__-141"><a href="#I18nStr.__init__-141"><span class="linenos">141</span></a>                <span class="c1"># If default language is not provided, use the first available language</span>
</span><span id="I18nStr.__init__-142"><a href="#I18nStr.__init__-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr.__init__-143"><a href="#I18nStr.__init__-143"><span class="linenos">143</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</span><span id="I18nStr.__init__-144"><a href="#I18nStr.__init__-144"><span class="linenos">144</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="I18nStr.__init__-145"><a href="#I18nStr.__init__-145"><span class="linenos">145</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Initialize an I18nString.</p>

<p>Args:
    strings: Either a dictionary mapping language codes to strings,
            or a single string (which will be used for all languages)
    default_language: The default language to use if the requested language is not available</p>
</div>


                            </div>
                            <div id="I18nStr.SUPPORTED_LANGUAGES" class="classattr">
                                <div class="attr variable">
            <span class="name">SUPPORTED_LANGUAGES</span><span class="annotation">: ClassVar[list[str]]</span>        =
<input id="I18nStr.SUPPORTED_LANGUAGES-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="I18nStr.SUPPORTED_LANGUAGES-view-value"></label><span class="default_value">[&#39;en-US&#39;, &#39;zh-Hans&#39;, &#39;zh-Hant&#39;, &#39;pt-BR&#39;, &#39;es-ES&#39;, &#39;fr-FR&#39;, &#39;de-DE&#39;, &#39;ja-JP&#39;, &#39;ko-KR&#39;, &#39;ru-RU&#39;, &#39;it-IT&#39;, &#39;uk-UA&#39;, &#39;vi-VN&#39;, &#39;ro-RO&#39;, &#39;pl-PL&#39;, &#39;hi-IN&#39;, &#39;tr-TR&#39;, &#39;fa-IR&#39;, &#39;sl-SI&#39;, &#39;th-TH&#39;]</span>


    </div>
    <a class="headerlink" href="#I18nStr.SUPPORTED_LANGUAGES"></a>



                            </div>
                            <div id="I18nStr.default_language" class="classattr">
                                <div class="attr variable">
            <span class="name">default_language</span>


    </div>
    <a class="headerlink" href="#I18nStr.default_language"></a>



                            </div>
                            <div id="I18nStr.get" class="classattr">
                                        <input id="I18nStr.get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="I18nStr.get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#I18nStr.get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="I18nStr.get-147"><a href="#I18nStr.get-147"><span class="linenos">147</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="I18nStr.get-148"><a href="#I18nStr.get-148"><span class="linenos">148</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the string in the specified language.</span>
</span><span id="I18nStr.get-149"><a href="#I18nStr.get-149"><span class="linenos">149</span></a>
</span><span id="I18nStr.get-150"><a href="#I18nStr.get-150"><span class="linenos">150</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr.get-151"><a href="#I18nStr.get-151"><span class="linenos">151</span></a><span class="sd">            language: The language code to get the string for.</span>
</span><span id="I18nStr.get-152"><a href="#I18nStr.get-152"><span class="linenos">152</span></a><span class="sd">                     If None, uses the current language.</span>
</span><span id="I18nStr.get-153"><a href="#I18nStr.get-153"><span class="linenos">153</span></a>
</span><span id="I18nStr.get-154"><a href="#I18nStr.get-154"><span class="linenos">154</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr.get-155"><a href="#I18nStr.get-155"><span class="linenos">155</span></a><span class="sd">            The string in the requested language, or the default language if not available</span>
</span><span id="I18nStr.get-156"><a href="#I18nStr.get-156"><span class="linenos">156</span></a>
</span><span id="I18nStr.get-157"><a href="#I18nStr.get-157"><span class="linenos">157</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr.get-158"><a href="#I18nStr.get-158"><span class="linenos">158</span></a>        <span class="k">if</span> <span class="n">language</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="I18nStr.get-159"><a href="#I18nStr.get-159"><span class="linenos">159</span></a>            <span class="n">language</span> <span class="o">=</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="I18nStr.get-160"><a href="#I18nStr.get-160"><span class="linenos">160</span></a>
</span><span id="I18nStr.get-161"><a href="#I18nStr.get-161"><span class="linenos">161</span></a>        <span class="c1"># Try to get the string in the requested language</span>
</span><span id="I18nStr.get-162"><a href="#I18nStr.get-162"><span class="linenos">162</span></a>        <span class="k">if</span> <span class="n">language</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
</span><span id="I18nStr.get-163"><a href="#I18nStr.get-163"><span class="linenos">163</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="n">language</span><span class="p">]</span>
</span><span id="I18nStr.get-164"><a href="#I18nStr.get-164"><span class="linenos">164</span></a>
</span><span id="I18nStr.get-165"><a href="#I18nStr.get-165"><span class="linenos">165</span></a>        <span class="c1"># Fall back to default language</span>
</span><span id="I18nStr.get-166"><a href="#I18nStr.get-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Get the string in the specified language.</p>

<p>Args:
    language: The language code to get the string for.
             If None, uses the current language.</p>

<p>Returns:
    The string in the requested language, or the default language if not available</p>
</div>


                            </div>
                            <div id="I18nStr.create" class="classattr">
                                        <input id="I18nStr.create-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">create</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n"><a href="#I18nStr">I18nStr</a></span>:</span></span>

                <label class="view-source-button" for="I18nStr.create-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#I18nStr.create"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="I18nStr.create-202"><a href="#I18nStr.create-202"><span class="linenos">202</span></a>    <span class="nd">@classmethod</span>
</span><span id="I18nStr.create-203"><a href="#I18nStr.create-203"><span class="linenos">203</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;I18nStr&quot;</span><span class="p">:</span>
</span><span id="I18nStr.create-204"><a href="#I18nStr.create-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an I18nString from keyword arguments.</span>
</span><span id="I18nStr.create-205"><a href="#I18nStr.create-205"><span class="linenos">205</span></a>
</span><span id="I18nStr.create-206"><a href="#I18nStr.create-206"><span class="linenos">206</span></a><span class="sd">        This is a convenience method for creating an I18nString with named language parameters.</span>
</span><span id="I18nStr.create-207"><a href="#I18nStr.create-207"><span class="linenos">207</span></a>
</span><span id="I18nStr.create-208"><a href="#I18nStr.create-208"><span class="linenos">208</span></a><span class="sd">        Example:</span>
</span><span id="I18nStr.create-209"><a href="#I18nStr.create-209"><span class="linenos">209</span></a><span class="sd">            ```python</span>
</span><span id="I18nStr.create-210"><a href="#I18nStr.create-210"><span class="linenos">210</span></a><span class="sd">            greeting = I18nString.create(en_US=&quot;Hello&quot;, zh_Hans=&quot;你好&quot;, ja_JP=&quot;こんにちは&quot;)</span>
</span><span id="I18nStr.create-211"><a href="#I18nStr.create-211"><span class="linenos">211</span></a><span class="sd">            ```</span>
</span><span id="I18nStr.create-212"><a href="#I18nStr.create-212"><span class="linenos">212</span></a>
</span><span id="I18nStr.create-213"><a href="#I18nStr.create-213"><span class="linenos">213</span></a><span class="sd">        Args:</span>
</span><span id="I18nStr.create-214"><a href="#I18nStr.create-214"><span class="linenos">214</span></a><span class="sd">            **kwargs: Keyword arguments where the keys are language codes (with underscores</span>
</span><span id="I18nStr.create-215"><a href="#I18nStr.create-215"><span class="linenos">215</span></a><span class="sd">                     instead of hyphens) and the values are the strings in those languages</span>
</span><span id="I18nStr.create-216"><a href="#I18nStr.create-216"><span class="linenos">216</span></a>
</span><span id="I18nStr.create-217"><a href="#I18nStr.create-217"><span class="linenos">217</span></a><span class="sd">        Returns:</span>
</span><span id="I18nStr.create-218"><a href="#I18nStr.create-218"><span class="linenos">218</span></a><span class="sd">            An I18nString instance</span>
</span><span id="I18nStr.create-219"><a href="#I18nStr.create-219"><span class="linenos">219</span></a>
</span><span id="I18nStr.create-220"><a href="#I18nStr.create-220"><span class="linenos">220</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="I18nStr.create-221"><a href="#I18nStr.create-221"><span class="linenos">221</span></a>        <span class="c1"># Convert keys from snake_case to kebab-case (e.g., en_US -&gt; en-US)</span>
</span><span id="I18nStr.create-222"><a href="#I18nStr.create-222"><span class="linenos">222</span></a>        <span class="n">strings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="I18nStr.create-223"><a href="#I18nStr.create-223"><span class="linenos">223</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">strings</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create an I18nString from keyword arguments.</p>

<p>This is a convenience method for creating an I18nString with named language parameters.</p>

<p>Example:</p>

<pre><code><div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">greeting</span> <span class="o">=</span> <span class="n">I18nString</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">en_US</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">zh_Hans</span><span class="o">=</span><span class="s2">&quot;你好&quot;</span><span class="p">,</span> <span class="n">ja_JP</span><span class="o">=</span><span class="s2">&quot;こんにちは&quot;</span><span class="p">)</span>
</code></pre>
</div>
</code></pre>

<p>Args:
    **kwargs: Keyword arguments where the keys are language codes (with underscores
             instead of hyphens) and the values are the strings in those languages</p>

<p>Returns:
    An I18nString instance</p>
</div>


                            </div>
                </section>
                <section id="ImageUploadModel">
                            <input id="ImageUploadModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">ImageUploadModel</span><wbr>(<span class="base"><a href="#FileUploadModel">flask_x_openapi_schema.FileUploadModel</a></span>):

                <label class="view-source-button" for="ImageUploadModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ImageUploadModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ImageUploadModel-130"><a href="#ImageUploadModel-130"><span class="linenos">130</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ImageUploadModel</span><span class="p">(</span><span class="n">FileUploadModel</span><span class="p">):</span>
</span><span id="ImageUploadModel-131"><a href="#ImageUploadModel-131"><span class="linenos">131</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Model for image file uploads with validation.</span>
</span><span id="ImageUploadModel-132"><a href="#ImageUploadModel-132"><span class="linenos">132</span></a>
</span><span id="ImageUploadModel-133"><a href="#ImageUploadModel-133"><span class="linenos">133</span></a><span class="sd">    This model extends FileUploadModel to provide specific validation for image files.</span>
</span><span id="ImageUploadModel-134"><a href="#ImageUploadModel-134"><span class="linenos">134</span></a><span class="sd">    It validates file extensions and optionally checks file size.</span>
</span><span id="ImageUploadModel-135"><a href="#ImageUploadModel-135"><span class="linenos">135</span></a>
</span><span id="ImageUploadModel-136"><a href="#ImageUploadModel-136"><span class="linenos">136</span></a><span class="sd">    :param file: The uploaded image file</span>
</span><span id="ImageUploadModel-137"><a href="#ImageUploadModel-137"><span class="linenos">137</span></a><span class="sd">    :type file: FileStorage</span>
</span><span id="ImageUploadModel-138"><a href="#ImageUploadModel-138"><span class="linenos">138</span></a><span class="sd">    :param allowed_extensions: List of allowed file extensions (default: [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;png&quot;, &quot;gif&quot;, &quot;webp&quot;, &quot;svg&quot;])</span>
</span><span id="ImageUploadModel-139"><a href="#ImageUploadModel-139"><span class="linenos">139</span></a><span class="sd">    :type allowed_extensions: List[str]</span>
</span><span id="ImageUploadModel-140"><a href="#ImageUploadModel-140"><span class="linenos">140</span></a><span class="sd">    :param max_size: Maximum file size in bytes (default: None)</span>
</span><span id="ImageUploadModel-141"><a href="#ImageUploadModel-141"><span class="linenos">141</span></a><span class="sd">    :type max_size: Optional[int]</span>
</span><span id="ImageUploadModel-142"><a href="#ImageUploadModel-142"><span class="linenos">142</span></a>
</span><span id="ImageUploadModel-143"><a href="#ImageUploadModel-143"><span class="linenos">143</span></a><span class="sd">    Example:</span>
</span><span id="ImageUploadModel-144"><a href="#ImageUploadModel-144"><span class="linenos">144</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import ImageUploadModel</span>
</span><span id="ImageUploadModel-145"><a href="#ImageUploadModel-145"><span class="linenos">145</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="ImageUploadModel-146"><a href="#ImageUploadModel-146"><span class="linenos">146</span></a><span class="sd">        &gt;&gt;&gt; @openapi_metadata(summary=&quot;Upload an image&quot;)</span>
</span><span id="ImageUploadModel-147"><a href="#ImageUploadModel-147"><span class="linenos">147</span></a><span class="sd">        &gt;&gt;&gt; def post(self, _x_file: ImageUploadModel):</span>
</span><span id="ImageUploadModel-148"><a href="#ImageUploadModel-148"><span class="linenos">148</span></a><span class="sd">        ...     # Image file is automatically injected and validated</span>
</span><span id="ImageUploadModel-149"><a href="#ImageUploadModel-149"><span class="linenos">149</span></a><span class="sd">        ...     return {&quot;filename&quot;: _x_file.file.filename}</span>
</span><span id="ImageUploadModel-150"><a href="#ImageUploadModel-150"><span class="linenos">150</span></a>
</span><span id="ImageUploadModel-151"><a href="#ImageUploadModel-151"><span class="linenos">151</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ImageUploadModel-152"><a href="#ImageUploadModel-152"><span class="linenos">152</span></a>
</span><span id="ImageUploadModel-153"><a href="#ImageUploadModel-153"><span class="linenos">153</span></a>    <span class="n">file</span><span class="p">:</span> <span class="n">FileStorage</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The uploaded image file&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel-154"><a href="#ImageUploadModel-154"><span class="linenos">154</span></a>    <span class="n">allowed_extensions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
</span><span id="ImageUploadModel-155"><a href="#ImageUploadModel-155"><span class="linenos">155</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;jpeg&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">,</span> <span class="s2">&quot;webp&quot;</span><span class="p">,</span> <span class="s2">&quot;svg&quot;</span><span class="p">],</span>
</span><span id="ImageUploadModel-156"><a href="#ImageUploadModel-156"><span class="linenos">156</span></a>        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Allowed file extensions&quot;</span><span class="p">,</span>
</span><span id="ImageUploadModel-157"><a href="#ImageUploadModel-157"><span class="linenos">157</span></a>    <span class="p">)</span>
</span><span id="ImageUploadModel-158"><a href="#ImageUploadModel-158"><span class="linenos">158</span></a>    <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Maximum file size in bytes&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel-159"><a href="#ImageUploadModel-159"><span class="linenos">159</span></a>
</span><span id="ImageUploadModel-160"><a href="#ImageUploadModel-160"><span class="linenos">160</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel-161"><a href="#ImageUploadModel-161"><span class="linenos">161</span></a>    <span class="nd">@classmethod</span>
</span><span id="ImageUploadModel-162"><a href="#ImageUploadModel-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_image_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">FileStorage</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="ImageUploadModel-163"><a href="#ImageUploadModel-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is an image with allowed extension and size.&quot;&quot;&quot;</span>
</span><span id="ImageUploadModel-164"><a href="#ImageUploadModel-164"><span class="linenos">164</span></a>        <span class="c1"># Get values from info.data</span>
</span><span id="ImageUploadModel-165"><a href="#ImageUploadModel-165"><span class="linenos">165</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span>
</span><span id="ImageUploadModel-166"><a href="#ImageUploadModel-166"><span class="linenos">166</span></a>        <span class="c1"># Check if it&#39;s a valid file</span>
</span><span id="ImageUploadModel-167"><a href="#ImageUploadModel-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="ImageUploadModel-168"><a href="#ImageUploadModel-168"><span class="linenos">168</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No file provided&quot;</span>
</span><span id="ImageUploadModel-169"><a href="#ImageUploadModel-169"><span class="linenos">169</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ImageUploadModel-170"><a href="#ImageUploadModel-170"><span class="linenos">170</span></a>
</span><span id="ImageUploadModel-171"><a href="#ImageUploadModel-171"><span class="linenos">171</span></a>        <span class="c1"># Check file extension</span>
</span><span id="ImageUploadModel-172"><a href="#ImageUploadModel-172"><span class="linenos">172</span></a>        <span class="n">allowed_extensions</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allowed_extensions&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;jpeg&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">,</span> <span class="s2">&quot;webp&quot;</span><span class="p">,</span> <span class="s2">&quot;svg&quot;</span><span class="p">])</span>
</span><span id="ImageUploadModel-173"><a href="#ImageUploadModel-173"><span class="linenos">173</span></a>        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="ImageUploadModel-174"><a href="#ImageUploadModel-174"><span class="linenos">174</span></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="ImageUploadModel-175"><a href="#ImageUploadModel-175"><span class="linenos">175</span></a>            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_extensions</span><span class="p">:</span>
</span><span id="ImageUploadModel-176"><a href="#ImageUploadModel-176"><span class="linenos">176</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File extension &#39;</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&#39; not allowed. Allowed extensions: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_extensions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ImageUploadModel-177"><a href="#ImageUploadModel-177"><span class="linenos">177</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ImageUploadModel-178"><a href="#ImageUploadModel-178"><span class="linenos">178</span></a>                    <span class="n">msg</span><span class="p">,</span>
</span><span id="ImageUploadModel-179"><a href="#ImageUploadModel-179"><span class="linenos">179</span></a>                <span class="p">)</span>
</span><span id="ImageUploadModel-180"><a href="#ImageUploadModel-180"><span class="linenos">180</span></a>
</span><span id="ImageUploadModel-181"><a href="#ImageUploadModel-181"><span class="linenos">181</span></a>        <span class="c1"># Check file size if max_size is specified</span>
</span><span id="ImageUploadModel-182"><a href="#ImageUploadModel-182"><span class="linenos">182</span></a>        <span class="n">max_size</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_size&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel-183"><a href="#ImageUploadModel-183"><span class="linenos">183</span></a>        <span class="k">if</span> <span class="n">max_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ImageUploadModel-184"><a href="#ImageUploadModel-184"><span class="linenos">184</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Seek to the end of the file</span>
</span><span id="ImageUploadModel-185"><a href="#ImageUploadModel-185"><span class="linenos">185</span></a>            <span class="n">size</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>  <span class="c1"># Get the position (size)</span>
</span><span id="ImageUploadModel-186"><a href="#ImageUploadModel-186"><span class="linenos">186</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rewind to the beginning</span>
</span><span id="ImageUploadModel-187"><a href="#ImageUploadModel-187"><span class="linenos">187</span></a>
</span><span id="ImageUploadModel-188"><a href="#ImageUploadModel-188"><span class="linenos">188</span></a>            <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="n">max_size</span><span class="p">:</span>
</span><span id="ImageUploadModel-189"><a href="#ImageUploadModel-189"><span class="linenos">189</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File size (</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes) exceeds maximum allowed size (</span><span class="si">{</span><span class="n">max_size</span><span class="si">}</span><span class="s2"> bytes)&quot;</span>
</span><span id="ImageUploadModel-190"><a href="#ImageUploadModel-190"><span class="linenos">190</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ImageUploadModel-191"><a href="#ImageUploadModel-191"><span class="linenos">191</span></a>
</span><span id="ImageUploadModel-192"><a href="#ImageUploadModel-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Model for image file uploads with validation.</p>

<p>This model extends FileUploadModel to provide specific validation for image files.
It validates file extensions and optionally checks file size.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file</strong>:  The uploaded image file</li>
<li><strong>allowed_extensions: List of allowed file extensions (default</strong>:  ["jpg", "jpeg", "png", "gif", "webp", "svg"])</li>
<li><strong>max_size: Maximum file size in bytes (default</strong>:  None)</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import ImageUploadModel</p>

      <p>@openapi_metadata(summary="Upload an image")
      def post(self, _x_file: ImageUploadModel):
          ...     # Image file is automatically injected and validated
          ...     return {"filename": _x_file.file.filename}</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="ImageUploadModel.file" class="classattr">
                                <div class="attr variable">
            <span class="name">file</span><span class="annotation">: werkzeug.datastructures.file_storage.FileStorage</span>


    </div>
    <a class="headerlink" href="#ImageUploadModel.file"></a>



                            </div>
                            <div id="ImageUploadModel.allowed_extensions" class="classattr">
                                <div class="attr variable">
            <span class="name">allowed_extensions</span><span class="annotation">: list[str]</span>


    </div>
    <a class="headerlink" href="#ImageUploadModel.allowed_extensions"></a>



                            </div>
                            <div id="ImageUploadModel.max_size" class="classattr">
                                <div class="attr variable">
            <span class="name">max_size</span><span class="annotation">: int | None</span>


    </div>
    <a class="headerlink" href="#ImageUploadModel.max_size"></a>



                            </div>
                            <div id="ImageUploadModel.validate_image_file" class="classattr">
                                        <input id="ImageUploadModel.validate_image_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-field_validator">@field_validator(&#39;file&#39;)</div>
        <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">validate_image_file</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">v</span><span class="p">:</span> <span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span>,</span><span class="param">	<span class="n">info</span></span><span class="return-annotation">) -> <span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span>:</span></span>

                <label class="view-source-button" for="ImageUploadModel.validate_image_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ImageUploadModel.validate_image_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ImageUploadModel.validate_image_file-160"><a href="#ImageUploadModel.validate_image_file-160"><span class="linenos">160</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel.validate_image_file-161"><a href="#ImageUploadModel.validate_image_file-161"><span class="linenos">161</span></a>    <span class="nd">@classmethod</span>
</span><span id="ImageUploadModel.validate_image_file-162"><a href="#ImageUploadModel.validate_image_file-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_image_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">FileStorage</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileStorage</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="ImageUploadModel.validate_image_file-163"><a href="#ImageUploadModel.validate_image_file-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the file is an image with allowed extension and size.&quot;&quot;&quot;</span>
</span><span id="ImageUploadModel.validate_image_file-164"><a href="#ImageUploadModel.validate_image_file-164"><span class="linenos">164</span></a>        <span class="c1"># Get values from info.data</span>
</span><span id="ImageUploadModel.validate_image_file-165"><a href="#ImageUploadModel.validate_image_file-165"><span class="linenos">165</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span>
</span><span id="ImageUploadModel.validate_image_file-166"><a href="#ImageUploadModel.validate_image_file-166"><span class="linenos">166</span></a>        <span class="c1"># Check if it&#39;s a valid file</span>
</span><span id="ImageUploadModel.validate_image_file-167"><a href="#ImageUploadModel.validate_image_file-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="ImageUploadModel.validate_image_file-168"><a href="#ImageUploadModel.validate_image_file-168"><span class="linenos">168</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No file provided&quot;</span>
</span><span id="ImageUploadModel.validate_image_file-169"><a href="#ImageUploadModel.validate_image_file-169"><span class="linenos">169</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ImageUploadModel.validate_image_file-170"><a href="#ImageUploadModel.validate_image_file-170"><span class="linenos">170</span></a>
</span><span id="ImageUploadModel.validate_image_file-171"><a href="#ImageUploadModel.validate_image_file-171"><span class="linenos">171</span></a>        <span class="c1"># Check file extension</span>
</span><span id="ImageUploadModel.validate_image_file-172"><a href="#ImageUploadModel.validate_image_file-172"><span class="linenos">172</span></a>        <span class="n">allowed_extensions</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allowed_extensions&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;jpeg&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">,</span> <span class="s2">&quot;webp&quot;</span><span class="p">,</span> <span class="s2">&quot;svg&quot;</span><span class="p">])</span>
</span><span id="ImageUploadModel.validate_image_file-173"><a href="#ImageUploadModel.validate_image_file-173"><span class="linenos">173</span></a>        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>
</span><span id="ImageUploadModel.validate_image_file-174"><a href="#ImageUploadModel.validate_image_file-174"><span class="linenos">174</span></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="ImageUploadModel.validate_image_file-175"><a href="#ImageUploadModel.validate_image_file-175"><span class="linenos">175</span></a>            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_extensions</span><span class="p">:</span>
</span><span id="ImageUploadModel.validate_image_file-176"><a href="#ImageUploadModel.validate_image_file-176"><span class="linenos">176</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File extension &#39;</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&#39; not allowed. Allowed extensions: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_extensions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ImageUploadModel.validate_image_file-177"><a href="#ImageUploadModel.validate_image_file-177"><span class="linenos">177</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ImageUploadModel.validate_image_file-178"><a href="#ImageUploadModel.validate_image_file-178"><span class="linenos">178</span></a>                    <span class="n">msg</span><span class="p">,</span>
</span><span id="ImageUploadModel.validate_image_file-179"><a href="#ImageUploadModel.validate_image_file-179"><span class="linenos">179</span></a>                <span class="p">)</span>
</span><span id="ImageUploadModel.validate_image_file-180"><a href="#ImageUploadModel.validate_image_file-180"><span class="linenos">180</span></a>
</span><span id="ImageUploadModel.validate_image_file-181"><a href="#ImageUploadModel.validate_image_file-181"><span class="linenos">181</span></a>        <span class="c1"># Check file size if max_size is specified</span>
</span><span id="ImageUploadModel.validate_image_file-182"><a href="#ImageUploadModel.validate_image_file-182"><span class="linenos">182</span></a>        <span class="n">max_size</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_size&quot;</span><span class="p">)</span>
</span><span id="ImageUploadModel.validate_image_file-183"><a href="#ImageUploadModel.validate_image_file-183"><span class="linenos">183</span></a>        <span class="k">if</span> <span class="n">max_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ImageUploadModel.validate_image_file-184"><a href="#ImageUploadModel.validate_image_file-184"><span class="linenos">184</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Seek to the end of the file</span>
</span><span id="ImageUploadModel.validate_image_file-185"><a href="#ImageUploadModel.validate_image_file-185"><span class="linenos">185</span></a>            <span class="n">size</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>  <span class="c1"># Get the position (size)</span>
</span><span id="ImageUploadModel.validate_image_file-186"><a href="#ImageUploadModel.validate_image_file-186"><span class="linenos">186</span></a>            <span class="n">v</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rewind to the beginning</span>
</span><span id="ImageUploadModel.validate_image_file-187"><a href="#ImageUploadModel.validate_image_file-187"><span class="linenos">187</span></a>
</span><span id="ImageUploadModel.validate_image_file-188"><a href="#ImageUploadModel.validate_image_file-188"><span class="linenos">188</span></a>            <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="n">max_size</span><span class="p">:</span>
</span><span id="ImageUploadModel.validate_image_file-189"><a href="#ImageUploadModel.validate_image_file-189"><span class="linenos">189</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;File size (</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes) exceeds maximum allowed size (</span><span class="si">{</span><span class="n">max_size</span><span class="si">}</span><span class="s2"> bytes)&quot;</span>
</span><span id="ImageUploadModel.validate_image_file-190"><a href="#ImageUploadModel.validate_image_file-190"><span class="linenos">190</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ImageUploadModel.validate_image_file-191"><a href="#ImageUploadModel.validate_image_file-191"><span class="linenos">191</span></a>
</span><span id="ImageUploadModel.validate_image_file-192"><a href="#ImageUploadModel.validate_image_file-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Validate that the file is an image with allowed extension and size.</p>
</div>


                            </div>
                            <div id="ImageUploadModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True, &#39;json_schema_extra&#39;: {&#39;multipart/form-data&#39;: True}}</span>


    </div>
    <a class="headerlink" href="#ImageUploadModel.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                </section>
                <section id="MultipleFileUploadModel">
                            <input id="MultipleFileUploadModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">MultipleFileUploadModel</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="MultipleFileUploadModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MultipleFileUploadModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MultipleFileUploadModel-240"><a href="#MultipleFileUploadModel-240"><span class="linenos">240</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MultipleFileUploadModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="MultipleFileUploadModel-241"><a href="#MultipleFileUploadModel-241"><span class="linenos">241</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Model for multiple file uploads.</span>
</span><span id="MultipleFileUploadModel-242"><a href="#MultipleFileUploadModel-242"><span class="linenos">242</span></a>
</span><span id="MultipleFileUploadModel-243"><a href="#MultipleFileUploadModel-243"><span class="linenos">243</span></a><span class="sd">    This model allows uploading multiple files at once and validates that all files</span>
</span><span id="MultipleFileUploadModel-244"><a href="#MultipleFileUploadModel-244"><span class="linenos">244</span></a><span class="sd">    are valid FileStorage instances.</span>
</span><span id="MultipleFileUploadModel-245"><a href="#MultipleFileUploadModel-245"><span class="linenos">245</span></a>
</span><span id="MultipleFileUploadModel-246"><a href="#MultipleFileUploadModel-246"><span class="linenos">246</span></a><span class="sd">    :param files: List of uploaded files</span>
</span><span id="MultipleFileUploadModel-247"><a href="#MultipleFileUploadModel-247"><span class="linenos">247</span></a><span class="sd">    :type files: List[FileStorage]</span>
</span><span id="MultipleFileUploadModel-248"><a href="#MultipleFileUploadModel-248"><span class="linenos">248</span></a>
</span><span id="MultipleFileUploadModel-249"><a href="#MultipleFileUploadModel-249"><span class="linenos">249</span></a><span class="sd">    Example:</span>
</span><span id="MultipleFileUploadModel-250"><a href="#MultipleFileUploadModel-250"><span class="linenos">250</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import MultipleFileUploadModel</span>
</span><span id="MultipleFileUploadModel-251"><a href="#MultipleFileUploadModel-251"><span class="linenos">251</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="MultipleFileUploadModel-252"><a href="#MultipleFileUploadModel-252"><span class="linenos">252</span></a><span class="sd">        &gt;&gt;&gt; @openapi_metadata(summary=&quot;Upload multiple files&quot;)</span>
</span><span id="MultipleFileUploadModel-253"><a href="#MultipleFileUploadModel-253"><span class="linenos">253</span></a><span class="sd">        &gt;&gt;&gt; def post(self, _x_file: MultipleFileUploadModel):</span>
</span><span id="MultipleFileUploadModel-254"><a href="#MultipleFileUploadModel-254"><span class="linenos">254</span></a><span class="sd">        ...     # Files are automatically injected and validated</span>
</span><span id="MultipleFileUploadModel-255"><a href="#MultipleFileUploadModel-255"><span class="linenos">255</span></a><span class="sd">        ...     return {&quot;filenames&quot;: [f.filename for f in _x_file.files]}</span>
</span><span id="MultipleFileUploadModel-256"><a href="#MultipleFileUploadModel-256"><span class="linenos">256</span></a>
</span><span id="MultipleFileUploadModel-257"><a href="#MultipleFileUploadModel-257"><span class="linenos">257</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MultipleFileUploadModel-258"><a href="#MultipleFileUploadModel-258"><span class="linenos">258</span></a>
</span><span id="MultipleFileUploadModel-259"><a href="#MultipleFileUploadModel-259"><span class="linenos">259</span></a>    <span class="n">files</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">FileStorage</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The uploaded files&quot;</span><span class="p">)</span>
</span><span id="MultipleFileUploadModel-260"><a href="#MultipleFileUploadModel-260"><span class="linenos">260</span></a>
</span><span id="MultipleFileUploadModel-261"><a href="#MultipleFileUploadModel-261"><span class="linenos">261</span></a>    <span class="c1"># Allow arbitrary types for FileStorage</span>
</span><span id="MultipleFileUploadModel-262"><a href="#MultipleFileUploadModel-262"><span class="linenos">262</span></a>    <span class="n">model_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</span><span id="MultipleFileUploadModel-263"><a href="#MultipleFileUploadModel-263"><span class="linenos">263</span></a>
</span><span id="MultipleFileUploadModel-264"><a href="#MultipleFileUploadModel-264"><span class="linenos">264</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span>
</span><span id="MultipleFileUploadModel-265"><a href="#MultipleFileUploadModel-265"><span class="linenos">265</span></a>    <span class="nd">@classmethod</span>
</span><span id="MultipleFileUploadModel-266"><a href="#MultipleFileUploadModel-266"><span class="linenos">266</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_files</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">FileStorage</span><span class="p">]:</span>
</span><span id="MultipleFileUploadModel-267"><a href="#MultipleFileUploadModel-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that all files are FileStorage instances.</span>
</span><span id="MultipleFileUploadModel-268"><a href="#MultipleFileUploadModel-268"><span class="linenos">268</span></a>
</span><span id="MultipleFileUploadModel-269"><a href="#MultipleFileUploadModel-269"><span class="linenos">269</span></a><span class="sd">        :param v: List of values to validate</span>
</span><span id="MultipleFileUploadModel-270"><a href="#MultipleFileUploadModel-270"><span class="linenos">270</span></a><span class="sd">        :type v: List[Any]</span>
</span><span id="MultipleFileUploadModel-271"><a href="#MultipleFileUploadModel-271"><span class="linenos">271</span></a><span class="sd">        :return: The validated list of FileStorage instances</span>
</span><span id="MultipleFileUploadModel-272"><a href="#MultipleFileUploadModel-272"><span class="linenos">272</span></a><span class="sd">        :rtype: List[FileStorage]</span>
</span><span id="MultipleFileUploadModel-273"><a href="#MultipleFileUploadModel-273"><span class="linenos">273</span></a><span class="sd">        :raises ValueError: If the list is empty or contains non-FileStorage objects</span>
</span><span id="MultipleFileUploadModel-274"><a href="#MultipleFileUploadModel-274"><span class="linenos">274</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MultipleFileUploadModel-275"><a href="#MultipleFileUploadModel-275"><span class="linenos">275</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
</span><span id="MultipleFileUploadModel-276"><a href="#MultipleFileUploadModel-276"><span class="linenos">276</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No files provided&quot;</span>
</span><span id="MultipleFileUploadModel-277"><a href="#MultipleFileUploadModel-277"><span class="linenos">277</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="MultipleFileUploadModel-278"><a href="#MultipleFileUploadModel-278"><span class="linenos">278</span></a>
</span><span id="MultipleFileUploadModel-279"><a href="#MultipleFileUploadModel-279"><span class="linenos">279</span></a>        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
</span><span id="MultipleFileUploadModel-280"><a href="#MultipleFileUploadModel-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">FileStorage</span><span class="p">):</span>
</span><span id="MultipleFileUploadModel-281"><a href="#MultipleFileUploadModel-281"><span class="linenos">281</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Not a valid file upload&quot;</span>
</span><span id="MultipleFileUploadModel-282"><a href="#MultipleFileUploadModel-282"><span class="linenos">282</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="MultipleFileUploadModel-283"><a href="#MultipleFileUploadModel-283"><span class="linenos">283</span></a>
</span><span id="MultipleFileUploadModel-284"><a href="#MultipleFileUploadModel-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Model for multiple file uploads.</p>

<p>This model allows uploading multiple files at once and validates that all files
are valid FileStorage instances.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>files</strong>:  List of uploaded files</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import MultipleFileUploadModel</p>

      <p>@openapi_metadata(summary="Upload multiple files")
      def post(self, _x_file: MultipleFileUploadModel):
          ...     # Files are automatically injected and validated
          ...     return {"filenames": [f.filename for f in _x_file.files]}</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="MultipleFileUploadModel.files" class="classattr">
                                <div class="attr variable">
            <span class="name">files</span><span class="annotation">: list[werkzeug.datastructures.file_storage.FileStorage]</span>


    </div>
    <a class="headerlink" href="#MultipleFileUploadModel.files"></a>



                            </div>
                            <div id="MultipleFileUploadModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True}</span>


    </div>
    <a class="headerlink" href="#MultipleFileUploadModel.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                            <div id="MultipleFileUploadModel.validate_files" class="classattr">
                                        <input id="MultipleFileUploadModel.validate_files-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-field_validator">@field_validator(&#39;files&#39;)</div>
        <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">validate_files</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">v</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">werkzeug</span><span class="o">.</span><span class="n">datastructures</span><span class="o">.</span><span class="n">file_storage</span><span class="o">.</span><span class="n">FileStorage</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="MultipleFileUploadModel.validate_files-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MultipleFileUploadModel.validate_files"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MultipleFileUploadModel.validate_files-264"><a href="#MultipleFileUploadModel.validate_files-264"><span class="linenos">264</span></a>    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span>
</span><span id="MultipleFileUploadModel.validate_files-265"><a href="#MultipleFileUploadModel.validate_files-265"><span class="linenos">265</span></a>    <span class="nd">@classmethod</span>
</span><span id="MultipleFileUploadModel.validate_files-266"><a href="#MultipleFileUploadModel.validate_files-266"><span class="linenos">266</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_files</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">FileStorage</span><span class="p">]:</span>
</span><span id="MultipleFileUploadModel.validate_files-267"><a href="#MultipleFileUploadModel.validate_files-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that all files are FileStorage instances.</span>
</span><span id="MultipleFileUploadModel.validate_files-268"><a href="#MultipleFileUploadModel.validate_files-268"><span class="linenos">268</span></a>
</span><span id="MultipleFileUploadModel.validate_files-269"><a href="#MultipleFileUploadModel.validate_files-269"><span class="linenos">269</span></a><span class="sd">        :param v: List of values to validate</span>
</span><span id="MultipleFileUploadModel.validate_files-270"><a href="#MultipleFileUploadModel.validate_files-270"><span class="linenos">270</span></a><span class="sd">        :type v: List[Any]</span>
</span><span id="MultipleFileUploadModel.validate_files-271"><a href="#MultipleFileUploadModel.validate_files-271"><span class="linenos">271</span></a><span class="sd">        :return: The validated list of FileStorage instances</span>
</span><span id="MultipleFileUploadModel.validate_files-272"><a href="#MultipleFileUploadModel.validate_files-272"><span class="linenos">272</span></a><span class="sd">        :rtype: List[FileStorage]</span>
</span><span id="MultipleFileUploadModel.validate_files-273"><a href="#MultipleFileUploadModel.validate_files-273"><span class="linenos">273</span></a><span class="sd">        :raises ValueError: If the list is empty or contains non-FileStorage objects</span>
</span><span id="MultipleFileUploadModel.validate_files-274"><a href="#MultipleFileUploadModel.validate_files-274"><span class="linenos">274</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MultipleFileUploadModel.validate_files-275"><a href="#MultipleFileUploadModel.validate_files-275"><span class="linenos">275</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
</span><span id="MultipleFileUploadModel.validate_files-276"><a href="#MultipleFileUploadModel.validate_files-276"><span class="linenos">276</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No files provided&quot;</span>
</span><span id="MultipleFileUploadModel.validate_files-277"><a href="#MultipleFileUploadModel.validate_files-277"><span class="linenos">277</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="MultipleFileUploadModel.validate_files-278"><a href="#MultipleFileUploadModel.validate_files-278"><span class="linenos">278</span></a>
</span><span id="MultipleFileUploadModel.validate_files-279"><a href="#MultipleFileUploadModel.validate_files-279"><span class="linenos">279</span></a>        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
</span><span id="MultipleFileUploadModel.validate_files-280"><a href="#MultipleFileUploadModel.validate_files-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">FileStorage</span><span class="p">):</span>
</span><span id="MultipleFileUploadModel.validate_files-281"><a href="#MultipleFileUploadModel.validate_files-281"><span class="linenos">281</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Not a valid file upload&quot;</span>
</span><span id="MultipleFileUploadModel.validate_files-282"><a href="#MultipleFileUploadModel.validate_files-282"><span class="linenos">282</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="MultipleFileUploadModel.validate_files-283"><a href="#MultipleFileUploadModel.validate_files-283"><span class="linenos">283</span></a>
</span><span id="MultipleFileUploadModel.validate_files-284"><a href="#MultipleFileUploadModel.validate_files-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">v</span>
</span></pre></div>


            <div class="docstring"><p>Validate that all files are FileStorage instances.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>v</strong>:  List of values to validate</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The validated list of FileStorage instances</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>:  If the list is empty or contains non-FileStorage objects</li>
</ul>
</div>


                            </div>
                </section>
                <section id="OpenAPIBlueprintMixin">
                            <input id="OpenAPIBlueprintMixin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPIBlueprintMixin</span>:

                <label class="view-source-button" for="OpenAPIBlueprintMixin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIBlueprintMixin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIBlueprintMixin-205"><a href="#OpenAPIBlueprintMixin-205"><span class="linenos">205</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPIBlueprintMixin</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-206"><a href="#OpenAPIBlueprintMixin-206"><span class="linenos">206</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A mixin class for Flask Blueprint to collect OpenAPI metadata from MethodView classes.</span>
</span><span id="OpenAPIBlueprintMixin-207"><a href="#OpenAPIBlueprintMixin-207"><span class="linenos">207</span></a>
</span><span id="OpenAPIBlueprintMixin-208"><a href="#OpenAPIBlueprintMixin-208"><span class="linenos">208</span></a><span class="sd">    This mixin extends Flask&#39;s Blueprint class to add OpenAPI schema generation capabilities</span>
</span><span id="OpenAPIBlueprintMixin-209"><a href="#OpenAPIBlueprintMixin-209"><span class="linenos">209</span></a><span class="sd">    for MethodView classes. It tracks MethodView classes registered to the blueprint and</span>
</span><span id="OpenAPIBlueprintMixin-210"><a href="#OpenAPIBlueprintMixin-210"><span class="linenos">210</span></a><span class="sd">    provides methods to generate OpenAPI schemas.</span>
</span><span id="OpenAPIBlueprintMixin-211"><a href="#OpenAPIBlueprintMixin-211"><span class="linenos">211</span></a>
</span><span id="OpenAPIBlueprintMixin-212"><a href="#OpenAPIBlueprintMixin-212"><span class="linenos">212</span></a><span class="sd">    Example:</span>
</span><span id="OpenAPIBlueprintMixin-213"><a href="#OpenAPIBlueprintMixin-213"><span class="linenos">213</span></a><span class="sd">        &gt;&gt;&gt; from flask import Blueprint, Flask</span>
</span><span id="OpenAPIBlueprintMixin-214"><a href="#OpenAPIBlueprintMixin-214"><span class="linenos">214</span></a><span class="sd">        &gt;&gt;&gt; from flask.views import MethodView</span>
</span><span id="OpenAPIBlueprintMixin-215"><a href="#OpenAPIBlueprintMixin-215"><span class="linenos">215</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema.x.flask_restful import OpenAPIBlueprintMixin</span>
</span><span id="OpenAPIBlueprintMixin-216"><a href="#OpenAPIBlueprintMixin-216"><span class="linenos">216</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema.x.flask import openapi_metadata, OpenAPIMethodViewMixin</span>
</span><span id="OpenAPIBlueprintMixin-217"><a href="#OpenAPIBlueprintMixin-217"><span class="linenos">217</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-218"><a href="#OpenAPIBlueprintMixin-218"><span class="linenos">218</span></a><span class="sd">        &gt;&gt;&gt; app = Flask(__name__)</span>
</span><span id="OpenAPIBlueprintMixin-219"><a href="#OpenAPIBlueprintMixin-219"><span class="linenos">219</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-220"><a href="#OpenAPIBlueprintMixin-220"><span class="linenos">220</span></a><span class="sd">        &gt;&gt;&gt; # Create an OpenAPI-enabled Blueprint</span>
</span><span id="OpenAPIBlueprintMixin-221"><a href="#OpenAPIBlueprintMixin-221"><span class="linenos">221</span></a><span class="sd">        &gt;&gt;&gt; class OpenAPIBlueprint(OpenAPIBlueprintMixin, Blueprint):</span>
</span><span id="OpenAPIBlueprintMixin-222"><a href="#OpenAPIBlueprintMixin-222"><span class="linenos">222</span></a><span class="sd">        ...     pass</span>
</span><span id="OpenAPIBlueprintMixin-223"><a href="#OpenAPIBlueprintMixin-223"><span class="linenos">223</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-224"><a href="#OpenAPIBlueprintMixin-224"><span class="linenos">224</span></a><span class="sd">        &gt;&gt;&gt; bp = OpenAPIBlueprint(&quot;api&quot;, __name__, url_prefix=&quot;/api&quot;)</span>
</span><span id="OpenAPIBlueprintMixin-225"><a href="#OpenAPIBlueprintMixin-225"><span class="linenos">225</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-226"><a href="#OpenAPIBlueprintMixin-226"><span class="linenos">226</span></a><span class="sd">        &gt;&gt;&gt; # Create a MethodView with OpenAPI metadata</span>
</span><span id="OpenAPIBlueprintMixin-227"><a href="#OpenAPIBlueprintMixin-227"><span class="linenos">227</span></a><span class="sd">        &gt;&gt;&gt; class ItemView(OpenAPIMethodViewMixin, MethodView):</span>
</span><span id="OpenAPIBlueprintMixin-228"><a href="#OpenAPIBlueprintMixin-228"><span class="linenos">228</span></a><span class="sd">        ...     @openapi_metadata(summary=&quot;Get an item&quot;)</span>
</span><span id="OpenAPIBlueprintMixin-229"><a href="#OpenAPIBlueprintMixin-229"><span class="linenos">229</span></a><span class="sd">        ...     def get(self, item_id):</span>
</span><span id="OpenAPIBlueprintMixin-230"><a href="#OpenAPIBlueprintMixin-230"><span class="linenos">230</span></a><span class="sd">        ...         return {&quot;id&quot;: item_id, &quot;name&quot;: &quot;Example Item&quot;}</span>
</span><span id="OpenAPIBlueprintMixin-231"><a href="#OpenAPIBlueprintMixin-231"><span class="linenos">231</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-232"><a href="#OpenAPIBlueprintMixin-232"><span class="linenos">232</span></a><span class="sd">        &gt;&gt;&gt; # Register the view to the blueprint</span>
</span><span id="OpenAPIBlueprintMixin-233"><a href="#OpenAPIBlueprintMixin-233"><span class="linenos">233</span></a><span class="sd">        &gt;&gt;&gt; ItemView.register_to_blueprint(bp, &quot;/items/&lt;item_id&gt;&quot;)</span>
</span><span id="OpenAPIBlueprintMixin-234"><a href="#OpenAPIBlueprintMixin-234"><span class="linenos">234</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-235"><a href="#OpenAPIBlueprintMixin-235"><span class="linenos">235</span></a><span class="sd">        &gt;&gt;&gt; # Register the blueprint to the app</span>
</span><span id="OpenAPIBlueprintMixin-236"><a href="#OpenAPIBlueprintMixin-236"><span class="linenos">236</span></a><span class="sd">        &gt;&gt;&gt; app.register_blueprint(bp)</span>
</span><span id="OpenAPIBlueprintMixin-237"><a href="#OpenAPIBlueprintMixin-237"><span class="linenos">237</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIBlueprintMixin-238"><a href="#OpenAPIBlueprintMixin-238"><span class="linenos">238</span></a><span class="sd">        &gt;&gt;&gt; # Generate OpenAPI schema</span>
</span><span id="OpenAPIBlueprintMixin-239"><a href="#OpenAPIBlueprintMixin-239"><span class="linenos">239</span></a><span class="sd">        &gt;&gt;&gt; @app.route(&quot;/openapi.yaml&quot;)</span>
</span><span id="OpenAPIBlueprintMixin-240"><a href="#OpenAPIBlueprintMixin-240"><span class="linenos">240</span></a><span class="sd">        &gt;&gt;&gt; def get_openapi_spec():</span>
</span><span id="OpenAPIBlueprintMixin-241"><a href="#OpenAPIBlueprintMixin-241"><span class="linenos">241</span></a><span class="sd">        ...     schema = bp.generate_openapi_schema(</span>
</span><span id="OpenAPIBlueprintMixin-242"><a href="#OpenAPIBlueprintMixin-242"><span class="linenos">242</span></a><span class="sd">        ...         title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;</span>
</span><span id="OpenAPIBlueprintMixin-243"><a href="#OpenAPIBlueprintMixin-243"><span class="linenos">243</span></a><span class="sd">        ...     )</span>
</span><span id="OpenAPIBlueprintMixin-244"><a href="#OpenAPIBlueprintMixin-244"><span class="linenos">244</span></a><span class="sd">        ...     return schema</span>
</span><span id="OpenAPIBlueprintMixin-245"><a href="#OpenAPIBlueprintMixin-245"><span class="linenos">245</span></a>
</span><span id="OpenAPIBlueprintMixin-246"><a href="#OpenAPIBlueprintMixin-246"><span class="linenos">246</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPIBlueprintMixin-247"><a href="#OpenAPIBlueprintMixin-247"><span class="linenos">247</span></a>
</span><span id="OpenAPIBlueprintMixin-248"><a href="#OpenAPIBlueprintMixin-248"><span class="linenos">248</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">configure_openapi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prefix_config</span><span class="p">:</span> <span class="n">ConventionalPrefixConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-249"><a href="#OpenAPIBlueprintMixin-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure OpenAPI settings for this Blueprint instance.</span>
</span><span id="OpenAPIBlueprintMixin-250"><a href="#OpenAPIBlueprintMixin-250"><span class="linenos">250</span></a>
</span><span id="OpenAPIBlueprintMixin-251"><a href="#OpenAPIBlueprintMixin-251"><span class="linenos">251</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIBlueprintMixin-252"><a href="#OpenAPIBlueprintMixin-252"><span class="linenos">252</span></a><span class="sd">            prefix_config: Configuration object with parameter prefixes</span>
</span><span id="OpenAPIBlueprintMixin-253"><a href="#OpenAPIBlueprintMixin-253"><span class="linenos">253</span></a><span class="sd">            **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</span>
</span><span id="OpenAPIBlueprintMixin-254"><a href="#OpenAPIBlueprintMixin-254"><span class="linenos">254</span></a>
</span><span id="OpenAPIBlueprintMixin-255"><a href="#OpenAPIBlueprintMixin-255"><span class="linenos">255</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIBlueprintMixin-256"><a href="#OpenAPIBlueprintMixin-256"><span class="linenos">256</span></a>        <span class="k">if</span> <span class="n">prefix_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-257"><a href="#OpenAPIBlueprintMixin-257"><span class="linenos">257</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">prefix_config</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-258"><a href="#OpenAPIBlueprintMixin-258"><span class="linenos">258</span></a>        <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-259"><a href="#OpenAPIBlueprintMixin-259"><span class="linenos">259</span></a>            <span class="c1"># Create a new config with the provided values</span>
</span><span id="OpenAPIBlueprintMixin-260"><a href="#OpenAPIBlueprintMixin-260"><span class="linenos">260</span></a>            <span class="n">new_config</span> <span class="o">=</span> <span class="n">ConventionalPrefixConfig</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-261"><a href="#OpenAPIBlueprintMixin-261"><span class="linenos">261</span></a>                <span class="n">request_body_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-262"><a href="#OpenAPIBlueprintMixin-262"><span class="linenos">262</span></a>                    <span class="s2">&quot;request_body_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-263"><a href="#OpenAPIBlueprintMixin-263"><span class="linenos">263</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_body_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-264"><a href="#OpenAPIBlueprintMixin-264"><span class="linenos">264</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin-265"><a href="#OpenAPIBlueprintMixin-265"><span class="linenos">265</span></a>                <span class="n">request_query_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-266"><a href="#OpenAPIBlueprintMixin-266"><span class="linenos">266</span></a>                    <span class="s2">&quot;request_query_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-267"><a href="#OpenAPIBlueprintMixin-267"><span class="linenos">267</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_query_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-268"><a href="#OpenAPIBlueprintMixin-268"><span class="linenos">268</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin-269"><a href="#OpenAPIBlueprintMixin-269"><span class="linenos">269</span></a>                <span class="n">request_path_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-270"><a href="#OpenAPIBlueprintMixin-270"><span class="linenos">270</span></a>                    <span class="s2">&quot;request_path_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-271"><a href="#OpenAPIBlueprintMixin-271"><span class="linenos">271</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_path_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-272"><a href="#OpenAPIBlueprintMixin-272"><span class="linenos">272</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin-273"><a href="#OpenAPIBlueprintMixin-273"><span class="linenos">273</span></a>                <span class="n">request_file_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-274"><a href="#OpenAPIBlueprintMixin-274"><span class="linenos">274</span></a>                    <span class="s2">&quot;request_file_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-275"><a href="#OpenAPIBlueprintMixin-275"><span class="linenos">275</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_file_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-276"><a href="#OpenAPIBlueprintMixin-276"><span class="linenos">276</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin-277"><a href="#OpenAPIBlueprintMixin-277"><span class="linenos">277</span></a>            <span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-278"><a href="#OpenAPIBlueprintMixin-278"><span class="linenos">278</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">new_config</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-279"><a href="#OpenAPIBlueprintMixin-279"><span class="linenos">279</span></a>
</span><span id="OpenAPIBlueprintMixin-280"><a href="#OpenAPIBlueprintMixin-280"><span class="linenos">280</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: D107</span>
</span><span id="OpenAPIBlueprintMixin-281"><a href="#OpenAPIBlueprintMixin-281"><span class="linenos">281</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-282"><a href="#OpenAPIBlueprintMixin-282"><span class="linenos">282</span></a>        <span class="c1"># Initialize a list to store MethodView resources</span>
</span><span id="OpenAPIBlueprintMixin-283"><a href="#OpenAPIBlueprintMixin-283"><span class="linenos">283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPIBlueprintMixin-284"><a href="#OpenAPIBlueprintMixin-284"><span class="linenos">284</span></a>
</span><span id="OpenAPIBlueprintMixin-285"><a href="#OpenAPIBlueprintMixin-285"><span class="linenos">285</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_openapi_schema</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin-286"><a href="#OpenAPIBlueprintMixin-286"><span class="linenos">286</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-287"><a href="#OpenAPIBlueprintMixin-287"><span class="linenos">287</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-288"><a href="#OpenAPIBlueprintMixin-288"><span class="linenos">288</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-289"><a href="#OpenAPIBlueprintMixin-289"><span class="linenos">289</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-290"><a href="#OpenAPIBlueprintMixin-290"><span class="linenos">290</span></a>        <span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;yaml&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-291"><a href="#OpenAPIBlueprintMixin-291"><span class="linenos">291</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin-292"><a href="#OpenAPIBlueprintMixin-292"><span class="linenos">292</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-293"><a href="#OpenAPIBlueprintMixin-293"><span class="linenos">293</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an OpenAPI schema for the API.</span>
</span><span id="OpenAPIBlueprintMixin-294"><a href="#OpenAPIBlueprintMixin-294"><span class="linenos">294</span></a>
</span><span id="OpenAPIBlueprintMixin-295"><a href="#OpenAPIBlueprintMixin-295"><span class="linenos">295</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIBlueprintMixin-296"><a href="#OpenAPIBlueprintMixin-296"><span class="linenos">296</span></a><span class="sd">            title: The title of the API (can be an I18nString)</span>
</span><span id="OpenAPIBlueprintMixin-297"><a href="#OpenAPIBlueprintMixin-297"><span class="linenos">297</span></a><span class="sd">            version: The version of the API</span>
</span><span id="OpenAPIBlueprintMixin-298"><a href="#OpenAPIBlueprintMixin-298"><span class="linenos">298</span></a><span class="sd">            description: The description of the API (can be an I18nString)</span>
</span><span id="OpenAPIBlueprintMixin-299"><a href="#OpenAPIBlueprintMixin-299"><span class="linenos">299</span></a><span class="sd">            output_format: The output format (json or yaml)</span>
</span><span id="OpenAPIBlueprintMixin-300"><a href="#OpenAPIBlueprintMixin-300"><span class="linenos">300</span></a><span class="sd">            language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPIBlueprintMixin-301"><a href="#OpenAPIBlueprintMixin-301"><span class="linenos">301</span></a>
</span><span id="OpenAPIBlueprintMixin-302"><a href="#OpenAPIBlueprintMixin-302"><span class="linenos">302</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIBlueprintMixin-303"><a href="#OpenAPIBlueprintMixin-303"><span class="linenos">303</span></a><span class="sd">            The OpenAPI schema as a dictionary (if json) or string (if yaml)</span>
</span><span id="OpenAPIBlueprintMixin-304"><a href="#OpenAPIBlueprintMixin-304"><span class="linenos">304</span></a>
</span><span id="OpenAPIBlueprintMixin-305"><a href="#OpenAPIBlueprintMixin-305"><span class="linenos">305</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIBlueprintMixin-306"><a href="#OpenAPIBlueprintMixin-306"><span class="linenos">306</span></a>        <span class="c1"># Use the specified language or get the current language</span>
</span><span id="OpenAPIBlueprintMixin-307"><a href="#OpenAPIBlueprintMixin-307"><span class="linenos">307</span></a>        <span class="n">current_lang</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPIBlueprintMixin-308"><a href="#OpenAPIBlueprintMixin-308"><span class="linenos">308</span></a>
</span><span id="OpenAPIBlueprintMixin-309"><a href="#OpenAPIBlueprintMixin-309"><span class="linenos">309</span></a>        <span class="n">generator</span> <span class="o">=</span> <span class="n">MethodViewOpenAPISchemaGenerator</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">current_lang</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-310"><a href="#OpenAPIBlueprintMixin-310"><span class="linenos">310</span></a>
</span><span id="OpenAPIBlueprintMixin-311"><a href="#OpenAPIBlueprintMixin-311"><span class="linenos">311</span></a>        <span class="c1"># Process MethodView resources</span>
</span><span id="OpenAPIBlueprintMixin-312"><a href="#OpenAPIBlueprintMixin-312"><span class="linenos">312</span></a>        <span class="n">generator</span><span class="o">.</span><span class="n">process_methodview_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-313"><a href="#OpenAPIBlueprintMixin-313"><span class="linenos">313</span></a>
</span><span id="OpenAPIBlueprintMixin-314"><a href="#OpenAPIBlueprintMixin-314"><span class="linenos">314</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">()</span>
</span><span id="OpenAPIBlueprintMixin-315"><a href="#OpenAPIBlueprintMixin-315"><span class="linenos">315</span></a>
</span><span id="OpenAPIBlueprintMixin-316"><a href="#OpenAPIBlueprintMixin-316"><span class="linenos">316</span></a>        <span class="k">if</span> <span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin-317"><a href="#OpenAPIBlueprintMixin-317"><span class="linenos">317</span></a>            <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin-318"><a href="#OpenAPIBlueprintMixin-318"><span class="linenos">318</span></a>        <span class="k">return</span> <span class="n">schema</span>
</span></pre></div>


            <div class="docstring"><p>A mixin class for Flask Blueprint to collect OpenAPI metadata from MethodView classes.</p>

<p>This mixin extends Flask's Blueprint class to add OpenAPI schema generation capabilities
for MethodView classes. It tracks MethodView classes registered to the blueprint and
provides methods to generate OpenAPI schemas.</p>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask import Blueprint, Flask
      from flask.views import MethodView
      from flask_x_openapi_schema.x.flask_restful import OpenAPIBlueprintMixin
      from flask_x_openapi_schema.x.flask import openapi_metadata, OpenAPIMethodViewMixin</p>

      <p>app = Flask(__name__)</p>

      <h1 id="create-an-openapi-enabled-blueprint">Create an OpenAPI-enabled Blueprint</h1>

      <p>class OpenAPIBlueprint(OpenAPIBlueprintMixin, Blueprint):
          ...     pass</p>

      <p>bp = OpenAPIBlueprint("api", __name__, url_prefix="/api")</p>

      <h1 id="create-a-methodview-with-openapi-metadata">Create a MethodView with OpenAPI metadata</h1>

      <p>class ItemView(OpenAPIMethodViewMixin, MethodView):
          ...     @openapi_metadata(summary="Get an item")
          ...     def get(self, item_id):
          ...         return {"id": item_id, "name": "Example Item"}</p>

      <h1 id="register-the-view-to-the-blueprint">Register the view to the blueprint</h1>

      <p>ItemView.register_to_blueprint(bp, "/items/<item_id>")</p>

      <h1 id="register-the-blueprint-to-the-app">Register the blueprint to the app</h1>

      <p>app.register_blueprint(bp)</p>

      <h1 id="generate-openapi-schema">Generate OpenAPI schema</h1>

      <p>@app.route("/openapi.yaml")
      def get_openapi_spec():
          ...     schema = bp.generate_openapi_schema(
          ...         title="My API", version="1.0.0", description="API for managing items"
          ...     )
          ...     return schema</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="OpenAPIBlueprintMixin.__init__" class="classattr">
                                        <input id="OpenAPIBlueprintMixin.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">OpenAPIBlueprintMixin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="OpenAPIBlueprintMixin.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIBlueprintMixin.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIBlueprintMixin.__init__-280"><a href="#OpenAPIBlueprintMixin.__init__-280"><span class="linenos">280</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: D107</span>
</span><span id="OpenAPIBlueprintMixin.__init__-281"><a href="#OpenAPIBlueprintMixin.__init__-281"><span class="linenos">281</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.__init__-282"><a href="#OpenAPIBlueprintMixin.__init__-282"><span class="linenos">282</span></a>        <span class="c1"># Initialize a list to store MethodView resources</span>
</span><span id="OpenAPIBlueprintMixin.__init__-283"><a href="#OpenAPIBlueprintMixin.__init__-283"><span class="linenos">283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>




                            </div>
                            <div id="OpenAPIBlueprintMixin.configure_openapi" class="classattr">
                                        <input id="OpenAPIBlueprintMixin.configure_openapi-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">configure_openapi</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">prefix_config</span><span class="p">:</span> <span class="n"><a href="#ConventionalPrefixConfig">ConventionalPrefixConfig</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="OpenAPIBlueprintMixin.configure_openapi-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIBlueprintMixin.configure_openapi"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIBlueprintMixin.configure_openapi-248"><a href="#OpenAPIBlueprintMixin.configure_openapi-248"><span class="linenos">248</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">configure_openapi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prefix_config</span><span class="p">:</span> <span class="n">ConventionalPrefixConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-249"><a href="#OpenAPIBlueprintMixin.configure_openapi-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure OpenAPI settings for this Blueprint instance.</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-250"><a href="#OpenAPIBlueprintMixin.configure_openapi-250"><span class="linenos">250</span></a>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-251"><a href="#OpenAPIBlueprintMixin.configure_openapi-251"><span class="linenos">251</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-252"><a href="#OpenAPIBlueprintMixin.configure_openapi-252"><span class="linenos">252</span></a><span class="sd">            prefix_config: Configuration object with parameter prefixes</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-253"><a href="#OpenAPIBlueprintMixin.configure_openapi-253"><span class="linenos">253</span></a><span class="sd">            **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-254"><a href="#OpenAPIBlueprintMixin.configure_openapi-254"><span class="linenos">254</span></a>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-255"><a href="#OpenAPIBlueprintMixin.configure_openapi-255"><span class="linenos">255</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-256"><a href="#OpenAPIBlueprintMixin.configure_openapi-256"><span class="linenos">256</span></a>        <span class="k">if</span> <span class="n">prefix_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-257"><a href="#OpenAPIBlueprintMixin.configure_openapi-257"><span class="linenos">257</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">prefix_config</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-258"><a href="#OpenAPIBlueprintMixin.configure_openapi-258"><span class="linenos">258</span></a>        <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-259"><a href="#OpenAPIBlueprintMixin.configure_openapi-259"><span class="linenos">259</span></a>            <span class="c1"># Create a new config with the provided values</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-260"><a href="#OpenAPIBlueprintMixin.configure_openapi-260"><span class="linenos">260</span></a>            <span class="n">new_config</span> <span class="o">=</span> <span class="n">ConventionalPrefixConfig</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-261"><a href="#OpenAPIBlueprintMixin.configure_openapi-261"><span class="linenos">261</span></a>                <span class="n">request_body_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-262"><a href="#OpenAPIBlueprintMixin.configure_openapi-262"><span class="linenos">262</span></a>                    <span class="s2">&quot;request_body_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-263"><a href="#OpenAPIBlueprintMixin.configure_openapi-263"><span class="linenos">263</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_body_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-264"><a href="#OpenAPIBlueprintMixin.configure_openapi-264"><span class="linenos">264</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-265"><a href="#OpenAPIBlueprintMixin.configure_openapi-265"><span class="linenos">265</span></a>                <span class="n">request_query_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-266"><a href="#OpenAPIBlueprintMixin.configure_openapi-266"><span class="linenos">266</span></a>                    <span class="s2">&quot;request_query_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-267"><a href="#OpenAPIBlueprintMixin.configure_openapi-267"><span class="linenos">267</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_query_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-268"><a href="#OpenAPIBlueprintMixin.configure_openapi-268"><span class="linenos">268</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-269"><a href="#OpenAPIBlueprintMixin.configure_openapi-269"><span class="linenos">269</span></a>                <span class="n">request_path_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-270"><a href="#OpenAPIBlueprintMixin.configure_openapi-270"><span class="linenos">270</span></a>                    <span class="s2">&quot;request_path_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-271"><a href="#OpenAPIBlueprintMixin.configure_openapi-271"><span class="linenos">271</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_path_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-272"><a href="#OpenAPIBlueprintMixin.configure_openapi-272"><span class="linenos">272</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-273"><a href="#OpenAPIBlueprintMixin.configure_openapi-273"><span class="linenos">273</span></a>                <span class="n">request_file_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-274"><a href="#OpenAPIBlueprintMixin.configure_openapi-274"><span class="linenos">274</span></a>                    <span class="s2">&quot;request_file_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-275"><a href="#OpenAPIBlueprintMixin.configure_openapi-275"><span class="linenos">275</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_file_prefix</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-276"><a href="#OpenAPIBlueprintMixin.configure_openapi-276"><span class="linenos">276</span></a>                <span class="p">),</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-277"><a href="#OpenAPIBlueprintMixin.configure_openapi-277"><span class="linenos">277</span></a>            <span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.configure_openapi-278"><a href="#OpenAPIBlueprintMixin.configure_openapi-278"><span class="linenos">278</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">new_config</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configure OpenAPI settings for this Blueprint instance.</p>

<p>Args:
    prefix_config: Configuration object with parameter prefixes
    **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</p>
</div>


                            </div>
                            <div id="OpenAPIBlueprintMixin.generate_openapi_schema" class="classattr">
                                        <input id="OpenAPIBlueprintMixin.generate_openapi_schema-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">generate_openapi_schema</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n"><a href="#I18nStr">I18nStr</a></span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n"><a href="#I18nStr">I18nStr</a></span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;yaml&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span>,</span><span class="param">	<span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

                <label class="view-source-button" for="OpenAPIBlueprintMixin.generate_openapi_schema-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIBlueprintMixin.generate_openapi_schema"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-285"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-285"><span class="linenos">285</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_openapi_schema</span><span class="p">(</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-286"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-286"><span class="linenos">286</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-287"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-287"><span class="linenos">287</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-288"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-288"><span class="linenos">288</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-289"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-289"><span class="linenos">289</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-290"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-290"><span class="linenos">290</span></a>        <span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;yaml&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-291"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-291"><span class="linenos">291</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-292"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-292"><span class="linenos">292</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-293"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-293"><span class="linenos">293</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an OpenAPI schema for the API.</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-294"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-294"><span class="linenos">294</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-295"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-295"><span class="linenos">295</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-296"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-296"><span class="linenos">296</span></a><span class="sd">            title: The title of the API (can be an I18nString)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-297"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-297"><span class="linenos">297</span></a><span class="sd">            version: The version of the API</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-298"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-298"><span class="linenos">298</span></a><span class="sd">            description: The description of the API (can be an I18nString)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-299"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-299"><span class="linenos">299</span></a><span class="sd">            output_format: The output format (json or yaml)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-300"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-300"><span class="linenos">300</span></a><span class="sd">            language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-301"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-301"><span class="linenos">301</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-302"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-302"><span class="linenos">302</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-303"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-303"><span class="linenos">303</span></a><span class="sd">            The OpenAPI schema as a dictionary (if json) or string (if yaml)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-304"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-304"><span class="linenos">304</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-305"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-305"><span class="linenos">305</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-306"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-306"><span class="linenos">306</span></a>        <span class="c1"># Use the specified language or get the current language</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-307"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-307"><span class="linenos">307</span></a>        <span class="n">current_lang</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-308"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-308"><span class="linenos">308</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-309"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-309"><span class="linenos">309</span></a>        <span class="n">generator</span> <span class="o">=</span> <span class="n">MethodViewOpenAPISchemaGenerator</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">current_lang</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-310"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-310"><span class="linenos">310</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-311"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-311"><span class="linenos">311</span></a>        <span class="c1"># Process MethodView resources</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-312"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-312"><span class="linenos">312</span></a>        <span class="n">generator</span><span class="o">.</span><span class="n">process_methodview_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-313"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-313"><span class="linenos">313</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-314"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-314"><span class="linenos">314</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">()</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-315"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-315"><span class="linenos">315</span></a>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-316"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-316"><span class="linenos">316</span></a>        <span class="k">if</span> <span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-317"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-317"><span class="linenos">317</span></a>            <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenAPIBlueprintMixin.generate_openapi_schema-318"><a href="#OpenAPIBlueprintMixin.generate_openapi_schema-318"><span class="linenos">318</span></a>        <span class="k">return</span> <span class="n">schema</span>
</span></pre></div>


            <div class="docstring"><p>Generate an OpenAPI schema for the API.</p>

<p>Args:
    title: The title of the API (can be an I18nString)
    version: The version of the API
    description: The description of the API (can be an I18nString)
    output_format: The output format (json or yaml)
    language: The language to use for internationalized strings (default: current language)</p>

<p>Returns:
    The OpenAPI schema as a dictionary (if json) or string (if yaml)</p>
</div>


                            </div>
                </section>
                <section id="OpenAPIIntegrationMixin">
                            <input id="OpenAPIIntegrationMixin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPIIntegrationMixin</span><wbr>(<span class="base">flask_restful.Api</span>):

                <label class="view-source-button" for="OpenAPIIntegrationMixin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIIntegrationMixin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIIntegrationMixin-15"><a href="#OpenAPIIntegrationMixin-15"><span class="linenos"> 15</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPIIntegrationMixin</span><span class="p">(</span><span class="n">Api</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin-16"><a href="#OpenAPIIntegrationMixin-16"><span class="linenos"> 16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A mixin class for the flask-restful Api to collect OpenAPI metadata.</span>
</span><span id="OpenAPIIntegrationMixin-17"><a href="#OpenAPIIntegrationMixin-17"><span class="linenos"> 17</span></a>
</span><span id="OpenAPIIntegrationMixin-18"><a href="#OpenAPIIntegrationMixin-18"><span class="linenos"> 18</span></a><span class="sd">    This mixin extends Flask-RESTful&#39;s Api class to add OpenAPI schema generation capabilities.</span>
</span><span id="OpenAPIIntegrationMixin-19"><a href="#OpenAPIIntegrationMixin-19"><span class="linenos"> 19</span></a><span class="sd">    It tracks resources added to the API and provides methods to generate OpenAPI schemas.</span>
</span><span id="OpenAPIIntegrationMixin-20"><a href="#OpenAPIIntegrationMixin-20"><span class="linenos"> 20</span></a>
</span><span id="OpenAPIIntegrationMixin-21"><a href="#OpenAPIIntegrationMixin-21"><span class="linenos"> 21</span></a><span class="sd">    :param args: Arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin-22"><a href="#OpenAPIIntegrationMixin-22"><span class="linenos"> 22</span></a><span class="sd">    :param kwargs: Keyword arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin-23"><a href="#OpenAPIIntegrationMixin-23"><span class="linenos"> 23</span></a>
</span><span id="OpenAPIIntegrationMixin-24"><a href="#OpenAPIIntegrationMixin-24"><span class="linenos"> 24</span></a><span class="sd">    Example:</span>
</span><span id="OpenAPIIntegrationMixin-25"><a href="#OpenAPIIntegrationMixin-25"><span class="linenos"> 25</span></a><span class="sd">        &gt;&gt;&gt; from flask import Flask</span>
</span><span id="OpenAPIIntegrationMixin-26"><a href="#OpenAPIIntegrationMixin-26"><span class="linenos"> 26</span></a><span class="sd">        &gt;&gt;&gt; from flask_restful import Resource</span>
</span><span id="OpenAPIIntegrationMixin-27"><a href="#OpenAPIIntegrationMixin-27"><span class="linenos"> 27</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema.x.flask_restful import OpenAPIIntegrationMixin, openapi_metadata</span>
</span><span id="OpenAPIIntegrationMixin-28"><a href="#OpenAPIIntegrationMixin-28"><span class="linenos"> 28</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import BaseModel, Field</span>
</span><span id="OpenAPIIntegrationMixin-29"><a href="#OpenAPIIntegrationMixin-29"><span class="linenos"> 29</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-30"><a href="#OpenAPIIntegrationMixin-30"><span class="linenos"> 30</span></a><span class="sd">        &gt;&gt;&gt; app = Flask(__name__)</span>
</span><span id="OpenAPIIntegrationMixin-31"><a href="#OpenAPIIntegrationMixin-31"><span class="linenos"> 31</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-32"><a href="#OpenAPIIntegrationMixin-32"><span class="linenos"> 32</span></a><span class="sd">        &gt;&gt;&gt; # Create an OpenAPI-enabled API</span>
</span><span id="OpenAPIIntegrationMixin-33"><a href="#OpenAPIIntegrationMixin-33"><span class="linenos"> 33</span></a><span class="sd">        &gt;&gt;&gt; class OpenAPIApi(OpenAPIIntegrationMixin):</span>
</span><span id="OpenAPIIntegrationMixin-34"><a href="#OpenAPIIntegrationMixin-34"><span class="linenos"> 34</span></a><span class="sd">        ...     pass</span>
</span><span id="OpenAPIIntegrationMixin-35"><a href="#OpenAPIIntegrationMixin-35"><span class="linenos"> 35</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-36"><a href="#OpenAPIIntegrationMixin-36"><span class="linenos"> 36</span></a><span class="sd">        &gt;&gt;&gt; api = OpenAPIApi(app)</span>
</span><span id="OpenAPIIntegrationMixin-37"><a href="#OpenAPIIntegrationMixin-37"><span class="linenos"> 37</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-38"><a href="#OpenAPIIntegrationMixin-38"><span class="linenos"> 38</span></a><span class="sd">        &gt;&gt;&gt; class ItemResource(Resource):</span>
</span><span id="OpenAPIIntegrationMixin-39"><a href="#OpenAPIIntegrationMixin-39"><span class="linenos"> 39</span></a><span class="sd">        ...     @openapi_metadata(summary=&quot;Get an item&quot;)</span>
</span><span id="OpenAPIIntegrationMixin-40"><a href="#OpenAPIIntegrationMixin-40"><span class="linenos"> 40</span></a><span class="sd">        ...     def get(self, item_id):</span>
</span><span id="OpenAPIIntegrationMixin-41"><a href="#OpenAPIIntegrationMixin-41"><span class="linenos"> 41</span></a><span class="sd">        ...         return {&quot;id&quot;: item_id, &quot;name&quot;: &quot;Example Item&quot;}</span>
</span><span id="OpenAPIIntegrationMixin-42"><a href="#OpenAPIIntegrationMixin-42"><span class="linenos"> 42</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-43"><a href="#OpenAPIIntegrationMixin-43"><span class="linenos"> 43</span></a><span class="sd">        &gt;&gt;&gt; # Register the resource</span>
</span><span id="OpenAPIIntegrationMixin-44"><a href="#OpenAPIIntegrationMixin-44"><span class="linenos"> 44</span></a><span class="sd">        &gt;&gt;&gt; api.add_resource(ItemResource, &quot;/items/&lt;item_id&gt;&quot;)</span>
</span><span id="OpenAPIIntegrationMixin-45"><a href="#OpenAPIIntegrationMixin-45"><span class="linenos"> 45</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-46"><a href="#OpenAPIIntegrationMixin-46"><span class="linenos"> 46</span></a><span class="sd">        &gt;&gt;&gt; # Generate OpenAPI schema</span>
</span><span id="OpenAPIIntegrationMixin-47"><a href="#OpenAPIIntegrationMixin-47"><span class="linenos"> 47</span></a><span class="sd">        &gt;&gt;&gt; @app.route(&quot;/openapi.yaml&quot;)</span>
</span><span id="OpenAPIIntegrationMixin-48"><a href="#OpenAPIIntegrationMixin-48"><span class="linenos"> 48</span></a><span class="sd">        &gt;&gt;&gt; def get_openapi_spec():</span>
</span><span id="OpenAPIIntegrationMixin-49"><a href="#OpenAPIIntegrationMixin-49"><span class="linenos"> 49</span></a><span class="sd">        ...     schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin-50"><a href="#OpenAPIIntegrationMixin-50"><span class="linenos"> 50</span></a><span class="sd">        ...         title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;</span>
</span><span id="OpenAPIIntegrationMixin-51"><a href="#OpenAPIIntegrationMixin-51"><span class="linenos"> 51</span></a><span class="sd">        ...     )</span>
</span><span id="OpenAPIIntegrationMixin-52"><a href="#OpenAPIIntegrationMixin-52"><span class="linenos"> 52</span></a><span class="sd">        ...     return schema</span>
</span><span id="OpenAPIIntegrationMixin-53"><a href="#OpenAPIIntegrationMixin-53"><span class="linenos"> 53</span></a>
</span><span id="OpenAPIIntegrationMixin-54"><a href="#OpenAPIIntegrationMixin-54"><span class="linenos"> 54</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin-55"><a href="#OpenAPIIntegrationMixin-55"><span class="linenos"> 55</span></a>
</span><span id="OpenAPIIntegrationMixin-56"><a href="#OpenAPIIntegrationMixin-56"><span class="linenos"> 56</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-57"><a href="#OpenAPIIntegrationMixin-57"><span class="linenos"> 57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the mixin.</span>
</span><span id="OpenAPIIntegrationMixin-58"><a href="#OpenAPIIntegrationMixin-58"><span class="linenos"> 58</span></a>
</span><span id="OpenAPIIntegrationMixin-59"><a href="#OpenAPIIntegrationMixin-59"><span class="linenos"> 59</span></a><span class="sd">        :param args: Arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin-60"><a href="#OpenAPIIntegrationMixin-60"><span class="linenos"> 60</span></a><span class="sd">        :param kwargs: Keyword arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin-61"><a href="#OpenAPIIntegrationMixin-61"><span class="linenos"> 61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin-62"><a href="#OpenAPIIntegrationMixin-62"><span class="linenos"> 62</span></a>        <span class="c1"># 确保调用父类的 __init__ 方法</span>
</span><span id="OpenAPIIntegrationMixin-63"><a href="#OpenAPIIntegrationMixin-63"><span class="linenos"> 63</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-64"><a href="#OpenAPIIntegrationMixin-64"><span class="linenos"> 64</span></a>
</span><span id="OpenAPIIntegrationMixin-65"><a href="#OpenAPIIntegrationMixin-65"><span class="linenos"> 65</span></a>        <span class="c1"># 确保 resources 属性已初始化</span>
</span><span id="OpenAPIIntegrationMixin-66"><a href="#OpenAPIIntegrationMixin-66"><span class="linenos"> 66</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin-67"><a href="#OpenAPIIntegrationMixin-67"><span class="linenos"> 67</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPIIntegrationMixin-68"><a href="#OpenAPIIntegrationMixin-68"><span class="linenos"> 68</span></a>
</span><span id="OpenAPIIntegrationMixin-69"><a href="#OpenAPIIntegrationMixin-69"><span class="linenos"> 69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="o">*</span><span class="n">urls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-70"><a href="#OpenAPIIntegrationMixin-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a resource to the API and register it for OpenAPI schema generation.</span>
</span><span id="OpenAPIIntegrationMixin-71"><a href="#OpenAPIIntegrationMixin-71"><span class="linenos"> 71</span></a>
</span><span id="OpenAPIIntegrationMixin-72"><a href="#OpenAPIIntegrationMixin-72"><span class="linenos"> 72</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIIntegrationMixin-73"><a href="#OpenAPIIntegrationMixin-73"><span class="linenos"> 73</span></a><span class="sd">            resource: The resource class</span>
</span><span id="OpenAPIIntegrationMixin-74"><a href="#OpenAPIIntegrationMixin-74"><span class="linenos"> 74</span></a><span class="sd">            *urls: The URLs to register the resource with</span>
</span><span id="OpenAPIIntegrationMixin-75"><a href="#OpenAPIIntegrationMixin-75"><span class="linenos"> 75</span></a><span class="sd">            **kwargs: Additional arguments to pass to the parent method</span>
</span><span id="OpenAPIIntegrationMixin-76"><a href="#OpenAPIIntegrationMixin-76"><span class="linenos"> 76</span></a>
</span><span id="OpenAPIIntegrationMixin-77"><a href="#OpenAPIIntegrationMixin-77"><span class="linenos"> 77</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIIntegrationMixin-78"><a href="#OpenAPIIntegrationMixin-78"><span class="linenos"> 78</span></a><span class="sd">            The result of the parent method</span>
</span><span id="OpenAPIIntegrationMixin-79"><a href="#OpenAPIIntegrationMixin-79"><span class="linenos"> 79</span></a>
</span><span id="OpenAPIIntegrationMixin-80"><a href="#OpenAPIIntegrationMixin-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin-81"><a href="#OpenAPIIntegrationMixin-81"><span class="linenos"> 81</span></a>        <span class="c1"># 调用父类的 add_resource 方法</span>
</span><span id="OpenAPIIntegrationMixin-82"><a href="#OpenAPIIntegrationMixin-82"><span class="linenos"> 82</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="o">*</span><span class="n">urls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-83"><a href="#OpenAPIIntegrationMixin-83"><span class="linenos"> 83</span></a>
</span><span id="OpenAPIIntegrationMixin-84"><a href="#OpenAPIIntegrationMixin-84"><span class="linenos"> 84</span></a>        <span class="c1"># 手动添加资源到 resources 属性</span>
</span><span id="OpenAPIIntegrationMixin-85"><a href="#OpenAPIIntegrationMixin-85"><span class="linenos"> 85</span></a>        <span class="c1"># 这是为了确保在测试中也能正确工作</span>
</span><span id="OpenAPIIntegrationMixin-86"><a href="#OpenAPIIntegrationMixin-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin-87"><a href="#OpenAPIIntegrationMixin-87"><span class="linenos"> 87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPIIntegrationMixin-88"><a href="#OpenAPIIntegrationMixin-88"><span class="linenos"> 88</span></a>
</span><span id="OpenAPIIntegrationMixin-89"><a href="#OpenAPIIntegrationMixin-89"><span class="linenos"> 89</span></a>        <span class="c1"># 检查资源是否已经存在</span>
</span><span id="OpenAPIIntegrationMixin-90"><a href="#OpenAPIIntegrationMixin-90"><span class="linenos"> 90</span></a>        <span class="k">for</span> <span class="n">existing_resource</span><span class="p">,</span> <span class="n">existing_urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-91"><a href="#OpenAPIIntegrationMixin-91"><span class="linenos"> 91</span></a>            <span class="k">if</span> <span class="n">existing_resource</span> <span class="o">==</span> <span class="n">resource</span> <span class="ow">and</span> <span class="nb">set</span><span class="p">(</span><span class="n">existing_urls</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">urls</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin-92"><a href="#OpenAPIIntegrationMixin-92"><span class="linenos"> 92</span></a>                <span class="k">return</span> <span class="n">result</span>
</span><span id="OpenAPIIntegrationMixin-93"><a href="#OpenAPIIntegrationMixin-93"><span class="linenos"> 93</span></a>
</span><span id="OpenAPIIntegrationMixin-94"><a href="#OpenAPIIntegrationMixin-94"><span class="linenos"> 94</span></a>        <span class="c1"># 添加资源</span>
</span><span id="OpenAPIIntegrationMixin-95"><a href="#OpenAPIIntegrationMixin-95"><span class="linenos"> 95</span></a>        <span class="c1"># 确保将 endpoint 作为字典中的一个键值对存储</span>
</span><span id="OpenAPIIntegrationMixin-96"><a href="#OpenAPIIntegrationMixin-96"><span class="linenos"> 96</span></a>        <span class="k">if</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-97"><a href="#OpenAPIIntegrationMixin-97"><span class="linenos"> 97</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin-98"><a href="#OpenAPIIntegrationMixin-98"><span class="linenos"> 98</span></a>        <span class="k">elif</span> <span class="n">kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-99"><a href="#OpenAPIIntegrationMixin-99"><span class="linenos"> 99</span></a>            <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">resource</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()}</span>
</span><span id="OpenAPIIntegrationMixin-100"><a href="#OpenAPIIntegrationMixin-100"><span class="linenos">100</span></a>
</span><span id="OpenAPIIntegrationMixin-101"><a href="#OpenAPIIntegrationMixin-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
</span><span id="OpenAPIIntegrationMixin-102"><a href="#OpenAPIIntegrationMixin-102"><span class="linenos">102</span></a>
</span><span id="OpenAPIIntegrationMixin-103"><a href="#OpenAPIIntegrationMixin-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="OpenAPIIntegrationMixin-104"><a href="#OpenAPIIntegrationMixin-104"><span class="linenos">104</span></a>
</span><span id="OpenAPIIntegrationMixin-105"><a href="#OpenAPIIntegrationMixin-105"><span class="linenos">105</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">configure_openapi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prefix_config</span><span class="p">:</span> <span class="n">ConventionalPrefixConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-106"><a href="#OpenAPIIntegrationMixin-106"><span class="linenos">106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure OpenAPI settings for this API instance.</span>
</span><span id="OpenAPIIntegrationMixin-107"><a href="#OpenAPIIntegrationMixin-107"><span class="linenos">107</span></a>
</span><span id="OpenAPIIntegrationMixin-108"><a href="#OpenAPIIntegrationMixin-108"><span class="linenos">108</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIIntegrationMixin-109"><a href="#OpenAPIIntegrationMixin-109"><span class="linenos">109</span></a><span class="sd">            prefix_config: Configuration object with parameter prefixes</span>
</span><span id="OpenAPIIntegrationMixin-110"><a href="#OpenAPIIntegrationMixin-110"><span class="linenos">110</span></a><span class="sd">            **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</span>
</span><span id="OpenAPIIntegrationMixin-111"><a href="#OpenAPIIntegrationMixin-111"><span class="linenos">111</span></a>
</span><span id="OpenAPIIntegrationMixin-112"><a href="#OpenAPIIntegrationMixin-112"><span class="linenos">112</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin-113"><a href="#OpenAPIIntegrationMixin-113"><span class="linenos">113</span></a>        <span class="k">if</span> <span class="n">prefix_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-114"><a href="#OpenAPIIntegrationMixin-114"><span class="linenos">114</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">prefix_config</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-115"><a href="#OpenAPIIntegrationMixin-115"><span class="linenos">115</span></a>        <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-116"><a href="#OpenAPIIntegrationMixin-116"><span class="linenos">116</span></a>            <span class="c1"># Create a new config with the provided values</span>
</span><span id="OpenAPIIntegrationMixin-117"><a href="#OpenAPIIntegrationMixin-117"><span class="linenos">117</span></a>            <span class="n">new_config</span> <span class="o">=</span> <span class="n">ConventionalPrefixConfig</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-118"><a href="#OpenAPIIntegrationMixin-118"><span class="linenos">118</span></a>                <span class="n">request_body_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-119"><a href="#OpenAPIIntegrationMixin-119"><span class="linenos">119</span></a>                    <span class="s2">&quot;request_body_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-120"><a href="#OpenAPIIntegrationMixin-120"><span class="linenos">120</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_body_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-121"><a href="#OpenAPIIntegrationMixin-121"><span class="linenos">121</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin-122"><a href="#OpenAPIIntegrationMixin-122"><span class="linenos">122</span></a>                <span class="n">request_query_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-123"><a href="#OpenAPIIntegrationMixin-123"><span class="linenos">123</span></a>                    <span class="s2">&quot;request_query_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-124"><a href="#OpenAPIIntegrationMixin-124"><span class="linenos">124</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_query_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-125"><a href="#OpenAPIIntegrationMixin-125"><span class="linenos">125</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin-126"><a href="#OpenAPIIntegrationMixin-126"><span class="linenos">126</span></a>                <span class="n">request_path_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-127"><a href="#OpenAPIIntegrationMixin-127"><span class="linenos">127</span></a>                    <span class="s2">&quot;request_path_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-128"><a href="#OpenAPIIntegrationMixin-128"><span class="linenos">128</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_path_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-129"><a href="#OpenAPIIntegrationMixin-129"><span class="linenos">129</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin-130"><a href="#OpenAPIIntegrationMixin-130"><span class="linenos">130</span></a>                <span class="n">request_file_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-131"><a href="#OpenAPIIntegrationMixin-131"><span class="linenos">131</span></a>                    <span class="s2">&quot;request_file_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-132"><a href="#OpenAPIIntegrationMixin-132"><span class="linenos">132</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_file_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-133"><a href="#OpenAPIIntegrationMixin-133"><span class="linenos">133</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin-134"><a href="#OpenAPIIntegrationMixin-134"><span class="linenos">134</span></a>            <span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-135"><a href="#OpenAPIIntegrationMixin-135"><span class="linenos">135</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">new_config</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-136"><a href="#OpenAPIIntegrationMixin-136"><span class="linenos">136</span></a>
</span><span id="OpenAPIIntegrationMixin-137"><a href="#OpenAPIIntegrationMixin-137"><span class="linenos">137</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_openapi_schema</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin-138"><a href="#OpenAPIIntegrationMixin-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-139"><a href="#OpenAPIIntegrationMixin-139"><span class="linenos">139</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-140"><a href="#OpenAPIIntegrationMixin-140"><span class="linenos">140</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-141"><a href="#OpenAPIIntegrationMixin-141"><span class="linenos">141</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-142"><a href="#OpenAPIIntegrationMixin-142"><span class="linenos">142</span></a>        <span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;yaml&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-143"><a href="#OpenAPIIntegrationMixin-143"><span class="linenos">143</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin-144"><a href="#OpenAPIIntegrationMixin-144"><span class="linenos">144</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-145"><a href="#OpenAPIIntegrationMixin-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an OpenAPI schema for the API.</span>
</span><span id="OpenAPIIntegrationMixin-146"><a href="#OpenAPIIntegrationMixin-146"><span class="linenos">146</span></a>
</span><span id="OpenAPIIntegrationMixin-147"><a href="#OpenAPIIntegrationMixin-147"><span class="linenos">147</span></a><span class="sd">        This method generates an OpenAPI schema for all resources registered with the API.</span>
</span><span id="OpenAPIIntegrationMixin-148"><a href="#OpenAPIIntegrationMixin-148"><span class="linenos">148</span></a><span class="sd">        It supports internationalization through I18nStr objects and can output the schema</span>
</span><span id="OpenAPIIntegrationMixin-149"><a href="#OpenAPIIntegrationMixin-149"><span class="linenos">149</span></a><span class="sd">        in either JSON or YAML format.</span>
</span><span id="OpenAPIIntegrationMixin-150"><a href="#OpenAPIIntegrationMixin-150"><span class="linenos">150</span></a>
</span><span id="OpenAPIIntegrationMixin-151"><a href="#OpenAPIIntegrationMixin-151"><span class="linenos">151</span></a><span class="sd">        :param title: The title of the API (can be an I18nString)</span>
</span><span id="OpenAPIIntegrationMixin-152"><a href="#OpenAPIIntegrationMixin-152"><span class="linenos">152</span></a><span class="sd">        :type title: Union[str, I18nStr]</span>
</span><span id="OpenAPIIntegrationMixin-153"><a href="#OpenAPIIntegrationMixin-153"><span class="linenos">153</span></a><span class="sd">        :param version: The version of the API</span>
</span><span id="OpenAPIIntegrationMixin-154"><a href="#OpenAPIIntegrationMixin-154"><span class="linenos">154</span></a><span class="sd">        :type version: str</span>
</span><span id="OpenAPIIntegrationMixin-155"><a href="#OpenAPIIntegrationMixin-155"><span class="linenos">155</span></a><span class="sd">        :param description: The description of the API (can be an I18nString)</span>
</span><span id="OpenAPIIntegrationMixin-156"><a href="#OpenAPIIntegrationMixin-156"><span class="linenos">156</span></a><span class="sd">        :type description: Union[str, I18nStr]</span>
</span><span id="OpenAPIIntegrationMixin-157"><a href="#OpenAPIIntegrationMixin-157"><span class="linenos">157</span></a><span class="sd">        :param output_format: The output format (json or yaml)</span>
</span><span id="OpenAPIIntegrationMixin-158"><a href="#OpenAPIIntegrationMixin-158"><span class="linenos">158</span></a><span class="sd">        :type output_format: Literal[&quot;json&quot;, &quot;yaml&quot;]</span>
</span><span id="OpenAPIIntegrationMixin-159"><a href="#OpenAPIIntegrationMixin-159"><span class="linenos">159</span></a><span class="sd">        :param language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPIIntegrationMixin-160"><a href="#OpenAPIIntegrationMixin-160"><span class="linenos">160</span></a><span class="sd">        :type language: Optional[str]</span>
</span><span id="OpenAPIIntegrationMixin-161"><a href="#OpenAPIIntegrationMixin-161"><span class="linenos">161</span></a><span class="sd">        :return: The OpenAPI schema as a dictionary (if json) or string (if yaml)</span>
</span><span id="OpenAPIIntegrationMixin-162"><a href="#OpenAPIIntegrationMixin-162"><span class="linenos">162</span></a><span class="sd">        :rtype: Union[Dict[str, Any], str]</span>
</span><span id="OpenAPIIntegrationMixin-163"><a href="#OpenAPIIntegrationMixin-163"><span class="linenos">163</span></a>
</span><span id="OpenAPIIntegrationMixin-164"><a href="#OpenAPIIntegrationMixin-164"><span class="linenos">164</span></a><span class="sd">        Example:</span>
</span><span id="OpenAPIIntegrationMixin-165"><a href="#OpenAPIIntegrationMixin-165"><span class="linenos">165</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema in YAML format</span>
</span><span id="OpenAPIIntegrationMixin-166"><a href="#OpenAPIIntegrationMixin-166"><span class="linenos">166</span></a><span class="sd">            &gt;&gt;&gt; yaml_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin-167"><a href="#OpenAPIIntegrationMixin-167"><span class="linenos">167</span></a><span class="sd">            ...     title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;</span>
</span><span id="OpenAPIIntegrationMixin-168"><a href="#OpenAPIIntegrationMixin-168"><span class="linenos">168</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin-169"><a href="#OpenAPIIntegrationMixin-169"><span class="linenos">169</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-170"><a href="#OpenAPIIntegrationMixin-170"><span class="linenos">170</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema in JSON format</span>
</span><span id="OpenAPIIntegrationMixin-171"><a href="#OpenAPIIntegrationMixin-171"><span class="linenos">171</span></a><span class="sd">            &gt;&gt;&gt; json_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin-172"><a href="#OpenAPIIntegrationMixin-172"><span class="linenos">172</span></a><span class="sd">            ...     title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;, output_format=&quot;json&quot;</span>
</span><span id="OpenAPIIntegrationMixin-173"><a href="#OpenAPIIntegrationMixin-173"><span class="linenos">173</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin-174"><a href="#OpenAPIIntegrationMixin-174"><span class="linenos">174</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin-175"><a href="#OpenAPIIntegrationMixin-175"><span class="linenos">175</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema with internationalized strings</span>
</span><span id="OpenAPIIntegrationMixin-176"><a href="#OpenAPIIntegrationMixin-176"><span class="linenos">176</span></a><span class="sd">            &gt;&gt;&gt; from flask_x_openapi_schema import I18nStr</span>
</span><span id="OpenAPIIntegrationMixin-177"><a href="#OpenAPIIntegrationMixin-177"><span class="linenos">177</span></a><span class="sd">            &gt;&gt;&gt; i18n_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin-178"><a href="#OpenAPIIntegrationMixin-178"><span class="linenos">178</span></a><span class="sd">            ...     title=I18nStr({&quot;en-US&quot;: &quot;My API&quot;, &quot;zh-Hans&quot;: &quot;我的API&quot;}),</span>
</span><span id="OpenAPIIntegrationMixin-179"><a href="#OpenAPIIntegrationMixin-179"><span class="linenos">179</span></a><span class="sd">            ...     version=&quot;1.0.0&quot;,</span>
</span><span id="OpenAPIIntegrationMixin-180"><a href="#OpenAPIIntegrationMixin-180"><span class="linenos">180</span></a><span class="sd">            ...     description=I18nStr({&quot;en-US&quot;: &quot;API for managing items&quot;, &quot;zh-Hans&quot;: &quot;用于管理项目的API&quot;}),</span>
</span><span id="OpenAPIIntegrationMixin-181"><a href="#OpenAPIIntegrationMixin-181"><span class="linenos">181</span></a><span class="sd">            ...     language=&quot;zh-Hans&quot;,  # Use Chinese for the schema</span>
</span><span id="OpenAPIIntegrationMixin-182"><a href="#OpenAPIIntegrationMixin-182"><span class="linenos">182</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin-183"><a href="#OpenAPIIntegrationMixin-183"><span class="linenos">183</span></a>
</span><span id="OpenAPIIntegrationMixin-184"><a href="#OpenAPIIntegrationMixin-184"><span class="linenos">184</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin-185"><a href="#OpenAPIIntegrationMixin-185"><span class="linenos">185</span></a>        <span class="c1"># Use the specified language or get the current language</span>
</span><span id="OpenAPIIntegrationMixin-186"><a href="#OpenAPIIntegrationMixin-186"><span class="linenos">186</span></a>        <span class="n">current_lang</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin-187"><a href="#OpenAPIIntegrationMixin-187"><span class="linenos">187</span></a>
</span><span id="OpenAPIIntegrationMixin-188"><a href="#OpenAPIIntegrationMixin-188"><span class="linenos">188</span></a>        <span class="n">generator</span> <span class="o">=</span> <span class="n">OpenAPISchemaGenerator</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">current_lang</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-189"><a href="#OpenAPIIntegrationMixin-189"><span class="linenos">189</span></a>
</span><span id="OpenAPIIntegrationMixin-190"><a href="#OpenAPIIntegrationMixin-190"><span class="linenos">190</span></a>        <span class="c1"># Get URL prefix from blueprint if available</span>
</span><span id="OpenAPIIntegrationMixin-191"><a href="#OpenAPIIntegrationMixin-191"><span class="linenos">191</span></a>        <span class="n">url_prefix</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="OpenAPIIntegrationMixin-192"><a href="#OpenAPIIntegrationMixin-192"><span class="linenos">192</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;blueprint&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;url_prefix&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin-193"><a href="#OpenAPIIntegrationMixin-193"><span class="linenos">193</span></a>            <span class="n">url_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blueprint</span><span class="o">.</span><span class="n">url_prefix</span>
</span><span id="OpenAPIIntegrationMixin-194"><a href="#OpenAPIIntegrationMixin-194"><span class="linenos">194</span></a>
</span><span id="OpenAPIIntegrationMixin-195"><a href="#OpenAPIIntegrationMixin-195"><span class="linenos">195</span></a>        <span class="k">for</span> <span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-196"><a href="#OpenAPIIntegrationMixin-196"><span class="linenos">196</span></a>            <span class="n">generator</span><span class="o">.</span><span class="n">_process_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">url_prefix</span><span class="p">)</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIIntegrationMixin-197"><a href="#OpenAPIIntegrationMixin-197"><span class="linenos">197</span></a>
</span><span id="OpenAPIIntegrationMixin-198"><a href="#OpenAPIIntegrationMixin-198"><span class="linenos">198</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin-199"><a href="#OpenAPIIntegrationMixin-199"><span class="linenos">199</span></a>
</span><span id="OpenAPIIntegrationMixin-200"><a href="#OpenAPIIntegrationMixin-200"><span class="linenos">200</span></a>        <span class="k">if</span> <span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin-201"><a href="#OpenAPIIntegrationMixin-201"><span class="linenos">201</span></a>            <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin-202"><a href="#OpenAPIIntegrationMixin-202"><span class="linenos">202</span></a>        <span class="k">return</span> <span class="n">schema</span>
</span></pre></div>


            <div class="docstring"><p>A mixin class for the flask-restful Api to collect OpenAPI metadata.</p>

<p>This mixin extends Flask-RESTful's Api class to add OpenAPI schema generation capabilities.
It tracks resources added to the API and provides methods to generate OpenAPI schemas.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>args</strong>:  Arguments to pass to the parent class</li>
<li><strong>kwargs</strong>:  Keyword arguments to pass to the parent class</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask import Flask
      from flask_restful import Resource
      from flask_x_openapi_schema.x.flask_restful import OpenAPIIntegrationMixin, openapi_metadata
      from pydantic import BaseModel, Field</p>

      <p>app = Flask(__name__)</p>

      <h1 id="create-an-openapi-enabled-api">Create an OpenAPI-enabled API</h1>

      <p>class OpenAPIApi(OpenAPIIntegrationMixin):
          ...     pass</p>

      <p>api = OpenAPIApi(app)</p>

      <p>class ItemResource(Resource):
          ...     @openapi_metadata(summary="Get an item")
          ...     def get(self, item_id):
          ...         return {"id": item_id, "name": "Example Item"}</p>

      <h1 id="register-the-resource">Register the resource</h1>

      <p>api.add_resource(ItemResource, "/items/<item_id>")</p>

      <h1 id="generate-openapi-schema">Generate OpenAPI schema</h1>

      <p>@app.route("/openapi.yaml")
      def get_openapi_spec():
          ...     schema = api.generate_openapi_schema(
          ...         title="My API", version="1.0.0", description="API for managing items"
          ...     )
          ...     return schema</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="OpenAPIIntegrationMixin.__init__" class="classattr">
                                        <input id="OpenAPIIntegrationMixin.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">OpenAPIIntegrationMixin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="OpenAPIIntegrationMixin.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIIntegrationMixin.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIIntegrationMixin.__init__-56"><a href="#OpenAPIIntegrationMixin.__init__-56"><span class="linenos">56</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.__init__-57"><a href="#OpenAPIIntegrationMixin.__init__-57"><span class="linenos">57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the mixin.</span>
</span><span id="OpenAPIIntegrationMixin.__init__-58"><a href="#OpenAPIIntegrationMixin.__init__-58"><span class="linenos">58</span></a>
</span><span id="OpenAPIIntegrationMixin.__init__-59"><a href="#OpenAPIIntegrationMixin.__init__-59"><span class="linenos">59</span></a><span class="sd">        :param args: Arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin.__init__-60"><a href="#OpenAPIIntegrationMixin.__init__-60"><span class="linenos">60</span></a><span class="sd">        :param kwargs: Keyword arguments to pass to the parent class</span>
</span><span id="OpenAPIIntegrationMixin.__init__-61"><a href="#OpenAPIIntegrationMixin.__init__-61"><span class="linenos">61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin.__init__-62"><a href="#OpenAPIIntegrationMixin.__init__-62"><span class="linenos">62</span></a>        <span class="c1"># 确保调用父类的 __init__ 方法</span>
</span><span id="OpenAPIIntegrationMixin.__init__-63"><a href="#OpenAPIIntegrationMixin.__init__-63"><span class="linenos">63</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.__init__-64"><a href="#OpenAPIIntegrationMixin.__init__-64"><span class="linenos">64</span></a>
</span><span id="OpenAPIIntegrationMixin.__init__-65"><a href="#OpenAPIIntegrationMixin.__init__-65"><span class="linenos">65</span></a>        <span class="c1"># 确保 resources 属性已初始化</span>
</span><span id="OpenAPIIntegrationMixin.__init__-66"><a href="#OpenAPIIntegrationMixin.__init__-66"><span class="linenos">66</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin.__init__-67"><a href="#OpenAPIIntegrationMixin.__init__-67"><span class="linenos">67</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the mixin.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>args</strong>:  Arguments to pass to the parent class</li>
<li><strong>kwargs</strong>:  Keyword arguments to pass to the parent class</li>
</ul>
</div>


                            </div>
                            <div id="OpenAPIIntegrationMixin.add_resource" class="classattr">
                                        <input id="OpenAPIIntegrationMixin.add_resource-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">add_resource</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">resource</span><span class="p">:</span> <span class="n">flask_restful</span><span class="o">.</span><span class="n">Resource</span>, </span><span class="param"><span class="o">*</span><span class="n">urls</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

                <label class="view-source-button" for="OpenAPIIntegrationMixin.add_resource-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIIntegrationMixin.add_resource"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIIntegrationMixin.add_resource-69"><a href="#OpenAPIIntegrationMixin.add_resource-69"><span class="linenos"> 69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="o">*</span><span class="n">urls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-70"><a href="#OpenAPIIntegrationMixin.add_resource-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a resource to the API and register it for OpenAPI schema generation.</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-71"><a href="#OpenAPIIntegrationMixin.add_resource-71"><span class="linenos"> 71</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-72"><a href="#OpenAPIIntegrationMixin.add_resource-72"><span class="linenos"> 72</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-73"><a href="#OpenAPIIntegrationMixin.add_resource-73"><span class="linenos"> 73</span></a><span class="sd">            resource: The resource class</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-74"><a href="#OpenAPIIntegrationMixin.add_resource-74"><span class="linenos"> 74</span></a><span class="sd">            *urls: The URLs to register the resource with</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-75"><a href="#OpenAPIIntegrationMixin.add_resource-75"><span class="linenos"> 75</span></a><span class="sd">            **kwargs: Additional arguments to pass to the parent method</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-76"><a href="#OpenAPIIntegrationMixin.add_resource-76"><span class="linenos"> 76</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-77"><a href="#OpenAPIIntegrationMixin.add_resource-77"><span class="linenos"> 77</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-78"><a href="#OpenAPIIntegrationMixin.add_resource-78"><span class="linenos"> 78</span></a><span class="sd">            The result of the parent method</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-79"><a href="#OpenAPIIntegrationMixin.add_resource-79"><span class="linenos"> 79</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-80"><a href="#OpenAPIIntegrationMixin.add_resource-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-81"><a href="#OpenAPIIntegrationMixin.add_resource-81"><span class="linenos"> 81</span></a>        <span class="c1"># 调用父类的 add_resource 方法</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-82"><a href="#OpenAPIIntegrationMixin.add_resource-82"><span class="linenos"> 82</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="o">*</span><span class="n">urls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-83"><a href="#OpenAPIIntegrationMixin.add_resource-83"><span class="linenos"> 83</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-84"><a href="#OpenAPIIntegrationMixin.add_resource-84"><span class="linenos"> 84</span></a>        <span class="c1"># 手动添加资源到 resources 属性</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-85"><a href="#OpenAPIIntegrationMixin.add_resource-85"><span class="linenos"> 85</span></a>        <span class="c1"># 这是为了确保在测试中也能正确工作</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-86"><a href="#OpenAPIIntegrationMixin.add_resource-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-87"><a href="#OpenAPIIntegrationMixin.add_resource-87"><span class="linenos"> 87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-88"><a href="#OpenAPIIntegrationMixin.add_resource-88"><span class="linenos"> 88</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-89"><a href="#OpenAPIIntegrationMixin.add_resource-89"><span class="linenos"> 89</span></a>        <span class="c1"># 检查资源是否已经存在</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-90"><a href="#OpenAPIIntegrationMixin.add_resource-90"><span class="linenos"> 90</span></a>        <span class="k">for</span> <span class="n">existing_resource</span><span class="p">,</span> <span class="n">existing_urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-91"><a href="#OpenAPIIntegrationMixin.add_resource-91"><span class="linenos"> 91</span></a>            <span class="k">if</span> <span class="n">existing_resource</span> <span class="o">==</span> <span class="n">resource</span> <span class="ow">and</span> <span class="nb">set</span><span class="p">(</span><span class="n">existing_urls</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">urls</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-92"><a href="#OpenAPIIntegrationMixin.add_resource-92"><span class="linenos"> 92</span></a>                <span class="k">return</span> <span class="n">result</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-93"><a href="#OpenAPIIntegrationMixin.add_resource-93"><span class="linenos"> 93</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-94"><a href="#OpenAPIIntegrationMixin.add_resource-94"><span class="linenos"> 94</span></a>        <span class="c1"># 添加资源</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-95"><a href="#OpenAPIIntegrationMixin.add_resource-95"><span class="linenos"> 95</span></a>        <span class="c1"># 确保将 endpoint 作为字典中的一个键值对存储</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-96"><a href="#OpenAPIIntegrationMixin.add_resource-96"><span class="linenos"> 96</span></a>        <span class="k">if</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-97"><a href="#OpenAPIIntegrationMixin.add_resource-97"><span class="linenos"> 97</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-98"><a href="#OpenAPIIntegrationMixin.add_resource-98"><span class="linenos"> 98</span></a>        <span class="k">elif</span> <span class="n">kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-99"><a href="#OpenAPIIntegrationMixin.add_resource-99"><span class="linenos"> 99</span></a>            <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">resource</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()}</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-100"><a href="#OpenAPIIntegrationMixin.add_resource-100"><span class="linenos">100</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-101"><a href="#OpenAPIIntegrationMixin.add_resource-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
</span><span id="OpenAPIIntegrationMixin.add_resource-102"><a href="#OpenAPIIntegrationMixin.add_resource-102"><span class="linenos">102</span></a>
</span><span id="OpenAPIIntegrationMixin.add_resource-103"><a href="#OpenAPIIntegrationMixin.add_resource-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Add a resource to the API and register it for OpenAPI schema generation.</p>

<p>Args:
    resource: The resource class
    <em>urls: The URLs to register the resource with
    *</em>kwargs: Additional arguments to pass to the parent method</p>

<p>Returns:
    The result of the parent method</p>
</div>


                            </div>
                            <div id="OpenAPIIntegrationMixin.configure_openapi" class="classattr">
                                        <input id="OpenAPIIntegrationMixin.configure_openapi-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">configure_openapi</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">prefix_config</span><span class="p">:</span> <span class="n"><a href="#ConventionalPrefixConfig">ConventionalPrefixConfig</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="OpenAPIIntegrationMixin.configure_openapi-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIIntegrationMixin.configure_openapi"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIIntegrationMixin.configure_openapi-105"><a href="#OpenAPIIntegrationMixin.configure_openapi-105"><span class="linenos">105</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">configure_openapi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prefix_config</span><span class="p">:</span> <span class="n">ConventionalPrefixConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-106"><a href="#OpenAPIIntegrationMixin.configure_openapi-106"><span class="linenos">106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure OpenAPI settings for this API instance.</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-107"><a href="#OpenAPIIntegrationMixin.configure_openapi-107"><span class="linenos">107</span></a>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-108"><a href="#OpenAPIIntegrationMixin.configure_openapi-108"><span class="linenos">108</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-109"><a href="#OpenAPIIntegrationMixin.configure_openapi-109"><span class="linenos">109</span></a><span class="sd">            prefix_config: Configuration object with parameter prefixes</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-110"><a href="#OpenAPIIntegrationMixin.configure_openapi-110"><span class="linenos">110</span></a><span class="sd">            **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-111"><a href="#OpenAPIIntegrationMixin.configure_openapi-111"><span class="linenos">111</span></a>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-112"><a href="#OpenAPIIntegrationMixin.configure_openapi-112"><span class="linenos">112</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-113"><a href="#OpenAPIIntegrationMixin.configure_openapi-113"><span class="linenos">113</span></a>        <span class="k">if</span> <span class="n">prefix_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-114"><a href="#OpenAPIIntegrationMixin.configure_openapi-114"><span class="linenos">114</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">prefix_config</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-115"><a href="#OpenAPIIntegrationMixin.configure_openapi-115"><span class="linenos">115</span></a>        <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-116"><a href="#OpenAPIIntegrationMixin.configure_openapi-116"><span class="linenos">116</span></a>            <span class="c1"># Create a new config with the provided values</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-117"><a href="#OpenAPIIntegrationMixin.configure_openapi-117"><span class="linenos">117</span></a>            <span class="n">new_config</span> <span class="o">=</span> <span class="n">ConventionalPrefixConfig</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-118"><a href="#OpenAPIIntegrationMixin.configure_openapi-118"><span class="linenos">118</span></a>                <span class="n">request_body_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-119"><a href="#OpenAPIIntegrationMixin.configure_openapi-119"><span class="linenos">119</span></a>                    <span class="s2">&quot;request_body_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-120"><a href="#OpenAPIIntegrationMixin.configure_openapi-120"><span class="linenos">120</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_body_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-121"><a href="#OpenAPIIntegrationMixin.configure_openapi-121"><span class="linenos">121</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-122"><a href="#OpenAPIIntegrationMixin.configure_openapi-122"><span class="linenos">122</span></a>                <span class="n">request_query_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-123"><a href="#OpenAPIIntegrationMixin.configure_openapi-123"><span class="linenos">123</span></a>                    <span class="s2">&quot;request_query_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-124"><a href="#OpenAPIIntegrationMixin.configure_openapi-124"><span class="linenos">124</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_query_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-125"><a href="#OpenAPIIntegrationMixin.configure_openapi-125"><span class="linenos">125</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-126"><a href="#OpenAPIIntegrationMixin.configure_openapi-126"><span class="linenos">126</span></a>                <span class="n">request_path_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-127"><a href="#OpenAPIIntegrationMixin.configure_openapi-127"><span class="linenos">127</span></a>                    <span class="s2">&quot;request_path_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-128"><a href="#OpenAPIIntegrationMixin.configure_openapi-128"><span class="linenos">128</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_path_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-129"><a href="#OpenAPIIntegrationMixin.configure_openapi-129"><span class="linenos">129</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-130"><a href="#OpenAPIIntegrationMixin.configure_openapi-130"><span class="linenos">130</span></a>                <span class="n">request_file_prefix</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-131"><a href="#OpenAPIIntegrationMixin.configure_openapi-131"><span class="linenos">131</span></a>                    <span class="s2">&quot;request_file_prefix&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-132"><a href="#OpenAPIIntegrationMixin.configure_openapi-132"><span class="linenos">132</span></a>                    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">request_file_prefix</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-133"><a href="#OpenAPIIntegrationMixin.configure_openapi-133"><span class="linenos">133</span></a>                <span class="p">),</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-134"><a href="#OpenAPIIntegrationMixin.configure_openapi-134"><span class="linenos">134</span></a>            <span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.configure_openapi-135"><a href="#OpenAPIIntegrationMixin.configure_openapi-135"><span class="linenos">135</span></a>            <span class="n">configure_prefixes</span><span class="p">(</span><span class="n">new_config</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configure OpenAPI settings for this API instance.</p>

<p>Args:
    prefix_config: Configuration object with parameter prefixes
    **kwargs: For backward compatibility - will be used to create a config object if prefix_config is None</p>
</div>


                            </div>
                            <div id="OpenAPIIntegrationMixin.generate_openapi_schema" class="classattr">
                                        <input id="OpenAPIIntegrationMixin.generate_openapi_schema-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">generate_openapi_schema</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n"><a href="#I18nStr">I18nStr</a></span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n"><a href="#I18nStr">I18nStr</a></span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;yaml&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span>,</span><span class="param">	<span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

                <label class="view-source-button" for="OpenAPIIntegrationMixin.generate_openapi_schema-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIIntegrationMixin.generate_openapi_schema"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-137"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-137"><span class="linenos">137</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_openapi_schema</span><span class="p">(</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-138"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-139"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-139"><span class="linenos">139</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-140"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-140"><span class="linenos">140</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-141"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-141"><span class="linenos">141</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">I18nStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-142"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-142"><span class="linenos">142</span></a>        <span class="n">output_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;yaml&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-143"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-143"><span class="linenos">143</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-144"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-144"><span class="linenos">144</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-145"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an OpenAPI schema for the API.</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-146"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-146"><span class="linenos">146</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-147"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-147"><span class="linenos">147</span></a><span class="sd">        This method generates an OpenAPI schema for all resources registered with the API.</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-148"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-148"><span class="linenos">148</span></a><span class="sd">        It supports internationalization through I18nStr objects and can output the schema</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-149"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-149"><span class="linenos">149</span></a><span class="sd">        in either JSON or YAML format.</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-150"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-150"><span class="linenos">150</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-151"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-151"><span class="linenos">151</span></a><span class="sd">        :param title: The title of the API (can be an I18nString)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-152"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-152"><span class="linenos">152</span></a><span class="sd">        :type title: Union[str, I18nStr]</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-153"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-153"><span class="linenos">153</span></a><span class="sd">        :param version: The version of the API</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-154"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-154"><span class="linenos">154</span></a><span class="sd">        :type version: str</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-155"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-155"><span class="linenos">155</span></a><span class="sd">        :param description: The description of the API (can be an I18nString)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-156"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-156"><span class="linenos">156</span></a><span class="sd">        :type description: Union[str, I18nStr]</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-157"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-157"><span class="linenos">157</span></a><span class="sd">        :param output_format: The output format (json or yaml)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-158"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-158"><span class="linenos">158</span></a><span class="sd">        :type output_format: Literal[&quot;json&quot;, &quot;yaml&quot;]</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-159"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-159"><span class="linenos">159</span></a><span class="sd">        :param language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-160"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-160"><span class="linenos">160</span></a><span class="sd">        :type language: Optional[str]</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-161"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-161"><span class="linenos">161</span></a><span class="sd">        :return: The OpenAPI schema as a dictionary (if json) or string (if yaml)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-162"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-162"><span class="linenos">162</span></a><span class="sd">        :rtype: Union[Dict[str, Any], str]</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-163"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-163"><span class="linenos">163</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-164"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-164"><span class="linenos">164</span></a><span class="sd">        Example:</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-165"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-165"><span class="linenos">165</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema in YAML format</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-166"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-166"><span class="linenos">166</span></a><span class="sd">            &gt;&gt;&gt; yaml_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-167"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-167"><span class="linenos">167</span></a><span class="sd">            ...     title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-168"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-168"><span class="linenos">168</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-169"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-169"><span class="linenos">169</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-170"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-170"><span class="linenos">170</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema in JSON format</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-171"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-171"><span class="linenos">171</span></a><span class="sd">            &gt;&gt;&gt; json_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-172"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-172"><span class="linenos">172</span></a><span class="sd">            ...     title=&quot;My API&quot;, version=&quot;1.0.0&quot;, description=&quot;API for managing items&quot;, output_format=&quot;json&quot;</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-173"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-173"><span class="linenos">173</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-174"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-174"><span class="linenos">174</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-175"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-175"><span class="linenos">175</span></a><span class="sd">            &gt;&gt;&gt; # Generate schema with internationalized strings</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-176"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-176"><span class="linenos">176</span></a><span class="sd">            &gt;&gt;&gt; from flask_x_openapi_schema import I18nStr</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-177"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-177"><span class="linenos">177</span></a><span class="sd">            &gt;&gt;&gt; i18n_schema = api.generate_openapi_schema(</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-178"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-178"><span class="linenos">178</span></a><span class="sd">            ...     title=I18nStr({&quot;en-US&quot;: &quot;My API&quot;, &quot;zh-Hans&quot;: &quot;我的API&quot;}),</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-179"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-179"><span class="linenos">179</span></a><span class="sd">            ...     version=&quot;1.0.0&quot;,</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-180"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-180"><span class="linenos">180</span></a><span class="sd">            ...     description=I18nStr({&quot;en-US&quot;: &quot;API for managing items&quot;, &quot;zh-Hans&quot;: &quot;用于管理项目的API&quot;}),</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-181"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-181"><span class="linenos">181</span></a><span class="sd">            ...     language=&quot;zh-Hans&quot;,  # Use Chinese for the schema</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-182"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-182"><span class="linenos">182</span></a><span class="sd">            ... )</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-183"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-183"><span class="linenos">183</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-184"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-184"><span class="linenos">184</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-185"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-185"><span class="linenos">185</span></a>        <span class="c1"># Use the specified language or get the current language</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-186"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-186"><span class="linenos">186</span></a>        <span class="n">current_lang</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-187"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-187"><span class="linenos">187</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-188"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-188"><span class="linenos">188</span></a>        <span class="n">generator</span> <span class="o">=</span> <span class="n">OpenAPISchemaGenerator</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">current_lang</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-189"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-189"><span class="linenos">189</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-190"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-190"><span class="linenos">190</span></a>        <span class="c1"># Get URL prefix from blueprint if available</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-191"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-191"><span class="linenos">191</span></a>        <span class="n">url_prefix</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-192"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-192"><span class="linenos">192</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;blueprint&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;url_prefix&quot;</span><span class="p">):</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-193"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-193"><span class="linenos">193</span></a>            <span class="n">url_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blueprint</span><span class="o">.</span><span class="n">url_prefix</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-194"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-194"><span class="linenos">194</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-195"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-195"><span class="linenos">195</span></a>        <span class="k">for</span> <span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-196"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-196"><span class="linenos">196</span></a>            <span class="n">generator</span><span class="o">.</span><span class="n">_process_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">url_prefix</span><span class="p">)</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-197"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-197"><span class="linenos">197</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-198"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-198"><span class="linenos">198</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">()</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-199"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-199"><span class="linenos">199</span></a>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-200"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-200"><span class="linenos">200</span></a>        <span class="k">if</span> <span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-201"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-201"><span class="linenos">201</span></a>            <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenAPIIntegrationMixin.generate_openapi_schema-202"><a href="#OpenAPIIntegrationMixin.generate_openapi_schema-202"><span class="linenos">202</span></a>        <span class="k">return</span> <span class="n">schema</span>
</span></pre></div>


            <div class="docstring"><p>Generate an OpenAPI schema for the API.</p>

<p>This method generates an OpenAPI schema for all resources registered with the API.
It supports internationalization through I18nStr objects and can output the schema
in either JSON or YAML format.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>title</strong>:  The title of the API (can be an I18nString)</li>
<li><strong>version</strong>:  The version of the API</li>
<li><strong>description</strong>:  The description of the API (can be an I18nString)</li>
<li><strong>output_format</strong>:  The output format (json or yaml)</li>
<li><strong>language: The language to use for internationalized strings (default</strong>:  current language)</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The OpenAPI schema as a dictionary (if json) or string (if yaml)</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <h1 id="generate-schema-in-yaml-format">Generate schema in YAML format</h1>

      <p>yaml_schema = api.generate_openapi_schema(
          ...     title="My API", version="1.0.0", description="API for managing items"
          ... )</p>

      <h1 id="generate-schema-in-json-format">Generate schema in JSON format</h1>

      <p>json_schema = api.generate_openapi_schema(
          ...     title="My API", version="1.0.0", description="API for managing items", output_format="json"
          ... )</p>

      <h1 id="generate-schema-with-internationalized-strings">Generate schema with internationalized strings</h1>

      <p>from flask_x_openapi_schema import I18nStr
      i18n_schema = api.generate_openapi_schema(
          ...     title=I18nStr({"en-US": "My API", "zh-Hans": "我的API"}),
          ...     version="1.0.0",
          ...     description=I18nStr({"en-US": "API for managing items", "zh-Hans": "用于管理项目的API"}),
          ...     language="zh-Hans",  # Use Chinese for the schema
          ... )</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                </section>
                <section id="OpenAPIMetaResponse">
                            <input id="OpenAPIMetaResponse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPIMetaResponse</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="OpenAPIMetaResponse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMetaResponse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMetaResponse-77"><a href="#OpenAPIMetaResponse-77"><span class="linenos"> 77</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPIMetaResponse</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPIMetaResponse-78"><a href="#OpenAPIMetaResponse-78"><span class="linenos"> 78</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Container for OpenAPI response definitions.</span>
</span><span id="OpenAPIMetaResponse-79"><a href="#OpenAPIMetaResponse-79"><span class="linenos"> 79</span></a>
</span><span id="OpenAPIMetaResponse-80"><a href="#OpenAPIMetaResponse-80"><span class="linenos"> 80</span></a><span class="sd">    This class allows defining multiple responses for different status codes.</span>
</span><span id="OpenAPIMetaResponse-81"><a href="#OpenAPIMetaResponse-81"><span class="linenos"> 81</span></a><span class="sd">    It is used to define all possible responses for an API endpoint in the OpenAPI schema.</span>
</span><span id="OpenAPIMetaResponse-82"><a href="#OpenAPIMetaResponse-82"><span class="linenos"> 82</span></a>
</span><span id="OpenAPIMetaResponse-83"><a href="#OpenAPIMetaResponse-83"><span class="linenos"> 83</span></a><span class="sd">    :param responses: Map of status codes to response definitions</span>
</span><span id="OpenAPIMetaResponse-84"><a href="#OpenAPIMetaResponse-84"><span class="linenos"> 84</span></a><span class="sd">    :type responses: Dict[str, OpenAPIMetaResponseItem]</span>
</span><span id="OpenAPIMetaResponse-85"><a href="#OpenAPIMetaResponse-85"><span class="linenos"> 85</span></a>
</span><span id="OpenAPIMetaResponse-86"><a href="#OpenAPIMetaResponse-86"><span class="linenos"> 86</span></a><span class="sd">    Example:</span>
</span><span id="OpenAPIMetaResponse-87"><a href="#OpenAPIMetaResponse-87"><span class="linenos"> 87</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import OpenAPIMetaResponse, OpenAPIMetaResponseItem</span>
</span><span id="OpenAPIMetaResponse-88"><a href="#OpenAPIMetaResponse-88"><span class="linenos"> 88</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import BaseModel</span>
</span><span id="OpenAPIMetaResponse-89"><a href="#OpenAPIMetaResponse-89"><span class="linenos"> 89</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIMetaResponse-90"><a href="#OpenAPIMetaResponse-90"><span class="linenos"> 90</span></a><span class="sd">        &gt;&gt;&gt; class UserResponse(BaseModel):</span>
</span><span id="OpenAPIMetaResponse-91"><a href="#OpenAPIMetaResponse-91"><span class="linenos"> 91</span></a><span class="sd">        ...     id: str</span>
</span><span id="OpenAPIMetaResponse-92"><a href="#OpenAPIMetaResponse-92"><span class="linenos"> 92</span></a><span class="sd">        ...     name: str</span>
</span><span id="OpenAPIMetaResponse-93"><a href="#OpenAPIMetaResponse-93"><span class="linenos"> 93</span></a><span class="sd">        &gt;&gt;&gt; class ErrorResponse(BaseModel):</span>
</span><span id="OpenAPIMetaResponse-94"><a href="#OpenAPIMetaResponse-94"><span class="linenos"> 94</span></a><span class="sd">        ...     error: str</span>
</span><span id="OpenAPIMetaResponse-95"><a href="#OpenAPIMetaResponse-95"><span class="linenos"> 95</span></a><span class="sd">        ...     code: int</span>
</span><span id="OpenAPIMetaResponse-96"><a href="#OpenAPIMetaResponse-96"><span class="linenos"> 96</span></a><span class="sd">        &gt;&gt;&gt; responses = OpenAPIMetaResponse(</span>
</span><span id="OpenAPIMetaResponse-97"><a href="#OpenAPIMetaResponse-97"><span class="linenos"> 97</span></a><span class="sd">        ...     responses={</span>
</span><span id="OpenAPIMetaResponse-98"><a href="#OpenAPIMetaResponse-98"><span class="linenos"> 98</span></a><span class="sd">        ...         &quot;200&quot;: OpenAPIMetaResponseItem(</span>
</span><span id="OpenAPIMetaResponse-99"><a href="#OpenAPIMetaResponse-99"><span class="linenos"> 99</span></a><span class="sd">        ...             model=UserResponse, description=&quot;User details retrieved successfully&quot;</span>
</span><span id="OpenAPIMetaResponse-100"><a href="#OpenAPIMetaResponse-100"><span class="linenos">100</span></a><span class="sd">        ...         ),</span>
</span><span id="OpenAPIMetaResponse-101"><a href="#OpenAPIMetaResponse-101"><span class="linenos">101</span></a><span class="sd">        ...         &quot;404&quot;: OpenAPIMetaResponseItem(model=ErrorResponse, description=&quot;User not found&quot;),</span>
</span><span id="OpenAPIMetaResponse-102"><a href="#OpenAPIMetaResponse-102"><span class="linenos">102</span></a><span class="sd">        ...     }</span>
</span><span id="OpenAPIMetaResponse-103"><a href="#OpenAPIMetaResponse-103"><span class="linenos">103</span></a><span class="sd">        ... )</span>
</span><span id="OpenAPIMetaResponse-104"><a href="#OpenAPIMetaResponse-104"><span class="linenos">104</span></a>
</span><span id="OpenAPIMetaResponse-105"><a href="#OpenAPIMetaResponse-105"><span class="linenos">105</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponse-106"><a href="#OpenAPIMetaResponse-106"><span class="linenos">106</span></a>
</span><span id="OpenAPIMetaResponse-107"><a href="#OpenAPIMetaResponse-107"><span class="linenos">107</span></a>    <span class="n">responses</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OpenAPIMetaResponseItem</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
</span><span id="OpenAPIMetaResponse-108"><a href="#OpenAPIMetaResponse-108"><span class="linenos">108</span></a>        <span class="o">...</span><span class="p">,</span>
</span><span id="OpenAPIMetaResponse-109"><a href="#OpenAPIMetaResponse-109"><span class="linenos">109</span></a>        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Map of status codes to response definitions&quot;</span><span class="p">,</span>
</span><span id="OpenAPIMetaResponse-110"><a href="#OpenAPIMetaResponse-110"><span class="linenos">110</span></a>    <span class="p">)</span>
</span><span id="OpenAPIMetaResponse-111"><a href="#OpenAPIMetaResponse-111"><span class="linenos">111</span></a>
</span><span id="OpenAPIMetaResponse-112"><a href="#OpenAPIMetaResponse-112"><span class="linenos">112</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_openapi_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPIMetaResponse-113"><a href="#OpenAPIMetaResponse-113"><span class="linenos">113</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the response container to an OpenAPI responses object.</span>
</span><span id="OpenAPIMetaResponse-114"><a href="#OpenAPIMetaResponse-114"><span class="linenos">114</span></a>
</span><span id="OpenAPIMetaResponse-115"><a href="#OpenAPIMetaResponse-115"><span class="linenos">115</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIMetaResponse-116"><a href="#OpenAPIMetaResponse-116"><span class="linenos">116</span></a><span class="sd">            An OpenAPI responses object</span>
</span><span id="OpenAPIMetaResponse-117"><a href="#OpenAPIMetaResponse-117"><span class="linenos">117</span></a>
</span><span id="OpenAPIMetaResponse-118"><a href="#OpenAPIMetaResponse-118"><span class="linenos">118</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponse-119"><a href="#OpenAPIMetaResponse-119"><span class="linenos">119</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPIMetaResponse-120"><a href="#OpenAPIMetaResponse-120"><span class="linenos">120</span></a>        <span class="k">for</span> <span class="n">status_code</span><span class="p">,</span> <span class="n">response_item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="OpenAPIMetaResponse-121"><a href="#OpenAPIMetaResponse-121"><span class="linenos">121</span></a>            <span class="n">result</span><span class="p">[</span><span class="n">status_code</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_item</span><span class="o">.</span><span class="n">to_openapi_dict</span><span class="p">()</span>
</span><span id="OpenAPIMetaResponse-122"><a href="#OpenAPIMetaResponse-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Container for OpenAPI response definitions.</p>

<p>This class allows defining multiple responses for different status codes.
It is used to define all possible responses for an API endpoint in the OpenAPI schema.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>responses</strong>:  Map of status codes to response definitions</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import OpenAPIMetaResponse, OpenAPIMetaResponseItem
      from pydantic import BaseModel</p>

      <p>class UserResponse(BaseModel):
          ...     id: str
          ...     name: str
      class ErrorResponse(BaseModel):
          ...     error: str
          ...     code: int
      responses = OpenAPIMetaResponse(
          ...     responses={
          ...         "200": OpenAPIMetaResponseItem(
          ...             model=UserResponse, description="User details retrieved successfully"
          ...         ),
          ...         "404": OpenAPIMetaResponseItem(model=ErrorResponse, description="User not found"),
          ...     }
          ... )</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="OpenAPIMetaResponse.responses" class="classattr">
                                <div class="attr variable">
            <span class="name">responses</span><span class="annotation">: dict[str, <a href="#OpenAPIMetaResponseItem">OpenAPIMetaResponseItem</a>]</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponse.responses"></a>



                            </div>
                            <div id="OpenAPIMetaResponse.to_openapi_dict" class="classattr">
                                        <input id="OpenAPIMetaResponse.to_openapi_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_openapi_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="OpenAPIMetaResponse.to_openapi_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMetaResponse.to_openapi_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMetaResponse.to_openapi_dict-112"><a href="#OpenAPIMetaResponse.to_openapi_dict-112"><span class="linenos">112</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_openapi_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-113"><a href="#OpenAPIMetaResponse.to_openapi_dict-113"><span class="linenos">113</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the response container to an OpenAPI responses object.</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-114"><a href="#OpenAPIMetaResponse.to_openapi_dict-114"><span class="linenos">114</span></a>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-115"><a href="#OpenAPIMetaResponse.to_openapi_dict-115"><span class="linenos">115</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-116"><a href="#OpenAPIMetaResponse.to_openapi_dict-116"><span class="linenos">116</span></a><span class="sd">            An OpenAPI responses object</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-117"><a href="#OpenAPIMetaResponse.to_openapi_dict-117"><span class="linenos">117</span></a>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-118"><a href="#OpenAPIMetaResponse.to_openapi_dict-118"><span class="linenos">118</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-119"><a href="#OpenAPIMetaResponse.to_openapi_dict-119"><span class="linenos">119</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-120"><a href="#OpenAPIMetaResponse.to_openapi_dict-120"><span class="linenos">120</span></a>        <span class="k">for</span> <span class="n">status_code</span><span class="p">,</span> <span class="n">response_item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-121"><a href="#OpenAPIMetaResponse.to_openapi_dict-121"><span class="linenos">121</span></a>            <span class="n">result</span><span class="p">[</span><span class="n">status_code</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_item</span><span class="o">.</span><span class="n">to_openapi_dict</span><span class="p">()</span>
</span><span id="OpenAPIMetaResponse.to_openapi_dict-122"><a href="#OpenAPIMetaResponse.to_openapi_dict-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Convert the response container to an OpenAPI responses object.</p>

<p>Returns:
    An OpenAPI responses object</p>
</div>


                            </div>
                            <div id="OpenAPIMetaResponse.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span><span class="annotation">: ClassVar[pydantic.config.ConfigDict]</span>        =
<span class="default_value">{}</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponse.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                </section>
                <section id="OpenAPIMetaResponseItem">
                            <input id="OpenAPIMetaResponseItem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPIMetaResponseItem</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="OpenAPIMetaResponseItem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMetaResponseItem-12"><a href="#OpenAPIMetaResponseItem-12"><span class="linenos">12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPIMetaResponseItem</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPIMetaResponseItem-13"><a href="#OpenAPIMetaResponseItem-13"><span class="linenos">13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single response item in an OpenAPI specification.</span>
</span><span id="OpenAPIMetaResponseItem-14"><a href="#OpenAPIMetaResponseItem-14"><span class="linenos">14</span></a>
</span><span id="OpenAPIMetaResponseItem-15"><a href="#OpenAPIMetaResponseItem-15"><span class="linenos">15</span></a><span class="sd">    This class allows defining a response with either a Pydantic model or a simple message.</span>
</span><span id="OpenAPIMetaResponseItem-16"><a href="#OpenAPIMetaResponseItem-16"><span class="linenos">16</span></a><span class="sd">    It is used to define the response for a specific status code in the OpenAPI schema.</span>
</span><span id="OpenAPIMetaResponseItem-17"><a href="#OpenAPIMetaResponseItem-17"><span class="linenos">17</span></a>
</span><span id="OpenAPIMetaResponseItem-18"><a href="#OpenAPIMetaResponseItem-18"><span class="linenos">18</span></a><span class="sd">    :param model: Pydantic model for the response</span>
</span><span id="OpenAPIMetaResponseItem-19"><a href="#OpenAPIMetaResponseItem-19"><span class="linenos">19</span></a><span class="sd">    :type model: Optional[Type[BaseModel]]</span>
</span><span id="OpenAPIMetaResponseItem-20"><a href="#OpenAPIMetaResponseItem-20"><span class="linenos">20</span></a><span class="sd">    :param description: Response description</span>
</span><span id="OpenAPIMetaResponseItem-21"><a href="#OpenAPIMetaResponseItem-21"><span class="linenos">21</span></a><span class="sd">    :type description: str</span>
</span><span id="OpenAPIMetaResponseItem-22"><a href="#OpenAPIMetaResponseItem-22"><span class="linenos">22</span></a><span class="sd">    :param content_type: Response content type</span>
</span><span id="OpenAPIMetaResponseItem-23"><a href="#OpenAPIMetaResponseItem-23"><span class="linenos">23</span></a><span class="sd">    :type content_type: str</span>
</span><span id="OpenAPIMetaResponseItem-24"><a href="#OpenAPIMetaResponseItem-24"><span class="linenos">24</span></a><span class="sd">    :param headers: Response headers</span>
</span><span id="OpenAPIMetaResponseItem-25"><a href="#OpenAPIMetaResponseItem-25"><span class="linenos">25</span></a><span class="sd">    :type headers: Optional[Dict[str, Any]]</span>
</span><span id="OpenAPIMetaResponseItem-26"><a href="#OpenAPIMetaResponseItem-26"><span class="linenos">26</span></a><span class="sd">    :param examples: Response examples</span>
</span><span id="OpenAPIMetaResponseItem-27"><a href="#OpenAPIMetaResponseItem-27"><span class="linenos">27</span></a><span class="sd">    :type examples: Optional[Dict[str, Any]]</span>
</span><span id="OpenAPIMetaResponseItem-28"><a href="#OpenAPIMetaResponseItem-28"><span class="linenos">28</span></a><span class="sd">    :param msg: Simple message for responses without a model</span>
</span><span id="OpenAPIMetaResponseItem-29"><a href="#OpenAPIMetaResponseItem-29"><span class="linenos">29</span></a><span class="sd">    :type msg: Optional[str]</span>
</span><span id="OpenAPIMetaResponseItem-30"><a href="#OpenAPIMetaResponseItem-30"><span class="linenos">30</span></a>
</span><span id="OpenAPIMetaResponseItem-31"><a href="#OpenAPIMetaResponseItem-31"><span class="linenos">31</span></a><span class="sd">    Example:</span>
</span><span id="OpenAPIMetaResponseItem-32"><a href="#OpenAPIMetaResponseItem-32"><span class="linenos">32</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import OpenAPIMetaResponseItem</span>
</span><span id="OpenAPIMetaResponseItem-33"><a href="#OpenAPIMetaResponseItem-33"><span class="linenos">33</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import BaseModel</span>
</span><span id="OpenAPIMetaResponseItem-34"><a href="#OpenAPIMetaResponseItem-34"><span class="linenos">34</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIMetaResponseItem-35"><a href="#OpenAPIMetaResponseItem-35"><span class="linenos">35</span></a><span class="sd">        &gt;&gt;&gt; class UserResponse(BaseModel):</span>
</span><span id="OpenAPIMetaResponseItem-36"><a href="#OpenAPIMetaResponseItem-36"><span class="linenos">36</span></a><span class="sd">        ...     id: str</span>
</span><span id="OpenAPIMetaResponseItem-37"><a href="#OpenAPIMetaResponseItem-37"><span class="linenos">37</span></a><span class="sd">        ...     name: str</span>
</span><span id="OpenAPIMetaResponseItem-38"><a href="#OpenAPIMetaResponseItem-38"><span class="linenos">38</span></a><span class="sd">        &gt;&gt;&gt; response_item = OpenAPIMetaResponseItem(</span>
</span><span id="OpenAPIMetaResponseItem-39"><a href="#OpenAPIMetaResponseItem-39"><span class="linenos">39</span></a><span class="sd">        ...     model=UserResponse, description=&quot;User details&quot;, content_type=&quot;application/json&quot;</span>
</span><span id="OpenAPIMetaResponseItem-40"><a href="#OpenAPIMetaResponseItem-40"><span class="linenos">40</span></a><span class="sd">        ... )</span>
</span><span id="OpenAPIMetaResponseItem-41"><a href="#OpenAPIMetaResponseItem-41"><span class="linenos">41</span></a>
</span><span id="OpenAPIMetaResponseItem-42"><a href="#OpenAPIMetaResponseItem-42"><span class="linenos">42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponseItem-43"><a href="#OpenAPIMetaResponseItem-43"><span class="linenos">43</span></a>
</span><span id="OpenAPIMetaResponseItem-44"><a href="#OpenAPIMetaResponseItem-44"><span class="linenos">44</span></a>    <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Pydantic model for the response&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-45"><a href="#OpenAPIMetaResponseItem-45"><span class="linenos">45</span></a>    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;Successful response&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Response description&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-46"><a href="#OpenAPIMetaResponseItem-46"><span class="linenos">46</span></a>    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Response content type&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-47"><a href="#OpenAPIMetaResponseItem-47"><span class="linenos">47</span></a>    <span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Response headers&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-48"><a href="#OpenAPIMetaResponseItem-48"><span class="linenos">48</span></a>    <span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Response examples&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-49"><a href="#OpenAPIMetaResponseItem-49"><span class="linenos">49</span></a>    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Simple message for responses without a model&quot;</span><span class="p">)</span>
</span><span id="OpenAPIMetaResponseItem-50"><a href="#OpenAPIMetaResponseItem-50"><span class="linenos">50</span></a>
</span><span id="OpenAPIMetaResponseItem-51"><a href="#OpenAPIMetaResponseItem-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_openapi_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPIMetaResponseItem-52"><a href="#OpenAPIMetaResponseItem-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the response item to an OpenAPI response object.</span>
</span><span id="OpenAPIMetaResponseItem-53"><a href="#OpenAPIMetaResponseItem-53"><span class="linenos">53</span></a>
</span><span id="OpenAPIMetaResponseItem-54"><a href="#OpenAPIMetaResponseItem-54"><span class="linenos">54</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIMetaResponseItem-55"><a href="#OpenAPIMetaResponseItem-55"><span class="linenos">55</span></a><span class="sd">            An OpenAPI response object</span>
</span><span id="OpenAPIMetaResponseItem-56"><a href="#OpenAPIMetaResponseItem-56"><span class="linenos">56</span></a>
</span><span id="OpenAPIMetaResponseItem-57"><a href="#OpenAPIMetaResponseItem-57"><span class="linenos">57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponseItem-58"><a href="#OpenAPIMetaResponseItem-58"><span class="linenos">58</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">}</span>
</span><span id="OpenAPIMetaResponseItem-59"><a href="#OpenAPIMetaResponseItem-59"><span class="linenos">59</span></a>
</span><span id="OpenAPIMetaResponseItem-60"><a href="#OpenAPIMetaResponseItem-60"><span class="linenos">60</span></a>        <span class="c1"># Add content if model is provided</span>
</span><span id="OpenAPIMetaResponseItem-61"><a href="#OpenAPIMetaResponseItem-61"><span class="linenos">61</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem-62"><a href="#OpenAPIMetaResponseItem-62"><span class="linenos">62</span></a>            <span class="n">response</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPIMetaResponseItem-63"><a href="#OpenAPIMetaResponseItem-63"><span class="linenos">63</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;#/components/schemas/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}},</span>
</span><span id="OpenAPIMetaResponseItem-64"><a href="#OpenAPIMetaResponseItem-64"><span class="linenos">64</span></a>            <span class="p">}</span>
</span><span id="OpenAPIMetaResponseItem-65"><a href="#OpenAPIMetaResponseItem-65"><span class="linenos">65</span></a>
</span><span id="OpenAPIMetaResponseItem-66"><a href="#OpenAPIMetaResponseItem-66"><span class="linenos">66</span></a>            <span class="c1"># Add examples if provided</span>
</span><span id="OpenAPIMetaResponseItem-67"><a href="#OpenAPIMetaResponseItem-67"><span class="linenos">67</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">examples</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem-68"><a href="#OpenAPIMetaResponseItem-68"><span class="linenos">68</span></a>                <span class="n">response</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">content_type</span><span class="p">][</span><span class="s2">&quot;examples&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">examples</span>
</span><span id="OpenAPIMetaResponseItem-69"><a href="#OpenAPIMetaResponseItem-69"><span class="linenos">69</span></a>
</span><span id="OpenAPIMetaResponseItem-70"><a href="#OpenAPIMetaResponseItem-70"><span class="linenos">70</span></a>        <span class="c1"># Add headers if provided</span>
</span><span id="OpenAPIMetaResponseItem-71"><a href="#OpenAPIMetaResponseItem-71"><span class="linenos">71</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem-72"><a href="#OpenAPIMetaResponseItem-72"><span class="linenos">72</span></a>            <span class="n">response</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span>
</span><span id="OpenAPIMetaResponseItem-73"><a href="#OpenAPIMetaResponseItem-73"><span class="linenos">73</span></a>
</span><span id="OpenAPIMetaResponseItem-74"><a href="#OpenAPIMetaResponseItem-74"><span class="linenos">74</span></a>        <span class="k">return</span> <span class="n">response</span>
</span></pre></div>


            <div class="docstring"><p>Represents a single response item in an OpenAPI specification.</p>

<p>This class allows defining a response with either a Pydantic model or a simple message.
It is used to define the response for a specific status code in the OpenAPI schema.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model</strong>:  Pydantic model for the response</li>
<li><strong>description</strong>:  Response description</li>
<li><strong>content_type</strong>:  Response content type</li>
<li><strong>headers</strong>:  Response headers</li>
<li><strong>examples</strong>:  Response examples</li>
<li><strong>msg</strong>:  Simple message for responses without a model</li>
</ul>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import OpenAPIMetaResponseItem
      from pydantic import BaseModel</p>

      <p>class UserResponse(BaseModel):
          ...     id: str
          ...     name: str
      response_item = OpenAPIMetaResponseItem(
          ...     model=UserResponse, description="User details", content_type="application/json"
          ... )</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="OpenAPIMetaResponseItem.model" class="classattr">
                                <div class="attr variable">
            <span class="name">model</span><span class="annotation">: type[pydantic.main.BaseModel] | None</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.model"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.description" class="classattr">
                                <div class="attr variable">
            <span class="name">description</span><span class="annotation">: str</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.description"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.content_type" class="classattr">
                                <div class="attr variable">
            <span class="name">content_type</span><span class="annotation">: str</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.content_type"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.headers" class="classattr">
                                <div class="attr variable">
            <span class="name">headers</span><span class="annotation">: dict[str, typing.Any] | None</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.headers"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.examples" class="classattr">
                                <div class="attr variable">
            <span class="name">examples</span><span class="annotation">: dict[str, typing.Any] | None</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.examples"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.msg" class="classattr">
                                <div class="attr variable">
            <span class="name">msg</span><span class="annotation">: str | None</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.msg"></a>



                            </div>
                            <div id="OpenAPIMetaResponseItem.to_openapi_dict" class="classattr">
                                        <input id="OpenAPIMetaResponseItem.to_openapi_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_openapi_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="OpenAPIMetaResponseItem.to_openapi_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.to_openapi_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMetaResponseItem.to_openapi_dict-51"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_openapi_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-52"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the response item to an OpenAPI response object.</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-53"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-53"><span class="linenos">53</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-54"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-54"><span class="linenos">54</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-55"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-55"><span class="linenos">55</span></a><span class="sd">            An OpenAPI response object</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-56"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-56"><span class="linenos">56</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-57"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-57"><span class="linenos">57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-58"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-58"><span class="linenos">58</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">}</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-59"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-59"><span class="linenos">59</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-60"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-60"><span class="linenos">60</span></a>        <span class="c1"># Add content if model is provided</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-61"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-61"><span class="linenos">61</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-62"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-62"><span class="linenos">62</span></a>            <span class="n">response</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-63"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-63"><span class="linenos">63</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;#/components/schemas/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}},</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-64"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-64"><span class="linenos">64</span></a>            <span class="p">}</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-65"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-65"><span class="linenos">65</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-66"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-66"><span class="linenos">66</span></a>            <span class="c1"># Add examples if provided</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-67"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-67"><span class="linenos">67</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">examples</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-68"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-68"><span class="linenos">68</span></a>                <span class="n">response</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">content_type</span><span class="p">][</span><span class="s2">&quot;examples&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">examples</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-69"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-69"><span class="linenos">69</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-70"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-70"><span class="linenos">70</span></a>        <span class="c1"># Add headers if provided</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-71"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-71"><span class="linenos">71</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-72"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-72"><span class="linenos">72</span></a>            <span class="n">response</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-73"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-73"><span class="linenos">73</span></a>
</span><span id="OpenAPIMetaResponseItem.to_openapi_dict-74"><a href="#OpenAPIMetaResponseItem.to_openapi_dict-74"><span class="linenos">74</span></a>        <span class="k">return</span> <span class="n">response</span>
</span></pre></div>


            <div class="docstring"><p>Convert the response item to an OpenAPI response object.</p>

<p>Returns:
    An OpenAPI response object</p>
</div>


                            </div>
                            <div id="OpenAPIMetaResponseItem.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span><span class="annotation">: ClassVar[pydantic.config.ConfigDict]</span>        =
<span class="default_value">{}</span>


    </div>
    <a class="headerlink" href="#OpenAPIMetaResponseItem.model_config"></a>

            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                </section>
                <section id="OpenAPIMethodViewMixin">
                            <input id="OpenAPIMethodViewMixin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPIMethodViewMixin</span>:

                <label class="view-source-button" for="OpenAPIMethodViewMixin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMethodViewMixin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMethodViewMixin-13"><a href="#OpenAPIMethodViewMixin-13"><span class="linenos">13</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPIMethodViewMixin</span><span class="p">:</span>
</span><span id="OpenAPIMethodViewMixin-14"><a href="#OpenAPIMethodViewMixin-14"><span class="linenos">14</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A mixin class for Flask.MethodView to collect OpenAPI metadata.</span>
</span><span id="OpenAPIMethodViewMixin-15"><a href="#OpenAPIMethodViewMixin-15"><span class="linenos">15</span></a>
</span><span id="OpenAPIMethodViewMixin-16"><a href="#OpenAPIMethodViewMixin-16"><span class="linenos">16</span></a><span class="sd">    This mixin class adds OpenAPI schema generation capabilities to Flask&#39;s MethodView.</span>
</span><span id="OpenAPIMethodViewMixin-17"><a href="#OpenAPIMethodViewMixin-17"><span class="linenos">17</span></a><span class="sd">    It provides a method to register the view to a blueprint while collecting metadata</span>
</span><span id="OpenAPIMethodViewMixin-18"><a href="#OpenAPIMethodViewMixin-18"><span class="linenos">18</span></a><span class="sd">    for OpenAPI schema generation.</span>
</span><span id="OpenAPIMethodViewMixin-19"><a href="#OpenAPIMethodViewMixin-19"><span class="linenos">19</span></a>
</span><span id="OpenAPIMethodViewMixin-20"><a href="#OpenAPIMethodViewMixin-20"><span class="linenos">20</span></a><span class="sd">    Example:</span>
</span><span id="OpenAPIMethodViewMixin-21"><a href="#OpenAPIMethodViewMixin-21"><span class="linenos">21</span></a><span class="sd">        &gt;&gt;&gt; from flask import Blueprint</span>
</span><span id="OpenAPIMethodViewMixin-22"><a href="#OpenAPIMethodViewMixin-22"><span class="linenos">22</span></a><span class="sd">        &gt;&gt;&gt; from flask.views import MethodView</span>
</span><span id="OpenAPIMethodViewMixin-23"><a href="#OpenAPIMethodViewMixin-23"><span class="linenos">23</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema.x.flask import OpenAPIMethodViewMixin, openapi_metadata</span>
</span><span id="OpenAPIMethodViewMixin-24"><a href="#OpenAPIMethodViewMixin-24"><span class="linenos">24</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import BaseModel, Field</span>
</span><span id="OpenAPIMethodViewMixin-25"><a href="#OpenAPIMethodViewMixin-25"><span class="linenos">25</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIMethodViewMixin-26"><a href="#OpenAPIMethodViewMixin-26"><span class="linenos">26</span></a><span class="sd">        &gt;&gt;&gt; class ItemResponse(BaseModel):</span>
</span><span id="OpenAPIMethodViewMixin-27"><a href="#OpenAPIMethodViewMixin-27"><span class="linenos">27</span></a><span class="sd">        ...     id: str = Field(..., description=&quot;Item ID&quot;)</span>
</span><span id="OpenAPIMethodViewMixin-28"><a href="#OpenAPIMethodViewMixin-28"><span class="linenos">28</span></a><span class="sd">        ...     name: str = Field(..., description=&quot;Item name&quot;)</span>
</span><span id="OpenAPIMethodViewMixin-29"><a href="#OpenAPIMethodViewMixin-29"><span class="linenos">29</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIMethodViewMixin-30"><a href="#OpenAPIMethodViewMixin-30"><span class="linenos">30</span></a><span class="sd">        &gt;&gt;&gt; class ItemView(OpenAPIMethodViewMixin, MethodView):</span>
</span><span id="OpenAPIMethodViewMixin-31"><a href="#OpenAPIMethodViewMixin-31"><span class="linenos">31</span></a><span class="sd">        ...     @openapi_metadata(summary=&quot;Get an item&quot;)</span>
</span><span id="OpenAPIMethodViewMixin-32"><a href="#OpenAPIMethodViewMixin-32"><span class="linenos">32</span></a><span class="sd">        ...     def get(self, item_id: str):</span>
</span><span id="OpenAPIMethodViewMixin-33"><a href="#OpenAPIMethodViewMixin-33"><span class="linenos">33</span></a><span class="sd">        ...         return {&quot;id&quot;: item_id, &quot;name&quot;: &quot;Example Item&quot;}</span>
</span><span id="OpenAPIMethodViewMixin-34"><a href="#OpenAPIMethodViewMixin-34"><span class="linenos">34</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="OpenAPIMethodViewMixin-35"><a href="#OpenAPIMethodViewMixin-35"><span class="linenos">35</span></a><span class="sd">        &gt;&gt;&gt; # Create a blueprint and register the view</span>
</span><span id="OpenAPIMethodViewMixin-36"><a href="#OpenAPIMethodViewMixin-36"><span class="linenos">36</span></a><span class="sd">        &gt;&gt;&gt; bp = Blueprint(&quot;items&quot;, __name__)</span>
</span><span id="OpenAPIMethodViewMixin-37"><a href="#OpenAPIMethodViewMixin-37"><span class="linenos">37</span></a><span class="sd">        &gt;&gt;&gt; ItemView.register_to_blueprint(bp, &quot;/items/&lt;item_id&gt;&quot;)</span>
</span><span id="OpenAPIMethodViewMixin-38"><a href="#OpenAPIMethodViewMixin-38"><span class="linenos">38</span></a>
</span><span id="OpenAPIMethodViewMixin-39"><a href="#OpenAPIMethodViewMixin-39"><span class="linenos">39</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPIMethodViewMixin-40"><a href="#OpenAPIMethodViewMixin-40"><span class="linenos">40</span></a>
</span><span id="OpenAPIMethodViewMixin-41"><a href="#OpenAPIMethodViewMixin-41"><span class="linenos">41</span></a>    <span class="nd">@classmethod</span>
</span><span id="OpenAPIMethodViewMixin-42"><a href="#OpenAPIMethodViewMixin-42"><span class="linenos">42</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_to_blueprint</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># noqa: ANN001, ANN206</span>
</span><span id="OpenAPIMethodViewMixin-43"><a href="#OpenAPIMethodViewMixin-43"><span class="linenos">43</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register the MethodView to a blueprint and collect OpenAPI metadata.</span>
</span><span id="OpenAPIMethodViewMixin-44"><a href="#OpenAPIMethodViewMixin-44"><span class="linenos">44</span></a>
</span><span id="OpenAPIMethodViewMixin-45"><a href="#OpenAPIMethodViewMixin-45"><span class="linenos">45</span></a><span class="sd">        This method registers the view to a blueprint and stores metadata for</span>
</span><span id="OpenAPIMethodViewMixin-46"><a href="#OpenAPIMethodViewMixin-46"><span class="linenos">46</span></a><span class="sd">        OpenAPI schema generation.</span>
</span><span id="OpenAPIMethodViewMixin-47"><a href="#OpenAPIMethodViewMixin-47"><span class="linenos">47</span></a>
</span><span id="OpenAPIMethodViewMixin-48"><a href="#OpenAPIMethodViewMixin-48"><span class="linenos">48</span></a><span class="sd">        :param blueprint: The Flask blueprint to register to</span>
</span><span id="OpenAPIMethodViewMixin-49"><a href="#OpenAPIMethodViewMixin-49"><span class="linenos">49</span></a><span class="sd">        :type blueprint: flask.Blueprint</span>
</span><span id="OpenAPIMethodViewMixin-50"><a href="#OpenAPIMethodViewMixin-50"><span class="linenos">50</span></a><span class="sd">        :param url: The URL rule to register</span>
</span><span id="OpenAPIMethodViewMixin-51"><a href="#OpenAPIMethodViewMixin-51"><span class="linenos">51</span></a><span class="sd">        :type url: str</span>
</span><span id="OpenAPIMethodViewMixin-52"><a href="#OpenAPIMethodViewMixin-52"><span class="linenos">52</span></a><span class="sd">        :param endpoint: The endpoint name (defaults to the class name)</span>
</span><span id="OpenAPIMethodViewMixin-53"><a href="#OpenAPIMethodViewMixin-53"><span class="linenos">53</span></a><span class="sd">        :type endpoint: Optional[str]</span>
</span><span id="OpenAPIMethodViewMixin-54"><a href="#OpenAPIMethodViewMixin-54"><span class="linenos">54</span></a><span class="sd">        :param kwargs: Additional arguments to pass to add_url_rule</span>
</span><span id="OpenAPIMethodViewMixin-55"><a href="#OpenAPIMethodViewMixin-55"><span class="linenos">55</span></a><span class="sd">        :return: The view function</span>
</span><span id="OpenAPIMethodViewMixin-56"><a href="#OpenAPIMethodViewMixin-56"><span class="linenos">56</span></a><span class="sd">        :rtype: callable</span>
</span><span id="OpenAPIMethodViewMixin-57"><a href="#OpenAPIMethodViewMixin-57"><span class="linenos">57</span></a>
</span><span id="OpenAPIMethodViewMixin-58"><a href="#OpenAPIMethodViewMixin-58"><span class="linenos">58</span></a><span class="sd">        Example:</span>
</span><span id="OpenAPIMethodViewMixin-59"><a href="#OpenAPIMethodViewMixin-59"><span class="linenos">59</span></a><span class="sd">            &gt;&gt;&gt; bp = Blueprint(&quot;items&quot;, __name__)</span>
</span><span id="OpenAPIMethodViewMixin-60"><a href="#OpenAPIMethodViewMixin-60"><span class="linenos">60</span></a><span class="sd">            &gt;&gt;&gt; ItemView.register_to_blueprint(bp, &quot;/items/&lt;item_id&gt;&quot;)</span>
</span><span id="OpenAPIMethodViewMixin-61"><a href="#OpenAPIMethodViewMixin-61"><span class="linenos">61</span></a>
</span><span id="OpenAPIMethodViewMixin-62"><a href="#OpenAPIMethodViewMixin-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMethodViewMixin-63"><a href="#OpenAPIMethodViewMixin-63"><span class="linenos">63</span></a>        <span class="n">view_func</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">endpoint</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
</span><span id="OpenAPIMethodViewMixin-64"><a href="#OpenAPIMethodViewMixin-64"><span class="linenos">64</span></a>        <span class="n">blueprint</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">view_func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIMethodViewMixin-65"><a href="#OpenAPIMethodViewMixin-65"><span class="linenos">65</span></a>
</span><span id="OpenAPIMethodViewMixin-66"><a href="#OpenAPIMethodViewMixin-66"><span class="linenos">66</span></a>        <span class="c1"># Store the URL and class for OpenAPI schema generation</span>
</span><span id="OpenAPIMethodViewMixin-67"><a href="#OpenAPIMethodViewMixin-67"><span class="linenos">67</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;_methodview_openapi_resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIMethodViewMixin-68"><a href="#OpenAPIMethodViewMixin-68"><span class="linenos">68</span></a>            <span class="n">blueprint</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIMethodViewMixin-69"><a href="#OpenAPIMethodViewMixin-69"><span class="linenos">69</span></a>
</span><span id="OpenAPIMethodViewMixin-70"><a href="#OpenAPIMethodViewMixin-70"><span class="linenos">70</span></a>        <span class="n">blueprint</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">))</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIMethodViewMixin-71"><a href="#OpenAPIMethodViewMixin-71"><span class="linenos">71</span></a>
</span><span id="OpenAPIMethodViewMixin-72"><a href="#OpenAPIMethodViewMixin-72"><span class="linenos">72</span></a>        <span class="k">return</span> <span class="n">view_func</span>
</span></pre></div>


            <div class="docstring"><p>A mixin class for Flask.MethodView to collect OpenAPI metadata.</p>

<p>This mixin class adds OpenAPI schema generation capabilities to Flask's MethodView.
It provides a method to register the view to a blueprint while collecting metadata
for OpenAPI schema generation.</p>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask import Blueprint
      from flask.views import MethodView
      from flask_x_openapi_schema.x.flask import OpenAPIMethodViewMixin, openapi_metadata
      from pydantic import BaseModel, Field</p>

      <p>class ItemResponse(BaseModel):
          ...     id: str = Field(..., description="Item ID")
          ...     name: str = Field(..., description="Item name")</p>

      <p>class ItemView(OpenAPIMethodViewMixin, MethodView):
          ...     @openapi_metadata(summary="Get an item")
          ...     def get(self, item_id: str):
          ...         return {"id": item_id, "name": "Example Item"}</p>

      <h1 id="create-a-blueprint-and-register-the-view">Create a blueprint and register the view</h1>

      <p>bp = Blueprint("items", __name__)
      ItemView.register_to_blueprint(bp, "/items/<item_id>")</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="OpenAPIMethodViewMixin.register_to_blueprint" class="classattr">
                                        <input id="OpenAPIMethodViewMixin.register_to_blueprint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">register_to_blueprint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">blueprint</span>, </span><span class="param"><span class="n">url</span>, </span><span class="param"><span class="n">endpoint</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="OpenAPIMethodViewMixin.register_to_blueprint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPIMethodViewMixin.register_to_blueprint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPIMethodViewMixin.register_to_blueprint-41"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-41"><span class="linenos">41</span></a>    <span class="nd">@classmethod</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-42"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-42"><span class="linenos">42</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_to_blueprint</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># noqa: ANN001, ANN206</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-43"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-43"><span class="linenos">43</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register the MethodView to a blueprint and collect OpenAPI metadata.</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-44"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-44"><span class="linenos">44</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-45"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-45"><span class="linenos">45</span></a><span class="sd">        This method registers the view to a blueprint and stores metadata for</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-46"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-46"><span class="linenos">46</span></a><span class="sd">        OpenAPI schema generation.</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-47"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-47"><span class="linenos">47</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-48"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-48"><span class="linenos">48</span></a><span class="sd">        :param blueprint: The Flask blueprint to register to</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-49"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-49"><span class="linenos">49</span></a><span class="sd">        :type blueprint: flask.Blueprint</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-50"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-50"><span class="linenos">50</span></a><span class="sd">        :param url: The URL rule to register</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-51"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-51"><span class="linenos">51</span></a><span class="sd">        :type url: str</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-52"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-52"><span class="linenos">52</span></a><span class="sd">        :param endpoint: The endpoint name (defaults to the class name)</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-53"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-53"><span class="linenos">53</span></a><span class="sd">        :type endpoint: Optional[str]</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-54"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-54"><span class="linenos">54</span></a><span class="sd">        :param kwargs: Additional arguments to pass to add_url_rule</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-55"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-55"><span class="linenos">55</span></a><span class="sd">        :return: The view function</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-56"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-56"><span class="linenos">56</span></a><span class="sd">        :rtype: callable</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-57"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-57"><span class="linenos">57</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-58"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-58"><span class="linenos">58</span></a><span class="sd">        Example:</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-59"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-59"><span class="linenos">59</span></a><span class="sd">            &gt;&gt;&gt; bp = Blueprint(&quot;items&quot;, __name__)</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-60"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-60"><span class="linenos">60</span></a><span class="sd">            &gt;&gt;&gt; ItemView.register_to_blueprint(bp, &quot;/items/&lt;item_id&gt;&quot;)</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-61"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-61"><span class="linenos">61</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-62"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-63"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-63"><span class="linenos">63</span></a>        <span class="n">view_func</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">endpoint</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-64"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-64"><span class="linenos">64</span></a>        <span class="n">blueprint</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">view_func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-65"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-65"><span class="linenos">65</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-66"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-66"><span class="linenos">66</span></a>        <span class="c1"># Store the URL and class for OpenAPI schema generation</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-67"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-67"><span class="linenos">67</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;_methodview_openapi_resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-68"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-68"><span class="linenos">68</span></a>            <span class="n">blueprint</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-69"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-69"><span class="linenos">69</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-70"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-70"><span class="linenos">70</span></a>        <span class="n">blueprint</span><span class="o">.</span><span class="n">_methodview_openapi_resources</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">))</span>  <span class="c1"># noqa: SLF001</span>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-71"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-71"><span class="linenos">71</span></a>
</span><span id="OpenAPIMethodViewMixin.register_to_blueprint-72"><a href="#OpenAPIMethodViewMixin.register_to_blueprint-72"><span class="linenos">72</span></a>        <span class="k">return</span> <span class="n">view_func</span>
</span></pre></div>


            <div class="docstring"><p>Register the MethodView to a blueprint and collect OpenAPI metadata.</p>

<p>This method registers the view to a blueprint and stores metadata for
OpenAPI schema generation.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>blueprint</strong>:  The Flask blueprint to register to</li>
<li><strong>url</strong>:  The URL rule to register</li>
<li><strong>endpoint</strong>:  The endpoint name (defaults to the class name)</li>
<li><strong>kwargs</strong>:  Additional arguments to pass to add_url_rule</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The view function</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>bp = Blueprint("items", __name__)
      ItemView.register_to_blueprint(bp, "/items/<item_id>")</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                </section>
                <section id="OpenAPISchemaGenerator">
                            <input id="OpenAPISchemaGenerator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">OpenAPISchemaGenerator</span>:

                <label class="view-source-button" for="OpenAPISchemaGenerator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator-30"><a href="#OpenAPISchemaGenerator-30"><span class="linenos"> 30</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OpenAPISchemaGenerator</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-31"><a href="#OpenAPISchemaGenerator-31"><span class="linenos"> 31</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Generator for OpenAPI schemas from Flask-RESTful resources.</span>
</span><span id="OpenAPISchemaGenerator-32"><a href="#OpenAPISchemaGenerator-32"><span class="linenos"> 32</span></a>
</span><span id="OpenAPISchemaGenerator-33"><a href="#OpenAPISchemaGenerator-33"><span class="linenos"> 33</span></a><span class="sd">    This class scans Flask-RESTful resources and generates OpenAPI schemas based on</span>
</span><span id="OpenAPISchemaGenerator-34"><a href="#OpenAPISchemaGenerator-34"><span class="linenos"> 34</span></a><span class="sd">    the resource methods, docstrings, and type annotations.</span>
</span><span id="OpenAPISchemaGenerator-35"><a href="#OpenAPISchemaGenerator-35"><span class="linenos"> 35</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-36"><a href="#OpenAPISchemaGenerator-36"><span class="linenos"> 36</span></a>
</span><span id="OpenAPISchemaGenerator-37"><a href="#OpenAPISchemaGenerator-37"><span class="linenos"> 37</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OpenAPISchemaGenerator-38"><a href="#OpenAPISchemaGenerator-38"><span class="linenos"> 38</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-39"><a href="#OpenAPISchemaGenerator-39"><span class="linenos"> 39</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-40"><a href="#OpenAPISchemaGenerator-40"><span class="linenos"> 40</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-41"><a href="#OpenAPISchemaGenerator-41"><span class="linenos"> 41</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-42"><a href="#OpenAPISchemaGenerator-42"><span class="linenos"> 42</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-43"><a href="#OpenAPISchemaGenerator-43"><span class="linenos"> 43</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-44"><a href="#OpenAPISchemaGenerator-44"><span class="linenos"> 44</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the OpenAPI schema generator.</span>
</span><span id="OpenAPISchemaGenerator-45"><a href="#OpenAPISchemaGenerator-45"><span class="linenos"> 45</span></a>
</span><span id="OpenAPISchemaGenerator-46"><a href="#OpenAPISchemaGenerator-46"><span class="linenos"> 46</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-47"><a href="#OpenAPISchemaGenerator-47"><span class="linenos"> 47</span></a><span class="sd">            title: The title of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator-48"><a href="#OpenAPISchemaGenerator-48"><span class="linenos"> 48</span></a><span class="sd">            version: The version of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator-49"><a href="#OpenAPISchemaGenerator-49"><span class="linenos"> 49</span></a><span class="sd">            description: The description of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator-50"><a href="#OpenAPISchemaGenerator-50"><span class="linenos"> 50</span></a><span class="sd">            language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPISchemaGenerator-51"><a href="#OpenAPISchemaGenerator-51"><span class="linenos"> 51</span></a>
</span><span id="OpenAPISchemaGenerator-52"><a href="#OpenAPISchemaGenerator-52"><span class="linenos"> 52</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-53"><a href="#OpenAPISchemaGenerator-53"><span class="linenos"> 53</span></a>        <span class="c1"># Get defaults from config if not provided</span>
</span><span id="OpenAPISchemaGenerator-54"><a href="#OpenAPISchemaGenerator-54"><span class="linenos"> 54</span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">get_openapi_config</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-55"><a href="#OpenAPISchemaGenerator-55"><span class="linenos"> 55</span></a>
</span><span id="OpenAPISchemaGenerator-56"><a href="#OpenAPISchemaGenerator-56"><span class="linenos"> 56</span></a>        <span class="c1"># Handle I18nString for title and description</span>
</span><span id="OpenAPISchemaGenerator-57"><a href="#OpenAPISchemaGenerator-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span> <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">title</span>
</span><span id="OpenAPISchemaGenerator-58"><a href="#OpenAPISchemaGenerator-58"><span class="linenos"> 58</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-59"><a href="#OpenAPISchemaGenerator-59"><span class="linenos"> 59</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-60"><a href="#OpenAPISchemaGenerator-60"><span class="linenos"> 60</span></a>
</span><span id="OpenAPISchemaGenerator-61"><a href="#OpenAPISchemaGenerator-61"><span class="linenos"> 61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span> <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">version</span>
</span><span id="OpenAPISchemaGenerator-62"><a href="#OpenAPISchemaGenerator-62"><span class="linenos"> 62</span></a>
</span><span id="OpenAPISchemaGenerator-63"><a href="#OpenAPISchemaGenerator-63"><span class="linenos"> 63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span> <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">description</span>
</span><span id="OpenAPISchemaGenerator-64"><a href="#OpenAPISchemaGenerator-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-65"><a href="#OpenAPISchemaGenerator-65"><span class="linenos"> 65</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-66"><a href="#OpenAPISchemaGenerator-66"><span class="linenos"> 66</span></a>
</span><span id="OpenAPISchemaGenerator-67"><a href="#OpenAPISchemaGenerator-67"><span class="linenos"> 67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-68"><a href="#OpenAPISchemaGenerator-68"><span class="linenos"> 68</span></a>
</span><span id="OpenAPISchemaGenerator-69"><a href="#OpenAPISchemaGenerator-69"><span class="linenos"> 69</span></a>        <span class="c1"># Initialize data structures</span>
</span><span id="OpenAPISchemaGenerator-70"><a href="#OpenAPISchemaGenerator-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPISchemaGenerator-71"><a href="#OpenAPISchemaGenerator-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-72"><a href="#OpenAPISchemaGenerator-72"><span class="linenos"> 72</span></a>            <span class="s2">&quot;schemas&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="OpenAPISchemaGenerator-73"><a href="#OpenAPISchemaGenerator-73"><span class="linenos"> 73</span></a>            <span class="s2">&quot;securitySchemes&quot;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">security_schemes</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">security_schemes</span> <span class="k">else</span> <span class="p">{},</span>
</span><span id="OpenAPISchemaGenerator-74"><a href="#OpenAPISchemaGenerator-74"><span class="linenos"> 74</span></a>        <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-75"><a href="#OpenAPISchemaGenerator-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPISchemaGenerator-76"><a href="#OpenAPISchemaGenerator-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_registered_models</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-77"><a href="#OpenAPISchemaGenerator-77"><span class="linenos"> 77</span></a>
</span><span id="OpenAPISchemaGenerator-78"><a href="#OpenAPISchemaGenerator-78"><span class="linenos"> 78</span></a>        <span class="c1"># Thread safety locks</span>
</span><span id="OpenAPISchemaGenerator-79"><a href="#OpenAPISchemaGenerator-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>  <span class="c1"># Main lock for coordinating access</span>
</span><span id="OpenAPISchemaGenerator-80"><a href="#OpenAPISchemaGenerator-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_paths_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-81"><a href="#OpenAPISchemaGenerator-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-82"><a href="#OpenAPISchemaGenerator-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tags_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-83"><a href="#OpenAPISchemaGenerator-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_models_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-84"><a href="#OpenAPISchemaGenerator-84"><span class="linenos"> 84</span></a>
</span><span id="OpenAPISchemaGenerator-85"><a href="#OpenAPISchemaGenerator-85"><span class="linenos"> 85</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_security_scheme</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">scheme</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-86"><a href="#OpenAPISchemaGenerator-86"><span class="linenos"> 86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a security scheme to the OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator-87"><a href="#OpenAPISchemaGenerator-87"><span class="linenos"> 87</span></a>
</span><span id="OpenAPISchemaGenerator-88"><a href="#OpenAPISchemaGenerator-88"><span class="linenos"> 88</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-89"><a href="#OpenAPISchemaGenerator-89"><span class="linenos"> 89</span></a><span class="sd">            name: The name of the security scheme</span>
</span><span id="OpenAPISchemaGenerator-90"><a href="#OpenAPISchemaGenerator-90"><span class="linenos"> 90</span></a><span class="sd">            scheme: The security scheme definition</span>
</span><span id="OpenAPISchemaGenerator-91"><a href="#OpenAPISchemaGenerator-91"><span class="linenos"> 91</span></a>
</span><span id="OpenAPISchemaGenerator-92"><a href="#OpenAPISchemaGenerator-92"><span class="linenos"> 92</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-93"><a href="#OpenAPISchemaGenerator-93"><span class="linenos"> 93</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-94"><a href="#OpenAPISchemaGenerator-94"><span class="linenos"> 94</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;securitySchemes&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">scheme</span>
</span><span id="OpenAPISchemaGenerator-95"><a href="#OpenAPISchemaGenerator-95"><span class="linenos"> 95</span></a>
</span><span id="OpenAPISchemaGenerator-96"><a href="#OpenAPISchemaGenerator-96"><span class="linenos"> 96</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-97"><a href="#OpenAPISchemaGenerator-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a tag to the OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator-98"><a href="#OpenAPISchemaGenerator-98"><span class="linenos"> 98</span></a>
</span><span id="OpenAPISchemaGenerator-99"><a href="#OpenAPISchemaGenerator-99"><span class="linenos"> 99</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-100"><a href="#OpenAPISchemaGenerator-100"><span class="linenos">100</span></a><span class="sd">            name: The name of the tag</span>
</span><span id="OpenAPISchemaGenerator-101"><a href="#OpenAPISchemaGenerator-101"><span class="linenos">101</span></a><span class="sd">            description: The description of the tag</span>
</span><span id="OpenAPISchemaGenerator-102"><a href="#OpenAPISchemaGenerator-102"><span class="linenos">102</span></a>
</span><span id="OpenAPISchemaGenerator-103"><a href="#OpenAPISchemaGenerator-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-104"><a href="#OpenAPISchemaGenerator-104"><span class="linenos">104</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-105"><a href="#OpenAPISchemaGenerator-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">})</span>
</span><span id="OpenAPISchemaGenerator-106"><a href="#OpenAPISchemaGenerator-106"><span class="linenos">106</span></a>
</span><span id="OpenAPISchemaGenerator-107"><a href="#OpenAPISchemaGenerator-107"><span class="linenos">107</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">scan_blueprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">:</span> <span class="n">Blueprint</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-108"><a href="#OpenAPISchemaGenerator-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scan a Flask blueprint for API resources and add them to the schema.</span>
</span><span id="OpenAPISchemaGenerator-109"><a href="#OpenAPISchemaGenerator-109"><span class="linenos">109</span></a>
</span><span id="OpenAPISchemaGenerator-110"><a href="#OpenAPISchemaGenerator-110"><span class="linenos">110</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-111"><a href="#OpenAPISchemaGenerator-111"><span class="linenos">111</span></a><span class="sd">            blueprint: The Flask blueprint to scan</span>
</span><span id="OpenAPISchemaGenerator-112"><a href="#OpenAPISchemaGenerator-112"><span class="linenos">112</span></a>
</span><span id="OpenAPISchemaGenerator-113"><a href="#OpenAPISchemaGenerator-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-114"><a href="#OpenAPISchemaGenerator-114"><span class="linenos">114</span></a>        <span class="c1"># Get all resources registered to the blueprint</span>
</span><span id="OpenAPISchemaGenerator-115"><a href="#OpenAPISchemaGenerator-115"><span class="linenos">115</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-116"><a href="#OpenAPISchemaGenerator-116"><span class="linenos">116</span></a>            <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator-117"><a href="#OpenAPISchemaGenerator-117"><span class="linenos">117</span></a>
</span><span id="OpenAPISchemaGenerator-118"><a href="#OpenAPISchemaGenerator-118"><span class="linenos">118</span></a>        <span class="k">for</span> <span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">blueprint</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-119"><a href="#OpenAPISchemaGenerator-119"><span class="linenos">119</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_process_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">blueprint</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-120"><a href="#OpenAPISchemaGenerator-120"><span class="linenos">120</span></a>
</span><span id="OpenAPISchemaGenerator-121"><a href="#OpenAPISchemaGenerator-121"><span class="linenos">121</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_process_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span> <span class="n">urls</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-122"><a href="#OpenAPISchemaGenerator-122"><span class="linenos">122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Process a Flask-RESTful resource and add its endpoints to the schema.</span>
</span><span id="OpenAPISchemaGenerator-123"><a href="#OpenAPISchemaGenerator-123"><span class="linenos">123</span></a>
</span><span id="OpenAPISchemaGenerator-124"><a href="#OpenAPISchemaGenerator-124"><span class="linenos">124</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-125"><a href="#OpenAPISchemaGenerator-125"><span class="linenos">125</span></a><span class="sd">            resource: The Flask-RESTful resource class</span>
</span><span id="OpenAPISchemaGenerator-126"><a href="#OpenAPISchemaGenerator-126"><span class="linenos">126</span></a><span class="sd">            urls: The URLs registered for the resource</span>
</span><span id="OpenAPISchemaGenerator-127"><a href="#OpenAPISchemaGenerator-127"><span class="linenos">127</span></a><span class="sd">            prefix: The URL prefix for the resource</span>
</span><span id="OpenAPISchemaGenerator-128"><a href="#OpenAPISchemaGenerator-128"><span class="linenos">128</span></a>
</span><span id="OpenAPISchemaGenerator-129"><a href="#OpenAPISchemaGenerator-129"><span class="linenos">129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-130"><a href="#OpenAPISchemaGenerator-130"><span class="linenos">130</span></a>        <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-131"><a href="#OpenAPISchemaGenerator-131"><span class="linenos">131</span></a>            <span class="n">full_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="OpenAPISchemaGenerator-132"><a href="#OpenAPISchemaGenerator-132"><span class="linenos">132</span></a>            <span class="c1"># Convert Flask URL parameters to OpenAPI parameters</span>
</span><span id="OpenAPISchemaGenerator-133"><a href="#OpenAPISchemaGenerator-133"><span class="linenos">133</span></a>            <span class="n">openapi_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_flask_path_to_openapi_path</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-134"><a href="#OpenAPISchemaGenerator-134"><span class="linenos">134</span></a>
</span><span id="OpenAPISchemaGenerator-135"><a href="#OpenAPISchemaGenerator-135"><span class="linenos">135</span></a>            <span class="c1"># Process HTTP methods and build operations</span>
</span><span id="OpenAPISchemaGenerator-136"><a href="#OpenAPISchemaGenerator-136"><span class="linenos">136</span></a>            <span class="n">http_methods</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="OpenAPISchemaGenerator-137"><a href="#OpenAPISchemaGenerator-137"><span class="linenos">137</span></a>                <span class="s2">&quot;get&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-138"><a href="#OpenAPISchemaGenerator-138"><span class="linenos">138</span></a>                <span class="s2">&quot;post&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-139"><a href="#OpenAPISchemaGenerator-139"><span class="linenos">139</span></a>                <span class="s2">&quot;put&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-140"><a href="#OpenAPISchemaGenerator-140"><span class="linenos">140</span></a>                <span class="s2">&quot;delete&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-141"><a href="#OpenAPISchemaGenerator-141"><span class="linenos">141</span></a>                <span class="s2">&quot;patch&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-142"><a href="#OpenAPISchemaGenerator-142"><span class="linenos">142</span></a>                <span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-143"><a href="#OpenAPISchemaGenerator-143"><span class="linenos">143</span></a>                <span class="s2">&quot;options&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-144"><a href="#OpenAPISchemaGenerator-144"><span class="linenos">144</span></a>            <span class="p">]</span>
</span><span id="OpenAPISchemaGenerator-145"><a href="#OpenAPISchemaGenerator-145"><span class="linenos">145</span></a>
</span><span id="OpenAPISchemaGenerator-146"><a href="#OpenAPISchemaGenerator-146"><span class="linenos">146</span></a>            <span class="n">operations</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPISchemaGenerator-147"><a href="#OpenAPISchemaGenerator-147"><span class="linenos">147</span></a>            <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="n">http_methods</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-148"><a href="#OpenAPISchemaGenerator-148"><span class="linenos">148</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">method_name</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-149"><a href="#OpenAPISchemaGenerator-149"><span class="linenos">149</span></a>                    <span class="n">method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-150"><a href="#OpenAPISchemaGenerator-150"><span class="linenos">150</span></a>                    <span class="n">operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_operation_from_method</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">resource</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-151"><a href="#OpenAPISchemaGenerator-151"><span class="linenos">151</span></a>
</span><span id="OpenAPISchemaGenerator-152"><a href="#OpenAPISchemaGenerator-152"><span class="linenos">152</span></a>                    <span class="c1"># Add parameters from URL</span>
</span><span id="OpenAPISchemaGenerator-153"><a href="#OpenAPISchemaGenerator-153"><span class="linenos">153</span></a>                    <span class="n">path_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_path_parameters</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-154"><a href="#OpenAPISchemaGenerator-154"><span class="linenos">154</span></a>                    <span class="k">if</span> <span class="n">path_params</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-155"><a href="#OpenAPISchemaGenerator-155"><span class="linenos">155</span></a>                        <span class="k">if</span> <span class="s2">&quot;parameters&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">operation</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-156"><a href="#OpenAPISchemaGenerator-156"><span class="linenos">156</span></a>                            <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPISchemaGenerator-157"><a href="#OpenAPISchemaGenerator-157"><span class="linenos">157</span></a>
</span><span id="OpenAPISchemaGenerator-158"><a href="#OpenAPISchemaGenerator-158"><span class="linenos">158</span></a>                        <span class="c1"># Add path parameters without duplicates</span>
</span><span id="OpenAPISchemaGenerator-159"><a href="#OpenAPISchemaGenerator-159"><span class="linenos">159</span></a>                        <span class="n">existing_param_names</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;path&quot;</span><span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-160"><a href="#OpenAPISchemaGenerator-160"><span class="linenos">160</span></a>                        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">path_params</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-161"><a href="#OpenAPISchemaGenerator-161"><span class="linenos">161</span></a>                            <span class="k">if</span> <span class="n">param</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_param_names</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-162"><a href="#OpenAPISchemaGenerator-162"><span class="linenos">162</span></a>                                <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-163"><a href="#OpenAPISchemaGenerator-163"><span class="linenos">163</span></a>                                <span class="n">existing_param_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
</span><span id="OpenAPISchemaGenerator-164"><a href="#OpenAPISchemaGenerator-164"><span class="linenos">164</span></a>
</span><span id="OpenAPISchemaGenerator-165"><a href="#OpenAPISchemaGenerator-165"><span class="linenos">165</span></a>                    <span class="n">operations</span><span class="p">[</span><span class="n">method_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">operation</span>
</span><span id="OpenAPISchemaGenerator-166"><a href="#OpenAPISchemaGenerator-166"><span class="linenos">166</span></a>
</span><span id="OpenAPISchemaGenerator-167"><a href="#OpenAPISchemaGenerator-167"><span class="linenos">167</span></a>            <span class="c1"># Update paths in a thread-safe manner</span>
</span><span id="OpenAPISchemaGenerator-168"><a href="#OpenAPISchemaGenerator-168"><span class="linenos">168</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_paths_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-169"><a href="#OpenAPISchemaGenerator-169"><span class="linenos">169</span></a>                <span class="c1"># Initialize path item if it doesn&#39;t exist</span>
</span><span id="OpenAPISchemaGenerator-170"><a href="#OpenAPISchemaGenerator-170"><span class="linenos">170</span></a>                <span class="k">if</span> <span class="n">openapi_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-171"><a href="#OpenAPISchemaGenerator-171"><span class="linenos">171</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">[</span><span class="n">openapi_path</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPISchemaGenerator-172"><a href="#OpenAPISchemaGenerator-172"><span class="linenos">172</span></a>
</span><span id="OpenAPISchemaGenerator-173"><a href="#OpenAPISchemaGenerator-173"><span class="linenos">173</span></a>                <span class="c1"># Add all operations at once</span>
</span><span id="OpenAPISchemaGenerator-174"><a href="#OpenAPISchemaGenerator-174"><span class="linenos">174</span></a>                <span class="k">for</span> <span class="n">method_name</span><span class="p">,</span> <span class="n">operation</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="OpenAPISchemaGenerator-175"><a href="#OpenAPISchemaGenerator-175"><span class="linenos">175</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">[</span><span class="n">openapi_path</span><span class="p">][</span><span class="n">method_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">operation</span>
</span><span id="OpenAPISchemaGenerator-176"><a href="#OpenAPISchemaGenerator-176"><span class="linenos">176</span></a>
</span><span id="OpenAPISchemaGenerator-177"><a href="#OpenAPISchemaGenerator-177"><span class="linenos">177</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_flask_path_to_openapi_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flask_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-178"><a href="#OpenAPISchemaGenerator-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a Flask URL path to an OpenAPI path.</span>
</span><span id="OpenAPISchemaGenerator-179"><a href="#OpenAPISchemaGenerator-179"><span class="linenos">179</span></a>
</span><span id="OpenAPISchemaGenerator-180"><a href="#OpenAPISchemaGenerator-180"><span class="linenos">180</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-181"><a href="#OpenAPISchemaGenerator-181"><span class="linenos">181</span></a><span class="sd">            flask_path: The Flask URL path</span>
</span><span id="OpenAPISchemaGenerator-182"><a href="#OpenAPISchemaGenerator-182"><span class="linenos">182</span></a>
</span><span id="OpenAPISchemaGenerator-183"><a href="#OpenAPISchemaGenerator-183"><span class="linenos">183</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-184"><a href="#OpenAPISchemaGenerator-184"><span class="linenos">184</span></a><span class="sd">            The OpenAPI path</span>
</span><span id="OpenAPISchemaGenerator-185"><a href="#OpenAPISchemaGenerator-185"><span class="linenos">185</span></a>
</span><span id="OpenAPISchemaGenerator-186"><a href="#OpenAPISchemaGenerator-186"><span class="linenos">186</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-187"><a href="#OpenAPISchemaGenerator-187"><span class="linenos">187</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_parameter_prefixes</span>
</span><span id="OpenAPISchemaGenerator-188"><a href="#OpenAPISchemaGenerator-188"><span class="linenos">188</span></a>
</span><span id="OpenAPISchemaGenerator-189"><a href="#OpenAPISchemaGenerator-189"><span class="linenos">189</span></a>        <span class="c1"># Get parameter prefixes from current configuration</span>
</span><span id="OpenAPISchemaGenerator-190"><a href="#OpenAPISchemaGenerator-190"><span class="linenos">190</span></a>        <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">path_prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_parameter_prefixes</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-191"><a href="#OpenAPISchemaGenerator-191"><span class="linenos">191</span></a>        <span class="n">path_prefix_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># +1 for the underscore</span>
</span><span id="OpenAPISchemaGenerator-192"><a href="#OpenAPISchemaGenerator-192"><span class="linenos">192</span></a>
</span><span id="OpenAPISchemaGenerator-193"><a href="#OpenAPISchemaGenerator-193"><span class="linenos">193</span></a>        <span class="c1"># Replace Flask&#39;s &lt;converter:param&gt; with OpenAPI&#39;s {param}</span>
</span><span id="OpenAPISchemaGenerator-194"><a href="#OpenAPISchemaGenerator-194"><span class="linenos">194</span></a>        <span class="c1"># and remove any prefix from the parameter name</span>
</span><span id="OpenAPISchemaGenerator-195"><a href="#OpenAPISchemaGenerator-195"><span class="linenos">195</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">replace_param</span><span class="p">(</span><span class="n">match</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">Match</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-196"><a href="#OpenAPISchemaGenerator-196"><span class="linenos">196</span></a>            <span class="n">param_name</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-197"><a href="#OpenAPISchemaGenerator-197"><span class="linenos">197</span></a>
</span><span id="OpenAPISchemaGenerator-198"><a href="#OpenAPISchemaGenerator-198"><span class="linenos">198</span></a>            <span class="c1"># Remove prefix if present (e.g., _x_path_)</span>
</span><span id="OpenAPISchemaGenerator-199"><a href="#OpenAPISchemaGenerator-199"><span class="linenos">199</span></a>            <span class="k">if</span> <span class="n">param_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path_prefix</span><span class="si">}</span><span class="s2">_&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-200"><a href="#OpenAPISchemaGenerator-200"><span class="linenos">200</span></a>                <span class="n">param_name</span> <span class="o">=</span> <span class="n">param_name</span><span class="p">[</span><span class="n">path_prefix_len</span><span class="p">:]</span>
</span><span id="OpenAPISchemaGenerator-201"><a href="#OpenAPISchemaGenerator-201"><span class="linenos">201</span></a>
</span><span id="OpenAPISchemaGenerator-202"><a href="#OpenAPISchemaGenerator-202"><span class="linenos">202</span></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span>
</span><span id="OpenAPISchemaGenerator-203"><a href="#OpenAPISchemaGenerator-203"><span class="linenos">203</span></a>
</span><span id="OpenAPISchemaGenerator-204"><a href="#OpenAPISchemaGenerator-204"><span class="linenos">204</span></a>        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;(?:[^:&gt;]+:)?([^&gt;]+)&gt;&quot;</span><span class="p">,</span> <span class="n">replace_param</span><span class="p">,</span> <span class="n">flask_path</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-205"><a href="#OpenAPISchemaGenerator-205"><span class="linenos">205</span></a>
</span><span id="OpenAPISchemaGenerator-206"><a href="#OpenAPISchemaGenerator-206"><span class="linenos">206</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_extract_path_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flask_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="OpenAPISchemaGenerator-207"><a href="#OpenAPISchemaGenerator-207"><span class="linenos">207</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract path parameters from a Flask URL path.</span>
</span><span id="OpenAPISchemaGenerator-208"><a href="#OpenAPISchemaGenerator-208"><span class="linenos">208</span></a>
</span><span id="OpenAPISchemaGenerator-209"><a href="#OpenAPISchemaGenerator-209"><span class="linenos">209</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-210"><a href="#OpenAPISchemaGenerator-210"><span class="linenos">210</span></a><span class="sd">            flask_path: The Flask URL path</span>
</span><span id="OpenAPISchemaGenerator-211"><a href="#OpenAPISchemaGenerator-211"><span class="linenos">211</span></a>
</span><span id="OpenAPISchemaGenerator-212"><a href="#OpenAPISchemaGenerator-212"><span class="linenos">212</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-213"><a href="#OpenAPISchemaGenerator-213"><span class="linenos">213</span></a><span class="sd">            A list of OpenAPI parameter objects</span>
</span><span id="OpenAPISchemaGenerator-214"><a href="#OpenAPISchemaGenerator-214"><span class="linenos">214</span></a>
</span><span id="OpenAPISchemaGenerator-215"><a href="#OpenAPISchemaGenerator-215"><span class="linenos">215</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-216"><a href="#OpenAPISchemaGenerator-216"><span class="linenos">216</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_parameter_prefixes</span>
</span><span id="OpenAPISchemaGenerator-217"><a href="#OpenAPISchemaGenerator-217"><span class="linenos">217</span></a>
</span><span id="OpenAPISchemaGenerator-218"><a href="#OpenAPISchemaGenerator-218"><span class="linenos">218</span></a>        <span class="c1"># Get parameter prefixes from current configuration</span>
</span><span id="OpenAPISchemaGenerator-219"><a href="#OpenAPISchemaGenerator-219"><span class="linenos">219</span></a>        <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">path_prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_parameter_prefixes</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-220"><a href="#OpenAPISchemaGenerator-220"><span class="linenos">220</span></a>        <span class="n">path_prefix_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># +1 for the underscore</span>
</span><span id="OpenAPISchemaGenerator-221"><a href="#OpenAPISchemaGenerator-221"><span class="linenos">221</span></a>
</span><span id="OpenAPISchemaGenerator-222"><a href="#OpenAPISchemaGenerator-222"><span class="linenos">222</span></a>        <span class="n">parameters</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPISchemaGenerator-223"><a href="#OpenAPISchemaGenerator-223"><span class="linenos">223</span></a>        <span class="c1"># Match Flask&#39;s &lt;converter:param&gt; or &lt;param&gt;</span>
</span><span id="OpenAPISchemaGenerator-224"><a href="#OpenAPISchemaGenerator-224"><span class="linenos">224</span></a>        <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;(?:([^:&gt;]+):)?([^&gt;]+)&gt;&quot;</span><span class="p">,</span> <span class="n">flask_path</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-225"><a href="#OpenAPISchemaGenerator-225"><span class="linenos">225</span></a>            <span class="n">converter</span><span class="p">,</span> <span class="n">param_name</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-226"><a href="#OpenAPISchemaGenerator-226"><span class="linenos">226</span></a>
</span><span id="OpenAPISchemaGenerator-227"><a href="#OpenAPISchemaGenerator-227"><span class="linenos">227</span></a>            <span class="c1"># Remove prefix if present (e.g., _x_path_)</span>
</span><span id="OpenAPISchemaGenerator-228"><a href="#OpenAPISchemaGenerator-228"><span class="linenos">228</span></a>            <span class="n">actual_param_name</span> <span class="o">=</span> <span class="n">param_name</span>
</span><span id="OpenAPISchemaGenerator-229"><a href="#OpenAPISchemaGenerator-229"><span class="linenos">229</span></a>            <span class="k">if</span> <span class="n">param_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path_prefix</span><span class="si">}</span><span class="s2">_&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-230"><a href="#OpenAPISchemaGenerator-230"><span class="linenos">230</span></a>                <span class="n">actual_param_name</span> <span class="o">=</span> <span class="n">param_name</span><span class="p">[</span><span class="n">path_prefix_len</span><span class="p">:]</span>
</span><span id="OpenAPISchemaGenerator-231"><a href="#OpenAPISchemaGenerator-231"><span class="linenos">231</span></a>
</span><span id="OpenAPISchemaGenerator-232"><a href="#OpenAPISchemaGenerator-232"><span class="linenos">232</span></a>            <span class="n">param</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-233"><a href="#OpenAPISchemaGenerator-233"><span class="linenos">233</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">actual_param_name</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-234"><a href="#OpenAPISchemaGenerator-234"><span class="linenos">234</span></a>                <span class="s2">&quot;in&quot;</span><span class="p">:</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-235"><a href="#OpenAPISchemaGenerator-235"><span class="linenos">235</span></a>                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-236"><a href="#OpenAPISchemaGenerator-236"><span class="linenos">236</span></a>                <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_for_converter</span><span class="p">(</span><span class="n">converter</span> <span class="ow">or</span> <span class="s2">&quot;string&quot;</span><span class="p">),</span>
</span><span id="OpenAPISchemaGenerator-237"><a href="#OpenAPISchemaGenerator-237"><span class="linenos">237</span></a>            <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-238"><a href="#OpenAPISchemaGenerator-238"><span class="linenos">238</span></a>            <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-239"><a href="#OpenAPISchemaGenerator-239"><span class="linenos">239</span></a>        <span class="k">return</span> <span class="n">parameters</span>
</span><span id="OpenAPISchemaGenerator-240"><a href="#OpenAPISchemaGenerator-240"><span class="linenos">240</span></a>
</span><span id="OpenAPISchemaGenerator-241"><a href="#OpenAPISchemaGenerator-241"><span class="linenos">241</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_schema_for_converter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">converter</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-242"><a href="#OpenAPISchemaGenerator-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an OpenAPI schema for a Flask URL converter.</span>
</span><span id="OpenAPISchemaGenerator-243"><a href="#OpenAPISchemaGenerator-243"><span class="linenos">243</span></a>
</span><span id="OpenAPISchemaGenerator-244"><a href="#OpenAPISchemaGenerator-244"><span class="linenos">244</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-245"><a href="#OpenAPISchemaGenerator-245"><span class="linenos">245</span></a><span class="sd">            converter: The Flask URL converter</span>
</span><span id="OpenAPISchemaGenerator-246"><a href="#OpenAPISchemaGenerator-246"><span class="linenos">246</span></a>
</span><span id="OpenAPISchemaGenerator-247"><a href="#OpenAPISchemaGenerator-247"><span class="linenos">247</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-248"><a href="#OpenAPISchemaGenerator-248"><span class="linenos">248</span></a><span class="sd">            An OpenAPI schema object</span>
</span><span id="OpenAPISchemaGenerator-249"><a href="#OpenAPISchemaGenerator-249"><span class="linenos">249</span></a>
</span><span id="OpenAPISchemaGenerator-250"><a href="#OpenAPISchemaGenerator-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-251"><a href="#OpenAPISchemaGenerator-251"><span class="linenos">251</span></a>        <span class="c1"># Map Flask URL converters to OpenAPI types</span>
</span><span id="OpenAPISchemaGenerator-252"><a href="#OpenAPISchemaGenerator-252"><span class="linenos">252</span></a>        <span class="n">converter_map</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-253"><a href="#OpenAPISchemaGenerator-253"><span class="linenos">253</span></a>            <span class="s2">&quot;string&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-254"><a href="#OpenAPISchemaGenerator-254"><span class="linenos">254</span></a>            <span class="s2">&quot;int&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-255"><a href="#OpenAPISchemaGenerator-255"><span class="linenos">255</span></a>            <span class="s2">&quot;float&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-256"><a href="#OpenAPISchemaGenerator-256"><span class="linenos">256</span></a>            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-257"><a href="#OpenAPISchemaGenerator-257"><span class="linenos">257</span></a>            <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;uuid&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-258"><a href="#OpenAPISchemaGenerator-258"><span class="linenos">258</span></a>            <span class="s2">&quot;any&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-259"><a href="#OpenAPISchemaGenerator-259"><span class="linenos">259</span></a>        <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-260"><a href="#OpenAPISchemaGenerator-260"><span class="linenos">260</span></a>        <span class="k">return</span> <span class="n">converter_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">converter</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">})</span>
</span><span id="OpenAPISchemaGenerator-261"><a href="#OpenAPISchemaGenerator-261"><span class="linenos">261</span></a>
</span><span id="OpenAPISchemaGenerator-262"><a href="#OpenAPISchemaGenerator-262"><span class="linenos">262</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_build_operation_from_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">resource_cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Resource</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-263"><a href="#OpenAPISchemaGenerator-263"><span class="linenos">263</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Build an OpenAPI operation object from a Flask-RESTful resource method.</span>
</span><span id="OpenAPISchemaGenerator-264"><a href="#OpenAPISchemaGenerator-264"><span class="linenos">264</span></a>
</span><span id="OpenAPISchemaGenerator-265"><a href="#OpenAPISchemaGenerator-265"><span class="linenos">265</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-266"><a href="#OpenAPISchemaGenerator-266"><span class="linenos">266</span></a><span class="sd">            method: The resource method</span>
</span><span id="OpenAPISchemaGenerator-267"><a href="#OpenAPISchemaGenerator-267"><span class="linenos">267</span></a><span class="sd">            resource_cls: The resource class</span>
</span><span id="OpenAPISchemaGenerator-268"><a href="#OpenAPISchemaGenerator-268"><span class="linenos">268</span></a>
</span><span id="OpenAPISchemaGenerator-269"><a href="#OpenAPISchemaGenerator-269"><span class="linenos">269</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-270"><a href="#OpenAPISchemaGenerator-270"><span class="linenos">270</span></a><span class="sd">            An OpenAPI operation object</span>
</span><span id="OpenAPISchemaGenerator-271"><a href="#OpenAPISchemaGenerator-271"><span class="linenos">271</span></a>
</span><span id="OpenAPISchemaGenerator-272"><a href="#OpenAPISchemaGenerator-272"><span class="linenos">272</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-273"><a href="#OpenAPISchemaGenerator-273"><span class="linenos">273</span></a>        <span class="n">operation</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPISchemaGenerator-274"><a href="#OpenAPISchemaGenerator-274"><span class="linenos">274</span></a>
</span><span id="OpenAPISchemaGenerator-275"><a href="#OpenAPISchemaGenerator-275"><span class="linenos">275</span></a>        <span class="c1"># Get metadata from method if available</span>
</span><span id="OpenAPISchemaGenerator-276"><a href="#OpenAPISchemaGenerator-276"><span class="linenos">276</span></a>        <span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="s2">&quot;_openapi_metadata&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="OpenAPISchemaGenerator-277"><a href="#OpenAPISchemaGenerator-277"><span class="linenos">277</span></a>
</span><span id="OpenAPISchemaGenerator-278"><a href="#OpenAPISchemaGenerator-278"><span class="linenos">278</span></a>        <span class="c1"># Process metadata, handling I18nString values</span>
</span><span id="OpenAPISchemaGenerator-279"><a href="#OpenAPISchemaGenerator-279"><span class="linenos">279</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="OpenAPISchemaGenerator-280"><a href="#OpenAPISchemaGenerator-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-281"><a href="#OpenAPISchemaGenerator-281"><span class="linenos">281</span></a>                <span class="n">operation</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-282"><a href="#OpenAPISchemaGenerator-282"><span class="linenos">282</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-283"><a href="#OpenAPISchemaGenerator-283"><span class="linenos">283</span></a>                <span class="c1"># Handle nested dictionaries that might contain I18nString values</span>
</span><span id="OpenAPISchemaGenerator-284"><a href="#OpenAPISchemaGenerator-284"><span class="linenos">284</span></a>                <span class="n">operation</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_i18n_dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-285"><a href="#OpenAPISchemaGenerator-285"><span class="linenos">285</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-286"><a href="#OpenAPISchemaGenerator-286"><span class="linenos">286</span></a>                <span class="n">operation</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="OpenAPISchemaGenerator-287"><a href="#OpenAPISchemaGenerator-287"><span class="linenos">287</span></a>
</span><span id="OpenAPISchemaGenerator-288"><a href="#OpenAPISchemaGenerator-288"><span class="linenos">288</span></a>        <span class="c1"># Extract summary and description from docstring</span>
</span><span id="OpenAPISchemaGenerator-289"><a href="#OpenAPISchemaGenerator-289"><span class="linenos">289</span></a>        <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-290"><a href="#OpenAPISchemaGenerator-290"><span class="linenos">290</span></a>            <span class="n">docstring</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-291"><a href="#OpenAPISchemaGenerator-291"><span class="linenos">291</span></a>            <span class="n">lines</span> <span class="o">=</span> <span class="n">docstring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-292"><a href="#OpenAPISchemaGenerator-292"><span class="linenos">292</span></a>            <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;summary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-293"><a href="#OpenAPISchemaGenerator-293"><span class="linenos">293</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-294"><a href="#OpenAPISchemaGenerator-294"><span class="linenos">294</span></a>                <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator-295"><a href="#OpenAPISchemaGenerator-295"><span class="linenos">295</span></a>
</span><span id="OpenAPISchemaGenerator-296"><a href="#OpenAPISchemaGenerator-296"><span class="linenos">296</span></a>        <span class="c1"># Get operation ID</span>
</span><span id="OpenAPISchemaGenerator-297"><a href="#OpenAPISchemaGenerator-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="s2">&quot;operationId&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">operation</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-298"><a href="#OpenAPISchemaGenerator-298"><span class="linenos">298</span></a>            <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;operationId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_operation_id</span><span class="p">(</span><span class="n">resource_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-299"><a href="#OpenAPISchemaGenerator-299"><span class="linenos">299</span></a>
</span><span id="OpenAPISchemaGenerator-300"><a href="#OpenAPISchemaGenerator-300"><span class="linenos">300</span></a>        <span class="c1"># Extract request and response schemas from type annotations</span>
</span><span id="OpenAPISchemaGenerator-301"><a href="#OpenAPISchemaGenerator-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_add_request_schema</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-302"><a href="#OpenAPISchemaGenerator-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_add_response_schema</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-303"><a href="#OpenAPISchemaGenerator-303"><span class="linenos">303</span></a>
</span><span id="OpenAPISchemaGenerator-304"><a href="#OpenAPISchemaGenerator-304"><span class="linenos">304</span></a>        <span class="k">return</span> <span class="n">operation</span>
</span><span id="OpenAPISchemaGenerator-305"><a href="#OpenAPISchemaGenerator-305"><span class="linenos">305</span></a>
</span><span id="OpenAPISchemaGenerator-306"><a href="#OpenAPISchemaGenerator-306"><span class="linenos">306</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_add_request_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-307"><a href="#OpenAPISchemaGenerator-307"><span class="linenos">307</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add request schema to an OpenAPI operation based on method type annotations.</span>
</span><span id="OpenAPISchemaGenerator-308"><a href="#OpenAPISchemaGenerator-308"><span class="linenos">308</span></a>
</span><span id="OpenAPISchemaGenerator-309"><a href="#OpenAPISchemaGenerator-309"><span class="linenos">309</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-310"><a href="#OpenAPISchemaGenerator-310"><span class="linenos">310</span></a><span class="sd">            method: The resource method</span>
</span><span id="OpenAPISchemaGenerator-311"><a href="#OpenAPISchemaGenerator-311"><span class="linenos">311</span></a><span class="sd">            operation: The OpenAPI operation object to update</span>
</span><span id="OpenAPISchemaGenerator-312"><a href="#OpenAPISchemaGenerator-312"><span class="linenos">312</span></a>
</span><span id="OpenAPISchemaGenerator-313"><a href="#OpenAPISchemaGenerator-313"><span class="linenos">313</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-314"><a href="#OpenAPISchemaGenerator-314"><span class="linenos">314</span></a>        <span class="n">type_hints</span> <span class="o">=</span> <span class="n">get_type_hints</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-315"><a href="#OpenAPISchemaGenerator-315"><span class="linenos">315</span></a>
</span><span id="OpenAPISchemaGenerator-316"><a href="#OpenAPISchemaGenerator-316"><span class="linenos">316</span></a>        <span class="c1"># Look for parameters that might be request bodies</span>
</span><span id="OpenAPISchemaGenerator-317"><a href="#OpenAPISchemaGenerator-317"><span class="linenos">317</span></a>        <span class="k">for</span> <span class="n">param_name</span><span class="p">,</span> <span class="n">param_type</span> <span class="ow">in</span> <span class="n">type_hints</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="OpenAPISchemaGenerator-318"><a href="#OpenAPISchemaGenerator-318"><span class="linenos">318</span></a>            <span class="k">if</span> <span class="n">param_name</span> <span class="o">==</span> <span class="s2">&quot;return&quot;</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-319"><a href="#OpenAPISchemaGenerator-319"><span class="linenos">319</span></a>                <span class="k">continue</span>
</span><span id="OpenAPISchemaGenerator-320"><a href="#OpenAPISchemaGenerator-320"><span class="linenos">320</span></a>
</span><span id="OpenAPISchemaGenerator-321"><a href="#OpenAPISchemaGenerator-321"><span class="linenos">321</span></a>            <span class="c1"># Check if the parameter is a Pydantic model</span>
</span><span id="OpenAPISchemaGenerator-322"><a href="#OpenAPISchemaGenerator-322"><span class="linenos">322</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-323"><a href="#OpenAPISchemaGenerator-323"><span class="linenos">323</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_register_model</span><span class="p">(</span><span class="n">param_type</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-324"><a href="#OpenAPISchemaGenerator-324"><span class="linenos">324</span></a>
</span><span id="OpenAPISchemaGenerator-325"><a href="#OpenAPISchemaGenerator-325"><span class="linenos">325</span></a>                <span class="c1"># Check if this is a file upload model</span>
</span><span id="OpenAPISchemaGenerator-326"><a href="#OpenAPISchemaGenerator-326"><span class="linenos">326</span></a>                <span class="n">is_file_upload</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="OpenAPISchemaGenerator-327"><a href="#OpenAPISchemaGenerator-327"><span class="linenos">327</span></a>                <span class="n">has_binary_fields</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="OpenAPISchemaGenerator-328"><a href="#OpenAPISchemaGenerator-328"><span class="linenos">328</span></a>
</span><span id="OpenAPISchemaGenerator-329"><a href="#OpenAPISchemaGenerator-329"><span class="linenos">329</span></a>                <span class="c1"># Check model config for multipart/form-data flag</span>
</span><span id="OpenAPISchemaGenerator-330"><a href="#OpenAPISchemaGenerator-330"><span class="linenos">330</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="s2">&quot;model_config&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-331"><a href="#OpenAPISchemaGenerator-331"><span class="linenos">331</span></a>                    <span class="n">config</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="s2">&quot;model_config&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="OpenAPISchemaGenerator-332"><a href="#OpenAPISchemaGenerator-332"><span class="linenos">332</span></a>                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;json_schema_extra&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="OpenAPISchemaGenerator-333"><a href="#OpenAPISchemaGenerator-333"><span class="linenos">333</span></a>                        <span class="s2">&quot;multipart/form-data&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-334"><a href="#OpenAPISchemaGenerator-334"><span class="linenos">334</span></a>                        <span class="kc">False</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-335"><a href="#OpenAPISchemaGenerator-335"><span class="linenos">335</span></a>                    <span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-336"><a href="#OpenAPISchemaGenerator-336"><span class="linenos">336</span></a>                        <span class="n">is_file_upload</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="OpenAPISchemaGenerator-337"><a href="#OpenAPISchemaGenerator-337"><span class="linenos">337</span></a>                <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="s2">&quot;Config&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">param_type</span><span class="o">.</span><span class="n">Config</span><span class="p">,</span> <span class="s2">&quot;json_schema_extra&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-338"><a href="#OpenAPISchemaGenerator-338"><span class="linenos">338</span></a>                    <span class="n">config_extra</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">param_type</span><span class="o">.</span><span class="n">Config</span><span class="p">,</span> <span class="s2">&quot;json_schema_extra&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="OpenAPISchemaGenerator-339"><a href="#OpenAPISchemaGenerator-339"><span class="linenos">339</span></a>                    <span class="n">is_file_upload</span> <span class="o">=</span> <span class="n">config_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;multipart/form-data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-340"><a href="#OpenAPISchemaGenerator-340"><span class="linenos">340</span></a>
</span><span id="OpenAPISchemaGenerator-341"><a href="#OpenAPISchemaGenerator-341"><span class="linenos">341</span></a>                <span class="c1"># Check if model has any binary fields</span>
</span><span id="OpenAPISchemaGenerator-342"><a href="#OpenAPISchemaGenerator-342"><span class="linenos">342</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="s2">&quot;model_fields&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-343"><a href="#OpenAPISchemaGenerator-343"><span class="linenos">343</span></a>                    <span class="k">for</span> <span class="n">field_info</span> <span class="ow">in</span> <span class="n">param_type</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="OpenAPISchemaGenerator-344"><a href="#OpenAPISchemaGenerator-344"><span class="linenos">344</span></a>                        <span class="n">field_schema</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">field_info</span><span class="p">,</span> <span class="s2">&quot;json_schema_extra&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-345"><a href="#OpenAPISchemaGenerator-345"><span class="linenos">345</span></a>                        <span class="k">if</span> <span class="n">field_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">field_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;format&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;binary&quot;</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-346"><a href="#OpenAPISchemaGenerator-346"><span class="linenos">346</span></a>                            <span class="n">has_binary_fields</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="OpenAPISchemaGenerator-347"><a href="#OpenAPISchemaGenerator-347"><span class="linenos">347</span></a>                            <span class="k">break</span>
</span><span id="OpenAPISchemaGenerator-348"><a href="#OpenAPISchemaGenerator-348"><span class="linenos">348</span></a>
</span><span id="OpenAPISchemaGenerator-349"><a href="#OpenAPISchemaGenerator-349"><span class="linenos">349</span></a>                <span class="c1"># Determine content type based on model properties</span>
</span><span id="OpenAPISchemaGenerator-350"><a href="#OpenAPISchemaGenerator-350"><span class="linenos">350</span></a>                <span class="n">content_type</span> <span class="o">=</span> <span class="s2">&quot;multipart/form-data&quot;</span> <span class="k">if</span> <span class="p">(</span><span class="n">is_file_upload</span> <span class="ow">or</span> <span class="n">has_binary_fields</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;application/json&quot;</span>
</span><span id="OpenAPISchemaGenerator-351"><a href="#OpenAPISchemaGenerator-351"><span class="linenos">351</span></a>
</span><span id="OpenAPISchemaGenerator-352"><a href="#OpenAPISchemaGenerator-352"><span class="linenos">352</span></a>                <span class="c1"># Add request body with appropriate content type</span>
</span><span id="OpenAPISchemaGenerator-353"><a href="#OpenAPISchemaGenerator-353"><span class="linenos">353</span></a>                <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;requestBody&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-354"><a href="#OpenAPISchemaGenerator-354"><span class="linenos">354</span></a>                    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">content_type</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;#/components/schemas/</span><span class="si">{</span><span class="n">param_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}}},</span>
</span><span id="OpenAPISchemaGenerator-355"><a href="#OpenAPISchemaGenerator-355"><span class="linenos">355</span></a>                    <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-356"><a href="#OpenAPISchemaGenerator-356"><span class="linenos">356</span></a>                <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-357"><a href="#OpenAPISchemaGenerator-357"><span class="linenos">357</span></a>
</span><span id="OpenAPISchemaGenerator-358"><a href="#OpenAPISchemaGenerator-358"><span class="linenos">358</span></a>                <span class="c1"># If this is a file upload model, remove any file parameters from parameters</span>
</span><span id="OpenAPISchemaGenerator-359"><a href="#OpenAPISchemaGenerator-359"><span class="linenos">359</span></a>                <span class="c1"># as they will be included in the requestBody</span>
</span><span id="OpenAPISchemaGenerator-360"><a href="#OpenAPISchemaGenerator-360"><span class="linenos">360</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">is_file_upload</span> <span class="ow">or</span> <span class="n">has_binary_fields</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;parameters&quot;</span> <span class="ow">in</span> <span class="n">operation</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-361"><a href="#OpenAPISchemaGenerator-361"><span class="linenos">361</span></a>                    <span class="c1"># Keep only path and query parameters</span>
</span><span id="OpenAPISchemaGenerator-362"><a href="#OpenAPISchemaGenerator-362"><span class="linenos">362</span></a>                    <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;query&quot;</span><span class="p">]]</span>
</span><span id="OpenAPISchemaGenerator-363"><a href="#OpenAPISchemaGenerator-363"><span class="linenos">363</span></a>                <span class="k">break</span>
</span><span id="OpenAPISchemaGenerator-364"><a href="#OpenAPISchemaGenerator-364"><span class="linenos">364</span></a>
</span><span id="OpenAPISchemaGenerator-365"><a href="#OpenAPISchemaGenerator-365"><span class="linenos">365</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_add_response_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-366"><a href="#OpenAPISchemaGenerator-366"><span class="linenos">366</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add response schema to an OpenAPI operation based on method return type annotation.</span>
</span><span id="OpenAPISchemaGenerator-367"><a href="#OpenAPISchemaGenerator-367"><span class="linenos">367</span></a>
</span><span id="OpenAPISchemaGenerator-368"><a href="#OpenAPISchemaGenerator-368"><span class="linenos">368</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-369"><a href="#OpenAPISchemaGenerator-369"><span class="linenos">369</span></a><span class="sd">            method: The resource method</span>
</span><span id="OpenAPISchemaGenerator-370"><a href="#OpenAPISchemaGenerator-370"><span class="linenos">370</span></a><span class="sd">            operation: The OpenAPI operation object to update</span>
</span><span id="OpenAPISchemaGenerator-371"><a href="#OpenAPISchemaGenerator-371"><span class="linenos">371</span></a>
</span><span id="OpenAPISchemaGenerator-372"><a href="#OpenAPISchemaGenerator-372"><span class="linenos">372</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-373"><a href="#OpenAPISchemaGenerator-373"><span class="linenos">373</span></a>        <span class="n">type_hints</span> <span class="o">=</span> <span class="n">get_type_hints</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-374"><a href="#OpenAPISchemaGenerator-374"><span class="linenos">374</span></a>
</span><span id="OpenAPISchemaGenerator-375"><a href="#OpenAPISchemaGenerator-375"><span class="linenos">375</span></a>        <span class="c1"># Check if there&#39;s a return type hint</span>
</span><span id="OpenAPISchemaGenerator-376"><a href="#OpenAPISchemaGenerator-376"><span class="linenos">376</span></a>        <span class="k">if</span> <span class="s2">&quot;return&quot;</span> <span class="ow">in</span> <span class="n">type_hints</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-377"><a href="#OpenAPISchemaGenerator-377"><span class="linenos">377</span></a>            <span class="n">return_type</span> <span class="o">=</span> <span class="n">type_hints</span><span class="p">[</span><span class="s2">&quot;return&quot;</span><span class="p">]</span>
</span><span id="OpenAPISchemaGenerator-378"><a href="#OpenAPISchemaGenerator-378"><span class="linenos">378</span></a>
</span><span id="OpenAPISchemaGenerator-379"><a href="#OpenAPISchemaGenerator-379"><span class="linenos">379</span></a>            <span class="c1"># Handle Pydantic models</span>
</span><span id="OpenAPISchemaGenerator-380"><a href="#OpenAPISchemaGenerator-380"><span class="linenos">380</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-381"><a href="#OpenAPISchemaGenerator-381"><span class="linenos">381</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_register_model</span><span class="p">(</span><span class="n">return_type</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-382"><a href="#OpenAPISchemaGenerator-382"><span class="linenos">382</span></a>
</span><span id="OpenAPISchemaGenerator-383"><a href="#OpenAPISchemaGenerator-383"><span class="linenos">383</span></a>                <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;responses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-384"><a href="#OpenAPISchemaGenerator-384"><span class="linenos">384</span></a>                    <span class="s2">&quot;200&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-385"><a href="#OpenAPISchemaGenerator-385"><span class="linenos">385</span></a>                        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Successful response&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-386"><a href="#OpenAPISchemaGenerator-386"><span class="linenos">386</span></a>                        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-387"><a href="#OpenAPISchemaGenerator-387"><span class="linenos">387</span></a>                            <span class="s2">&quot;application/json&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;#/components/schemas/</span><span class="si">{</span><span class="n">return_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}},</span>
</span><span id="OpenAPISchemaGenerator-388"><a href="#OpenAPISchemaGenerator-388"><span class="linenos">388</span></a>                        <span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-389"><a href="#OpenAPISchemaGenerator-389"><span class="linenos">389</span></a>                    <span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-390"><a href="#OpenAPISchemaGenerator-390"><span class="linenos">390</span></a>                <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-391"><a href="#OpenAPISchemaGenerator-391"><span class="linenos">391</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-392"><a href="#OpenAPISchemaGenerator-392"><span class="linenos">392</span></a>                <span class="c1"># Default response</span>
</span><span id="OpenAPISchemaGenerator-393"><a href="#OpenAPISchemaGenerator-393"><span class="linenos">393</span></a>                <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;responses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;200&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Successful response&quot;</span><span class="p">}}</span>
</span><span id="OpenAPISchemaGenerator-394"><a href="#OpenAPISchemaGenerator-394"><span class="linenos">394</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-395"><a href="#OpenAPISchemaGenerator-395"><span class="linenos">395</span></a>            <span class="c1"># Default response if no return type is specified</span>
</span><span id="OpenAPISchemaGenerator-396"><a href="#OpenAPISchemaGenerator-396"><span class="linenos">396</span></a>            <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;responses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;200&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Successful response&quot;</span><span class="p">}}</span>
</span><span id="OpenAPISchemaGenerator-397"><a href="#OpenAPISchemaGenerator-397"><span class="linenos">397</span></a>
</span><span id="OpenAPISchemaGenerator-398"><a href="#OpenAPISchemaGenerator-398"><span class="linenos">398</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_register_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-399"><a href="#OpenAPISchemaGenerator-399"><span class="linenos">399</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a Pydantic model or enum in the components schemas.</span>
</span><span id="OpenAPISchemaGenerator-400"><a href="#OpenAPISchemaGenerator-400"><span class="linenos">400</span></a>
</span><span id="OpenAPISchemaGenerator-401"><a href="#OpenAPISchemaGenerator-401"><span class="linenos">401</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-402"><a href="#OpenAPISchemaGenerator-402"><span class="linenos">402</span></a><span class="sd">            model: The model to register (Pydantic model or enum)</span>
</span><span id="OpenAPISchemaGenerator-403"><a href="#OpenAPISchemaGenerator-403"><span class="linenos">403</span></a>
</span><span id="OpenAPISchemaGenerator-404"><a href="#OpenAPISchemaGenerator-404"><span class="linenos">404</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-405"><a href="#OpenAPISchemaGenerator-405"><span class="linenos">405</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_models_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-406"><a href="#OpenAPISchemaGenerator-406"><span class="linenos">406</span></a>            <span class="c1"># Skip if already registered</span>
</span><span id="OpenAPISchemaGenerator-407"><a href="#OpenAPISchemaGenerator-407"><span class="linenos">407</span></a>            <span class="k">if</span> <span class="n">model</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_registered_models</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-408"><a href="#OpenAPISchemaGenerator-408"><span class="linenos">408</span></a>                <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator-409"><a href="#OpenAPISchemaGenerator-409"><span class="linenos">409</span></a>
</span><span id="OpenAPISchemaGenerator-410"><a href="#OpenAPISchemaGenerator-410"><span class="linenos">410</span></a>            <span class="c1"># Add to registered models set</span>
</span><span id="OpenAPISchemaGenerator-411"><a href="#OpenAPISchemaGenerator-411"><span class="linenos">411</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_registered_models</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-412"><a href="#OpenAPISchemaGenerator-412"><span class="linenos">412</span></a>
</span><span id="OpenAPISchemaGenerator-413"><a href="#OpenAPISchemaGenerator-413"><span class="linenos">413</span></a>        <span class="c1"># Handle enum types</span>
</span><span id="OpenAPISchemaGenerator-414"><a href="#OpenAPISchemaGenerator-414"><span class="linenos">414</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;__members__&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-415"><a href="#OpenAPISchemaGenerator-415"><span class="linenos">415</span></a>            <span class="c1"># This is an enum type</span>
</span><span id="OpenAPISchemaGenerator-416"><a href="#OpenAPISchemaGenerator-416"><span class="linenos">416</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-417"><a href="#OpenAPISchemaGenerator-417"><span class="linenos">417</span></a>                <span class="n">enum_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">model</span><span class="p">]}</span>
</span><span id="OpenAPISchemaGenerator-418"><a href="#OpenAPISchemaGenerator-418"><span class="linenos">418</span></a>
</span><span id="OpenAPISchemaGenerator-419"><a href="#OpenAPISchemaGenerator-419"><span class="linenos">419</span></a>                <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-420"><a href="#OpenAPISchemaGenerator-420"><span class="linenos">420</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">][</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">enum_schema</span>
</span><span id="OpenAPISchemaGenerator-421"><a href="#OpenAPISchemaGenerator-421"><span class="linenos">421</span></a>            <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator-422"><a href="#OpenAPISchemaGenerator-422"><span class="linenos">422</span></a>
</span><span id="OpenAPISchemaGenerator-423"><a href="#OpenAPISchemaGenerator-423"><span class="linenos">423</span></a>        <span class="c1"># Handle Pydantic models</span>
</span><span id="OpenAPISchemaGenerator-424"><a href="#OpenAPISchemaGenerator-424"><span class="linenos">424</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-425"><a href="#OpenAPISchemaGenerator-425"><span class="linenos">425</span></a>            <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator-426"><a href="#OpenAPISchemaGenerator-426"><span class="linenos">426</span></a>
</span><span id="OpenAPISchemaGenerator-427"><a href="#OpenAPISchemaGenerator-427"><span class="linenos">427</span></a>        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">I18nBaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-428"><a href="#OpenAPISchemaGenerator-428"><span class="linenos">428</span></a>            <span class="c1"># Create a language-specific version of the model</span>
</span><span id="OpenAPISchemaGenerator-429"><a href="#OpenAPISchemaGenerator-429"><span class="linenos">429</span></a>            <span class="n">language_model</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">for_language</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-430"><a href="#OpenAPISchemaGenerator-430"><span class="linenos">430</span></a>            <span class="n">schema</span> <span class="o">=</span> <span class="n">pydantic_to_openapi_schema</span><span class="p">(</span><span class="n">language_model</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-431"><a href="#OpenAPISchemaGenerator-431"><span class="linenos">431</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-432"><a href="#OpenAPISchemaGenerator-432"><span class="linenos">432</span></a>            <span class="c1"># Use the cached version from utils.py</span>
</span><span id="OpenAPISchemaGenerator-433"><a href="#OpenAPISchemaGenerator-433"><span class="linenos">433</span></a>            <span class="n">schema</span> <span class="o">=</span> <span class="n">pydantic_to_openapi_schema</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-434"><a href="#OpenAPISchemaGenerator-434"><span class="linenos">434</span></a>
</span><span id="OpenAPISchemaGenerator-435"><a href="#OpenAPISchemaGenerator-435"><span class="linenos">435</span></a>        <span class="c1"># Update components in a thread-safe manner</span>
</span><span id="OpenAPISchemaGenerator-436"><a href="#OpenAPISchemaGenerator-436"><span class="linenos">436</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-437"><a href="#OpenAPISchemaGenerator-437"><span class="linenos">437</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">][</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
</span><span id="OpenAPISchemaGenerator-438"><a href="#OpenAPISchemaGenerator-438"><span class="linenos">438</span></a>
</span><span id="OpenAPISchemaGenerator-439"><a href="#OpenAPISchemaGenerator-439"><span class="linenos">439</span></a>        <span class="c1"># Register nested models</span>
</span><span id="OpenAPISchemaGenerator-440"><a href="#OpenAPISchemaGenerator-440"><span class="linenos">440</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_register_nested_models</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-441"><a href="#OpenAPISchemaGenerator-441"><span class="linenos">441</span></a>
</span><span id="OpenAPISchemaGenerator-442"><a href="#OpenAPISchemaGenerator-442"><span class="linenos">442</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_register_nested_models</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-443"><a href="#OpenAPISchemaGenerator-443"><span class="linenos">443</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register nested Pydantic models found in fields of the given model.</span>
</span><span id="OpenAPISchemaGenerator-444"><a href="#OpenAPISchemaGenerator-444"><span class="linenos">444</span></a>
</span><span id="OpenAPISchemaGenerator-445"><a href="#OpenAPISchemaGenerator-445"><span class="linenos">445</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-446"><a href="#OpenAPISchemaGenerator-446"><span class="linenos">446</span></a><span class="sd">            model: The Pydantic model to scan for nested models</span>
</span><span id="OpenAPISchemaGenerator-447"><a href="#OpenAPISchemaGenerator-447"><span class="linenos">447</span></a>
</span><span id="OpenAPISchemaGenerator-448"><a href="#OpenAPISchemaGenerator-448"><span class="linenos">448</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-449"><a href="#OpenAPISchemaGenerator-449"><span class="linenos">449</span></a>        <span class="c1"># Get model fields</span>
</span><span id="OpenAPISchemaGenerator-450"><a href="#OpenAPISchemaGenerator-450"><span class="linenos">450</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;model_fields&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-451"><a href="#OpenAPISchemaGenerator-451"><span class="linenos">451</span></a>            <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator-452"><a href="#OpenAPISchemaGenerator-452"><span class="linenos">452</span></a>
</span><span id="OpenAPISchemaGenerator-453"><a href="#OpenAPISchemaGenerator-453"><span class="linenos">453</span></a>        <span class="c1"># Check each field for nested models</span>
</span><span id="OpenAPISchemaGenerator-454"><a href="#OpenAPISchemaGenerator-454"><span class="linenos">454</span></a>        <span class="k">for</span> <span class="n">field_info</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="OpenAPISchemaGenerator-455"><a href="#OpenAPISchemaGenerator-455"><span class="linenos">455</span></a>            <span class="n">field_type</span> <span class="o">=</span> <span class="n">field_info</span><span class="o">.</span><span class="n">annotation</span>
</span><span id="OpenAPISchemaGenerator-456"><a href="#OpenAPISchemaGenerator-456"><span class="linenos">456</span></a>
</span><span id="OpenAPISchemaGenerator-457"><a href="#OpenAPISchemaGenerator-457"><span class="linenos">457</span></a>            <span class="c1"># Handle direct BaseModel references</span>
</span><span id="OpenAPISchemaGenerator-458"><a href="#OpenAPISchemaGenerator-458"><span class="linenos">458</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-459"><a href="#OpenAPISchemaGenerator-459"><span class="linenos">459</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_register_model</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-460"><a href="#OpenAPISchemaGenerator-460"><span class="linenos">460</span></a>                <span class="k">continue</span>
</span><span id="OpenAPISchemaGenerator-461"><a href="#OpenAPISchemaGenerator-461"><span class="linenos">461</span></a>
</span><span id="OpenAPISchemaGenerator-462"><a href="#OpenAPISchemaGenerator-462"><span class="linenos">462</span></a>            <span class="c1"># Handle List[BaseModel] and similar container types</span>
</span><span id="OpenAPISchemaGenerator-463"><a href="#OpenAPISchemaGenerator-463"><span class="linenos">463</span></a>            <span class="n">origin</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="s2">&quot;__origin__&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-464"><a href="#OpenAPISchemaGenerator-464"><span class="linenos">464</span></a>            <span class="n">args</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="s2">&quot;__args__&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="OpenAPISchemaGenerator-465"><a href="#OpenAPISchemaGenerator-465"><span class="linenos">465</span></a>
</span><span id="OpenAPISchemaGenerator-466"><a href="#OpenAPISchemaGenerator-466"><span class="linenos">466</span></a>            <span class="k">if</span> <span class="n">origin</span> <span class="ow">and</span> <span class="n">args</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-467"><a href="#OpenAPISchemaGenerator-467"><span class="linenos">467</span></a>                <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-468"><a href="#OpenAPISchemaGenerator-468"><span class="linenos">468</span></a>                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-469"><a href="#OpenAPISchemaGenerator-469"><span class="linenos">469</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_register_model</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-470"><a href="#OpenAPISchemaGenerator-470"><span class="linenos">470</span></a>                    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="s2">&quot;__members__&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-471"><a href="#OpenAPISchemaGenerator-471"><span class="linenos">471</span></a>                        <span class="c1"># Handle enum types</span>
</span><span id="OpenAPISchemaGenerator-472"><a href="#OpenAPISchemaGenerator-472"><span class="linenos">472</span></a>                        <span class="c1"># Register enum in components/schemas</span>
</span><span id="OpenAPISchemaGenerator-473"><a href="#OpenAPISchemaGenerator-473"><span class="linenos">473</span></a>                        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-474"><a href="#OpenAPISchemaGenerator-474"><span class="linenos">474</span></a>                            <span class="n">enum_schema</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-475"><a href="#OpenAPISchemaGenerator-475"><span class="linenos">475</span></a>                                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-476"><a href="#OpenAPISchemaGenerator-476"><span class="linenos">476</span></a>                                <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">],</span>
</span><span id="OpenAPISchemaGenerator-477"><a href="#OpenAPISchemaGenerator-477"><span class="linenos">477</span></a>                            <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-478"><a href="#OpenAPISchemaGenerator-478"><span class="linenos">478</span></a>
</span><span id="OpenAPISchemaGenerator-479"><a href="#OpenAPISchemaGenerator-479"><span class="linenos">479</span></a>                            <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-480"><a href="#OpenAPISchemaGenerator-480"><span class="linenos">480</span></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">][</span><span class="n">arg</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">enum_schema</span>
</span><span id="OpenAPISchemaGenerator-481"><a href="#OpenAPISchemaGenerator-481"><span class="linenos">481</span></a>
</span><span id="OpenAPISchemaGenerator-482"><a href="#OpenAPISchemaGenerator-482"><span class="linenos">482</span></a>            <span class="c1"># Handle enum types directly</span>
</span><span id="OpenAPISchemaGenerator-483"><a href="#OpenAPISchemaGenerator-483"><span class="linenos">483</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="s2">&quot;__members__&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator-484"><a href="#OpenAPISchemaGenerator-484"><span class="linenos">484</span></a>                <span class="c1"># Register enum in components/schemas</span>
</span><span id="OpenAPISchemaGenerator-485"><a href="#OpenAPISchemaGenerator-485"><span class="linenos">485</span></a>                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-486"><a href="#OpenAPISchemaGenerator-486"><span class="linenos">486</span></a>                    <span class="n">enum_schema</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-487"><a href="#OpenAPISchemaGenerator-487"><span class="linenos">487</span></a>                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-488"><a href="#OpenAPISchemaGenerator-488"><span class="linenos">488</span></a>                        <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">field_type</span><span class="p">],</span>
</span><span id="OpenAPISchemaGenerator-489"><a href="#OpenAPISchemaGenerator-489"><span class="linenos">489</span></a>                    <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator-490"><a href="#OpenAPISchemaGenerator-490"><span class="linenos">490</span></a>
</span><span id="OpenAPISchemaGenerator-491"><a href="#OpenAPISchemaGenerator-491"><span class="linenos">491</span></a>                    <span class="k">if</span> <span class="n">field_type</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-492"><a href="#OpenAPISchemaGenerator-492"><span class="linenos">492</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;schemas&quot;</span><span class="p">][</span><span class="n">field_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">enum_schema</span>
</span><span id="OpenAPISchemaGenerator-493"><a href="#OpenAPISchemaGenerator-493"><span class="linenos">493</span></a>
</span><span id="OpenAPISchemaGenerator-494"><a href="#OpenAPISchemaGenerator-494"><span class="linenos">494</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_process_i18n_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-495"><a href="#OpenAPISchemaGenerator-495"><span class="linenos">495</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Process a dictionary that might contain I18nString values.</span>
</span><span id="OpenAPISchemaGenerator-496"><a href="#OpenAPISchemaGenerator-496"><span class="linenos">496</span></a>
</span><span id="OpenAPISchemaGenerator-497"><a href="#OpenAPISchemaGenerator-497"><span class="linenos">497</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-498"><a href="#OpenAPISchemaGenerator-498"><span class="linenos">498</span></a><span class="sd">            data: The dictionary to process</span>
</span><span id="OpenAPISchemaGenerator-499"><a href="#OpenAPISchemaGenerator-499"><span class="linenos">499</span></a>
</span><span id="OpenAPISchemaGenerator-500"><a href="#OpenAPISchemaGenerator-500"><span class="linenos">500</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-501"><a href="#OpenAPISchemaGenerator-501"><span class="linenos">501</span></a><span class="sd">            A new dictionary with I18nString values converted to strings</span>
</span><span id="OpenAPISchemaGenerator-502"><a href="#OpenAPISchemaGenerator-502"><span class="linenos">502</span></a>
</span><span id="OpenAPISchemaGenerator-503"><a href="#OpenAPISchemaGenerator-503"><span class="linenos">503</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-504"><a href="#OpenAPISchemaGenerator-504"><span class="linenos">504</span></a>        <span class="k">return</span> <span class="n">process_i18n_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-505"><a href="#OpenAPISchemaGenerator-505"><span class="linenos">505</span></a>
</span><span id="OpenAPISchemaGenerator-506"><a href="#OpenAPISchemaGenerator-506"><span class="linenos">506</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_process_i18n_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-507"><a href="#OpenAPISchemaGenerator-507"><span class="linenos">507</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Process a value that might be an I18nString or contain I18nString values.</span>
</span><span id="OpenAPISchemaGenerator-508"><a href="#OpenAPISchemaGenerator-508"><span class="linenos">508</span></a>
</span><span id="OpenAPISchemaGenerator-509"><a href="#OpenAPISchemaGenerator-509"><span class="linenos">509</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator-510"><a href="#OpenAPISchemaGenerator-510"><span class="linenos">510</span></a><span class="sd">            value: The value to process</span>
</span><span id="OpenAPISchemaGenerator-511"><a href="#OpenAPISchemaGenerator-511"><span class="linenos">511</span></a>
</span><span id="OpenAPISchemaGenerator-512"><a href="#OpenAPISchemaGenerator-512"><span class="linenos">512</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-513"><a href="#OpenAPISchemaGenerator-513"><span class="linenos">513</span></a><span class="sd">            The processed value</span>
</span><span id="OpenAPISchemaGenerator-514"><a href="#OpenAPISchemaGenerator-514"><span class="linenos">514</span></a>
</span><span id="OpenAPISchemaGenerator-515"><a href="#OpenAPISchemaGenerator-515"><span class="linenos">515</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-516"><a href="#OpenAPISchemaGenerator-516"><span class="linenos">516</span></a>        <span class="k">return</span> <span class="n">process_i18n_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator-517"><a href="#OpenAPISchemaGenerator-517"><span class="linenos">517</span></a>
</span><span id="OpenAPISchemaGenerator-518"><a href="#OpenAPISchemaGenerator-518"><span class="linenos">518</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator-519"><a href="#OpenAPISchemaGenerator-519"><span class="linenos">519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the complete OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator-520"><a href="#OpenAPISchemaGenerator-520"><span class="linenos">520</span></a>
</span><span id="OpenAPISchemaGenerator-521"><a href="#OpenAPISchemaGenerator-521"><span class="linenos">521</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator-522"><a href="#OpenAPISchemaGenerator-522"><span class="linenos">522</span></a><span class="sd">            The OpenAPI schema as a dictionary</span>
</span><span id="OpenAPISchemaGenerator-523"><a href="#OpenAPISchemaGenerator-523"><span class="linenos">523</span></a>
</span><span id="OpenAPISchemaGenerator-524"><a href="#OpenAPISchemaGenerator-524"><span class="linenos">524</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator-525"><a href="#OpenAPISchemaGenerator-525"><span class="linenos">525</span></a>        <span class="c1"># Use a lock to ensure consistent state during schema generation</span>
</span><span id="OpenAPISchemaGenerator-526"><a href="#OpenAPISchemaGenerator-526"><span class="linenos">526</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator-527"><a href="#OpenAPISchemaGenerator-527"><span class="linenos">527</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-528"><a href="#OpenAPISchemaGenerator-528"><span class="linenos">528</span></a>                <span class="s2">&quot;openapi&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.3&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-529"><a href="#OpenAPISchemaGenerator-529"><span class="linenos">529</span></a>                <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator-530"><a href="#OpenAPISchemaGenerator-530"><span class="linenos">530</span></a>                    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-531"><a href="#OpenAPISchemaGenerator-531"><span class="linenos">531</span></a>                    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-532"><a href="#OpenAPISchemaGenerator-532"><span class="linenos">532</span></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-533"><a href="#OpenAPISchemaGenerator-533"><span class="linenos">533</span></a>                <span class="p">},</span>
</span><span id="OpenAPISchemaGenerator-534"><a href="#OpenAPISchemaGenerator-534"><span class="linenos">534</span></a>                <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-535"><a href="#OpenAPISchemaGenerator-535"><span class="linenos">535</span></a>                <span class="s2">&quot;components&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-536"><a href="#OpenAPISchemaGenerator-536"><span class="linenos">536</span></a>                <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator-537"><a href="#OpenAPISchemaGenerator-537"><span class="linenos">537</span></a>            <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Generator for OpenAPI schemas from Flask-RESTful resources.</p>

<p>This class scans Flask-RESTful resources and generates OpenAPI schemas based on
the resource methods, docstrings, and type annotations.</p>
</div>


                            <div id="OpenAPISchemaGenerator.__init__" class="classattr">
                                        <input id="OpenAPISchemaGenerator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">OpenAPISchemaGenerator</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="OpenAPISchemaGenerator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator.__init__-37"><a href="#OpenAPISchemaGenerator.__init__-37"><span class="linenos">37</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OpenAPISchemaGenerator.__init__-38"><a href="#OpenAPISchemaGenerator.__init__-38"><span class="linenos">38</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.__init__-39"><a href="#OpenAPISchemaGenerator.__init__-39"><span class="linenos">39</span></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.__init__-40"><a href="#OpenAPISchemaGenerator.__init__-40"><span class="linenos">40</span></a>        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.__init__-41"><a href="#OpenAPISchemaGenerator.__init__-41"><span class="linenos">41</span></a>        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.__init__-42"><a href="#OpenAPISchemaGenerator.__init__-42"><span class="linenos">42</span></a>        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.__init__-43"><a href="#OpenAPISchemaGenerator.__init__-43"><span class="linenos">43</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.__init__-44"><a href="#OpenAPISchemaGenerator.__init__-44"><span class="linenos">44</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the OpenAPI schema generator.</span>
</span><span id="OpenAPISchemaGenerator.__init__-45"><a href="#OpenAPISchemaGenerator.__init__-45"><span class="linenos">45</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-46"><a href="#OpenAPISchemaGenerator.__init__-46"><span class="linenos">46</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator.__init__-47"><a href="#OpenAPISchemaGenerator.__init__-47"><span class="linenos">47</span></a><span class="sd">            title: The title of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator.__init__-48"><a href="#OpenAPISchemaGenerator.__init__-48"><span class="linenos">48</span></a><span class="sd">            version: The version of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator.__init__-49"><a href="#OpenAPISchemaGenerator.__init__-49"><span class="linenos">49</span></a><span class="sd">            description: The description of the API (default: from config)</span>
</span><span id="OpenAPISchemaGenerator.__init__-50"><a href="#OpenAPISchemaGenerator.__init__-50"><span class="linenos">50</span></a><span class="sd">            language: The language to use for internationalized strings (default: current language)</span>
</span><span id="OpenAPISchemaGenerator.__init__-51"><a href="#OpenAPISchemaGenerator.__init__-51"><span class="linenos">51</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-52"><a href="#OpenAPISchemaGenerator.__init__-52"><span class="linenos">52</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator.__init__-53"><a href="#OpenAPISchemaGenerator.__init__-53"><span class="linenos">53</span></a>        <span class="c1"># Get defaults from config if not provided</span>
</span><span id="OpenAPISchemaGenerator.__init__-54"><a href="#OpenAPISchemaGenerator.__init__-54"><span class="linenos">54</span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">get_openapi_config</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-55"><a href="#OpenAPISchemaGenerator.__init__-55"><span class="linenos">55</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-56"><a href="#OpenAPISchemaGenerator.__init__-56"><span class="linenos">56</span></a>        <span class="c1"># Handle I18nString for title and description</span>
</span><span id="OpenAPISchemaGenerator.__init__-57"><a href="#OpenAPISchemaGenerator.__init__-57"><span class="linenos">57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span> <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">title</span>
</span><span id="OpenAPISchemaGenerator.__init__-58"><a href="#OpenAPISchemaGenerator.__init__-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator.__init__-59"><a href="#OpenAPISchemaGenerator.__init__-59"><span class="linenos">59</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator.__init__-60"><a href="#OpenAPISchemaGenerator.__init__-60"><span class="linenos">60</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-61"><a href="#OpenAPISchemaGenerator.__init__-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span> <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">version</span>
</span><span id="OpenAPISchemaGenerator.__init__-62"><a href="#OpenAPISchemaGenerator.__init__-62"><span class="linenos">62</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-63"><a href="#OpenAPISchemaGenerator.__init__-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span> <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">config</span><span class="o">.</span><span class="n">description</span>
</span><span id="OpenAPISchemaGenerator.__init__-64"><a href="#OpenAPISchemaGenerator.__init__-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span> <span class="n">I18nStr</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator.__init__-65"><a href="#OpenAPISchemaGenerator.__init__-65"><span class="linenos">65</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
</span><span id="OpenAPISchemaGenerator.__init__-66"><a href="#OpenAPISchemaGenerator.__init__-66"><span class="linenos">66</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-67"><a href="#OpenAPISchemaGenerator.__init__-67"><span class="linenos">67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span> <span class="ow">or</span> <span class="n">get_current_language</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-68"><a href="#OpenAPISchemaGenerator.__init__-68"><span class="linenos">68</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-69"><a href="#OpenAPISchemaGenerator.__init__-69"><span class="linenos">69</span></a>        <span class="c1"># Initialize data structures</span>
</span><span id="OpenAPISchemaGenerator.__init__-70"><a href="#OpenAPISchemaGenerator.__init__-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenAPISchemaGenerator.__init__-71"><a href="#OpenAPISchemaGenerator.__init__-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator.__init__-72"><a href="#OpenAPISchemaGenerator.__init__-72"><span class="linenos">72</span></a>            <span class="s2">&quot;schemas&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="OpenAPISchemaGenerator.__init__-73"><a href="#OpenAPISchemaGenerator.__init__-73"><span class="linenos">73</span></a>            <span class="s2">&quot;securitySchemes&quot;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">security_schemes</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">security_schemes</span> <span class="k">else</span> <span class="p">{},</span>
</span><span id="OpenAPISchemaGenerator.__init__-74"><a href="#OpenAPISchemaGenerator.__init__-74"><span class="linenos">74</span></a>        <span class="p">}</span>
</span><span id="OpenAPISchemaGenerator.__init__-75"><a href="#OpenAPISchemaGenerator.__init__-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenAPISchemaGenerator.__init__-76"><a href="#OpenAPISchemaGenerator.__init__-76"><span class="linenos">76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_registered_models</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-77"><a href="#OpenAPISchemaGenerator.__init__-77"><span class="linenos">77</span></a>
</span><span id="OpenAPISchemaGenerator.__init__-78"><a href="#OpenAPISchemaGenerator.__init__-78"><span class="linenos">78</span></a>        <span class="c1"># Thread safety locks</span>
</span><span id="OpenAPISchemaGenerator.__init__-79"><a href="#OpenAPISchemaGenerator.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>  <span class="c1"># Main lock for coordinating access</span>
</span><span id="OpenAPISchemaGenerator.__init__-80"><a href="#OpenAPISchemaGenerator.__init__-80"><span class="linenos">80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_paths_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-81"><a href="#OpenAPISchemaGenerator.__init__-81"><span class="linenos">81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-82"><a href="#OpenAPISchemaGenerator.__init__-82"><span class="linenos">82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tags_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="OpenAPISchemaGenerator.__init__-83"><a href="#OpenAPISchemaGenerator.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_models_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the OpenAPI schema generator.</p>

<p>Args:
    title: The title of the API (default: from config)
    version: The version of the API (default: from config)
    description: The description of the API (default: from config)
    language: The language to use for internationalized strings (default: current language)</p>
</div>


                            </div>
                            <div id="OpenAPISchemaGenerator.title" class="classattr">
                                <div class="attr variable">
            <span class="name">title</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.title"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.version" class="classattr">
                                <div class="attr variable">
            <span class="name">version</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.version"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.description" class="classattr">
                                <div class="attr variable">
            <span class="name">description</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.description"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.language" class="classattr">
                                <div class="attr variable">
            <span class="name">language</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.language"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.paths" class="classattr">
                                <div class="attr variable">
            <span class="name">paths</span><span class="annotation">: dict[str, dict[str, typing.Any]]</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.paths"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.components" class="classattr">
                                <div class="attr variable">
            <span class="name">components</span><span class="annotation">: dict[str, dict[str, typing.Any]]</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.components"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.tags" class="classattr">
                                <div class="attr variable">
            <span class="name">tags</span><span class="annotation">: list[dict[str, str]]</span>


    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.tags"></a>



                            </div>
                            <div id="OpenAPISchemaGenerator.add_security_scheme" class="classattr">
                                        <input id="OpenAPISchemaGenerator.add_security_scheme-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">add_security_scheme</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">scheme</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="OpenAPISchemaGenerator.add_security_scheme-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.add_security_scheme"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator.add_security_scheme-85"><a href="#OpenAPISchemaGenerator.add_security_scheme-85"><span class="linenos">85</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_security_scheme</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">scheme</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-86"><a href="#OpenAPISchemaGenerator.add_security_scheme-86"><span class="linenos">86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a security scheme to the OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-87"><a href="#OpenAPISchemaGenerator.add_security_scheme-87"><span class="linenos">87</span></a>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-88"><a href="#OpenAPISchemaGenerator.add_security_scheme-88"><span class="linenos">88</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-89"><a href="#OpenAPISchemaGenerator.add_security_scheme-89"><span class="linenos">89</span></a><span class="sd">            name: The name of the security scheme</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-90"><a href="#OpenAPISchemaGenerator.add_security_scheme-90"><span class="linenos">90</span></a><span class="sd">            scheme: The security scheme definition</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-91"><a href="#OpenAPISchemaGenerator.add_security_scheme-91"><span class="linenos">91</span></a>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-92"><a href="#OpenAPISchemaGenerator.add_security_scheme-92"><span class="linenos">92</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-93"><a href="#OpenAPISchemaGenerator.add_security_scheme-93"><span class="linenos">93</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.add_security_scheme-94"><a href="#OpenAPISchemaGenerator.add_security_scheme-94"><span class="linenos">94</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;securitySchemes&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">scheme</span>
</span></pre></div>


            <div class="docstring"><p>Add a security scheme to the OpenAPI schema.</p>

<p>Args:
    name: The name of the security scheme
    scheme: The security scheme definition</p>
</div>


                            </div>
                            <div id="OpenAPISchemaGenerator.add_tag" class="classattr">
                                        <input id="OpenAPISchemaGenerator.add_tag-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">add_tag</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="OpenAPISchemaGenerator.add_tag-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.add_tag"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator.add_tag-96"><a href="#OpenAPISchemaGenerator.add_tag-96"><span class="linenos"> 96</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.add_tag-97"><a href="#OpenAPISchemaGenerator.add_tag-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a tag to the OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator.add_tag-98"><a href="#OpenAPISchemaGenerator.add_tag-98"><span class="linenos"> 98</span></a>
</span><span id="OpenAPISchemaGenerator.add_tag-99"><a href="#OpenAPISchemaGenerator.add_tag-99"><span class="linenos"> 99</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator.add_tag-100"><a href="#OpenAPISchemaGenerator.add_tag-100"><span class="linenos">100</span></a><span class="sd">            name: The name of the tag</span>
</span><span id="OpenAPISchemaGenerator.add_tag-101"><a href="#OpenAPISchemaGenerator.add_tag-101"><span class="linenos">101</span></a><span class="sd">            description: The description of the tag</span>
</span><span id="OpenAPISchemaGenerator.add_tag-102"><a href="#OpenAPISchemaGenerator.add_tag-102"><span class="linenos">102</span></a>
</span><span id="OpenAPISchemaGenerator.add_tag-103"><a href="#OpenAPISchemaGenerator.add_tag-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator.add_tag-104"><a href="#OpenAPISchemaGenerator.add_tag-104"><span class="linenos">104</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.add_tag-105"><a href="#OpenAPISchemaGenerator.add_tag-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">})</span>
</span></pre></div>


            <div class="docstring"><p>Add a tag to the OpenAPI schema.</p>

<p>Args:
    name: The name of the tag
    description: The description of the tag</p>
</div>


                            </div>
                            <div id="OpenAPISchemaGenerator.scan_blueprint" class="classattr">
                                        <input id="OpenAPISchemaGenerator.scan_blueprint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">scan_blueprint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">blueprint</span><span class="p">:</span> <span class="n">flask</span><span class="o">.</span><span class="n">blueprints</span><span class="o">.</span><span class="n">Blueprint</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="OpenAPISchemaGenerator.scan_blueprint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.scan_blueprint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator.scan_blueprint-107"><a href="#OpenAPISchemaGenerator.scan_blueprint-107"><span class="linenos">107</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">scan_blueprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">:</span> <span class="n">Blueprint</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-108"><a href="#OpenAPISchemaGenerator.scan_blueprint-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scan a Flask blueprint for API resources and add them to the schema.</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-109"><a href="#OpenAPISchemaGenerator.scan_blueprint-109"><span class="linenos">109</span></a>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-110"><a href="#OpenAPISchemaGenerator.scan_blueprint-110"><span class="linenos">110</span></a><span class="sd">        Args:</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-111"><a href="#OpenAPISchemaGenerator.scan_blueprint-111"><span class="linenos">111</span></a><span class="sd">            blueprint: The Flask blueprint to scan</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-112"><a href="#OpenAPISchemaGenerator.scan_blueprint-112"><span class="linenos">112</span></a>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-113"><a href="#OpenAPISchemaGenerator.scan_blueprint-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-114"><a href="#OpenAPISchemaGenerator.scan_blueprint-114"><span class="linenos">114</span></a>        <span class="c1"># Get all resources registered to the blueprint</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-115"><a href="#OpenAPISchemaGenerator.scan_blueprint-115"><span class="linenos">115</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">blueprint</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">):</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-116"><a href="#OpenAPISchemaGenerator.scan_blueprint-116"><span class="linenos">116</span></a>            <span class="k">return</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-117"><a href="#OpenAPISchemaGenerator.scan_blueprint-117"><span class="linenos">117</span></a>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-118"><a href="#OpenAPISchemaGenerator.scan_blueprint-118"><span class="linenos">118</span></a>        <span class="k">for</span> <span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">blueprint</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.scan_blueprint-119"><a href="#OpenAPISchemaGenerator.scan_blueprint-119"><span class="linenos">119</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_process_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">blueprint</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Scan a Flask blueprint for API resources and add them to the schema.</p>

<p>Args:
    blueprint: The Flask blueprint to scan</p>
</div>


                            </div>
                            <div id="OpenAPISchemaGenerator.generate_schema" class="classattr">
                                        <input id="OpenAPISchemaGenerator.generate_schema-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">generate_schema</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="OpenAPISchemaGenerator.generate_schema-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenAPISchemaGenerator.generate_schema"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenAPISchemaGenerator.generate_schema-518"><a href="#OpenAPISchemaGenerator.generate_schema-518"><span class="linenos">518</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-519"><a href="#OpenAPISchemaGenerator.generate_schema-519"><span class="linenos">519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the complete OpenAPI schema.</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-520"><a href="#OpenAPISchemaGenerator.generate_schema-520"><span class="linenos">520</span></a>
</span><span id="OpenAPISchemaGenerator.generate_schema-521"><a href="#OpenAPISchemaGenerator.generate_schema-521"><span class="linenos">521</span></a><span class="sd">        Returns:</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-522"><a href="#OpenAPISchemaGenerator.generate_schema-522"><span class="linenos">522</span></a><span class="sd">            The OpenAPI schema as a dictionary</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-523"><a href="#OpenAPISchemaGenerator.generate_schema-523"><span class="linenos">523</span></a>
</span><span id="OpenAPISchemaGenerator.generate_schema-524"><a href="#OpenAPISchemaGenerator.generate_schema-524"><span class="linenos">524</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-525"><a href="#OpenAPISchemaGenerator.generate_schema-525"><span class="linenos">525</span></a>        <span class="c1"># Use a lock to ensure consistent state during schema generation</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-526"><a href="#OpenAPISchemaGenerator.generate_schema-526"><span class="linenos">526</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-527"><a href="#OpenAPISchemaGenerator.generate_schema-527"><span class="linenos">527</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-528"><a href="#OpenAPISchemaGenerator.generate_schema-528"><span class="linenos">528</span></a>                <span class="s2">&quot;openapi&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.3&quot;</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-529"><a href="#OpenAPISchemaGenerator.generate_schema-529"><span class="linenos">529</span></a>                <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-530"><a href="#OpenAPISchemaGenerator.generate_schema-530"><span class="linenos">530</span></a>                    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-531"><a href="#OpenAPISchemaGenerator.generate_schema-531"><span class="linenos">531</span></a>                    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-532"><a href="#OpenAPISchemaGenerator.generate_schema-532"><span class="linenos">532</span></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-533"><a href="#OpenAPISchemaGenerator.generate_schema-533"><span class="linenos">533</span></a>                <span class="p">},</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-534"><a href="#OpenAPISchemaGenerator.generate_schema-534"><span class="linenos">534</span></a>                <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">paths</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-535"><a href="#OpenAPISchemaGenerator.generate_schema-535"><span class="linenos">535</span></a>                <span class="s2">&quot;components&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-536"><a href="#OpenAPISchemaGenerator.generate_schema-536"><span class="linenos">536</span></a>                <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
</span><span id="OpenAPISchemaGenerator.generate_schema-537"><a href="#OpenAPISchemaGenerator.generate_schema-537"><span class="linenos">537</span></a>            <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Generate the complete OpenAPI schema.</p>

<p>Returns:
    The OpenAPI schema as a dictionary</p>
</div>


                            </div>
                </section>
                <section id="configure_prefixes">
                            <input id="configure_prefixes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">configure_prefixes</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">config</span><span class="p">:</span> <span class="n"><a href="#ConventionalPrefixConfig">ConventionalPrefixConfig</a></span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="configure_prefixes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#configure_prefixes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="configure_prefixes-161"><a href="#configure_prefixes-161"><span class="linenos">161</span></a><span class="k">def</span><span class="w"> </span><span class="nf">configure_prefixes</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ConventionalPrefixConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="configure_prefixes-162"><a href="#configure_prefixes-162"><span class="linenos">162</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Configure global parameter prefixes.</span>
</span><span id="configure_prefixes-163"><a href="#configure_prefixes-163"><span class="linenos">163</span></a>
</span><span id="configure_prefixes-164"><a href="#configure_prefixes-164"><span class="linenos">164</span></a><span class="sd">    Sets the global configuration for parameter prefixes used in binding request data</span>
</span><span id="configure_prefixes-165"><a href="#configure_prefixes-165"><span class="linenos">165</span></a><span class="sd">    to function parameters. This affects all decorators that don&#39;t specify their own</span>
</span><span id="configure_prefixes-166"><a href="#configure_prefixes-166"><span class="linenos">166</span></a><span class="sd">    prefix configuration.</span>
</span><span id="configure_prefixes-167"><a href="#configure_prefixes-167"><span class="linenos">167</span></a>
</span><span id="configure_prefixes-168"><a href="#configure_prefixes-168"><span class="linenos">168</span></a><span class="sd">    :param config: Configuration object with parameter prefixes</span>
</span><span id="configure_prefixes-169"><a href="#configure_prefixes-169"><span class="linenos">169</span></a><span class="sd">    :type config: ConventionalPrefixConfig</span>
</span><span id="configure_prefixes-170"><a href="#configure_prefixes-170"><span class="linenos">170</span></a><span class="sd">    :return: None</span>
</span><span id="configure_prefixes-171"><a href="#configure_prefixes-171"><span class="linenos">171</span></a>
</span><span id="configure_prefixes-172"><a href="#configure_prefixes-172"><span class="linenos">172</span></a><span class="sd">    Example:</span>
</span><span id="configure_prefixes-173"><a href="#configure_prefixes-173"><span class="linenos">173</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import ConventionalPrefixConfig, configure_prefixes</span>
</span><span id="configure_prefixes-174"><a href="#configure_prefixes-174"><span class="linenos">174</span></a><span class="sd">        &gt;&gt;&gt; custom_config = ConventionalPrefixConfig(request_body_prefix=&quot;req_body&quot;, request_query_prefix=&quot;req_query&quot;)</span>
</span><span id="configure_prefixes-175"><a href="#configure_prefixes-175"><span class="linenos">175</span></a><span class="sd">        &gt;&gt;&gt; configure_prefixes(custom_config)</span>
</span><span id="configure_prefixes-176"><a href="#configure_prefixes-176"><span class="linenos">176</span></a>
</span><span id="configure_prefixes-177"><a href="#configure_prefixes-177"><span class="linenos">177</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="configure_prefixes-178"><a href="#configure_prefixes-178"><span class="linenos">178</span></a>    <span class="c1"># Update the configuration in a thread-safe manner</span>
</span><span id="configure_prefixes-179"><a href="#configure_prefixes-179"><span class="linenos">179</span></a>    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configure global parameter prefixes.</p>

<p>Sets the global configuration for parameter prefixes used in binding request data
to function parameters. This affects all decorators that don't specify their own
prefix configuration.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>config</strong>:  Configuration object with parameter prefixes</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>None</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import ConventionalPrefixConfig, configure_prefixes
      custom_config = ConventionalPrefixConfig(request_body_prefix="req_body", request_query_prefix="req_query")
      configure_prefixes(custom_config)</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="create_response">
                            <input id="create_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">pydantic</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Successful response&#39;</span>,</span><span class="param">	<span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">200</span>,</span><span class="param">	<span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>,</span><span class="param">	<span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n"><a href="#OpenAPIMetaResponseItem">OpenAPIMetaResponseItem</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="create_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#create_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="create_response-125"><a href="#create_response-125"><span class="linenos">125</span></a><span class="k">def</span><span class="w"> </span><span class="nf">create_response</span><span class="p">(</span>
</span><span id="create_response-126"><a href="#create_response-126"><span class="linenos">126</span></a>    <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="create_response-127"><a href="#create_response-127"><span class="linenos">127</span></a>    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Successful response&quot;</span><span class="p">,</span>
</span><span id="create_response-128"><a href="#create_response-128"><span class="linenos">128</span></a>    <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
</span><span id="create_response-129"><a href="#create_response-129"><span class="linenos">129</span></a>    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="create_response-130"><a href="#create_response-130"><span class="linenos">130</span></a>    <span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="create_response-131"><a href="#create_response-131"><span class="linenos">131</span></a>    <span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="create_response-132"><a href="#create_response-132"><span class="linenos">132</span></a>    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="create_response-133"><a href="#create_response-133"><span class="linenos">133</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OpenAPIMetaResponseItem</span><span class="p">]:</span>
</span><span id="create_response-134"><a href="#create_response-134"><span class="linenos">134</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a response definition for use with OpenAPIMetaResponse.</span>
</span><span id="create_response-135"><a href="#create_response-135"><span class="linenos">135</span></a>
</span><span id="create_response-136"><a href="#create_response-136"><span class="linenos">136</span></a><span class="sd">    This is a helper function to create a response definition for a specific status code.</span>
</span><span id="create_response-137"><a href="#create_response-137"><span class="linenos">137</span></a><span class="sd">    It returns a dictionary that can be used to build an OpenAPIMetaResponse object.</span>
</span><span id="create_response-138"><a href="#create_response-138"><span class="linenos">138</span></a>
</span><span id="create_response-139"><a href="#create_response-139"><span class="linenos">139</span></a><span class="sd">    :param model: Pydantic model for the response</span>
</span><span id="create_response-140"><a href="#create_response-140"><span class="linenos">140</span></a><span class="sd">    :type model: Optional[Type[BaseModel]]</span>
</span><span id="create_response-141"><a href="#create_response-141"><span class="linenos">141</span></a><span class="sd">    :param description: Response description</span>
</span><span id="create_response-142"><a href="#create_response-142"><span class="linenos">142</span></a><span class="sd">    :type description: str</span>
</span><span id="create_response-143"><a href="#create_response-143"><span class="linenos">143</span></a><span class="sd">    :param status_code: HTTP status code</span>
</span><span id="create_response-144"><a href="#create_response-144"><span class="linenos">144</span></a><span class="sd">    :type status_code: Union[int, str]</span>
</span><span id="create_response-145"><a href="#create_response-145"><span class="linenos">145</span></a><span class="sd">    :param content_type: Response content type</span>
</span><span id="create_response-146"><a href="#create_response-146"><span class="linenos">146</span></a><span class="sd">    :type content_type: str</span>
</span><span id="create_response-147"><a href="#create_response-147"><span class="linenos">147</span></a><span class="sd">    :param headers: Response headers</span>
</span><span id="create_response-148"><a href="#create_response-148"><span class="linenos">148</span></a><span class="sd">    :type headers: Optional[Dict[str, Any]]</span>
</span><span id="create_response-149"><a href="#create_response-149"><span class="linenos">149</span></a><span class="sd">    :param examples: Response examples</span>
</span><span id="create_response-150"><a href="#create_response-150"><span class="linenos">150</span></a><span class="sd">    :type examples: Optional[Dict[str, Any]]</span>
</span><span id="create_response-151"><a href="#create_response-151"><span class="linenos">151</span></a><span class="sd">    :param msg: Simple message for responses without a model</span>
</span><span id="create_response-152"><a href="#create_response-152"><span class="linenos">152</span></a><span class="sd">    :type msg: Optional[str]</span>
</span><span id="create_response-153"><a href="#create_response-153"><span class="linenos">153</span></a><span class="sd">    :return: A dictionary with the status code as key and response item as value</span>
</span><span id="create_response-154"><a href="#create_response-154"><span class="linenos">154</span></a><span class="sd">    :rtype: Dict[str, OpenAPIMetaResponseItem]</span>
</span><span id="create_response-155"><a href="#create_response-155"><span class="linenos">155</span></a>
</span><span id="create_response-156"><a href="#create_response-156"><span class="linenos">156</span></a><span class="sd">    Example:</span>
</span><span id="create_response-157"><a href="#create_response-157"><span class="linenos">157</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import create_response, OpenAPIMetaResponse</span>
</span><span id="create_response-158"><a href="#create_response-158"><span class="linenos">158</span></a><span class="sd">        &gt;&gt;&gt; from pydantic import BaseModel</span>
</span><span id="create_response-159"><a href="#create_response-159"><span class="linenos">159</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="create_response-160"><a href="#create_response-160"><span class="linenos">160</span></a><span class="sd">        &gt;&gt;&gt; class UserResponse(BaseModel):</span>
</span><span id="create_response-161"><a href="#create_response-161"><span class="linenos">161</span></a><span class="sd">        ...     id: str</span>
</span><span id="create_response-162"><a href="#create_response-162"><span class="linenos">162</span></a><span class="sd">        ...     name: str</span>
</span><span id="create_response-163"><a href="#create_response-163"><span class="linenos">163</span></a><span class="sd">        &gt;&gt;&gt; # Create a response for status code 200</span>
</span><span id="create_response-164"><a href="#create_response-164"><span class="linenos">164</span></a><span class="sd">        &gt;&gt;&gt; user_response = create_response(model=UserResponse, description=&quot;User details&quot;, status_code=200)</span>
</span><span id="create_response-165"><a href="#create_response-165"><span class="linenos">165</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="create_response-166"><a href="#create_response-166"><span class="linenos">166</span></a><span class="sd">        &gt;&gt;&gt; # Create a response for status code 404</span>
</span><span id="create_response-167"><a href="#create_response-167"><span class="linenos">167</span></a><span class="sd">        &gt;&gt;&gt; not_found_response = create_response(msg=&quot;User not found&quot;, description=&quot;User not found&quot;, status_code=404)</span>
</span><span id="create_response-168"><a href="#create_response-168"><span class="linenos">168</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="create_response-169"><a href="#create_response-169"><span class="linenos">169</span></a><span class="sd">        &gt;&gt;&gt; # Combine responses</span>
</span><span id="create_response-170"><a href="#create_response-170"><span class="linenos">170</span></a><span class="sd">        &gt;&gt;&gt; responses = OpenAPIMetaResponse(responses={**user_response, **not_found_response})</span>
</span><span id="create_response-171"><a href="#create_response-171"><span class="linenos">171</span></a>
</span><span id="create_response-172"><a href="#create_response-172"><span class="linenos">172</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="create_response-173"><a href="#create_response-173"><span class="linenos">173</span></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="create_response-174"><a href="#create_response-174"><span class="linenos">174</span></a>        <span class="nb">str</span><span class="p">(</span><span class="n">status_code</span><span class="p">):</span> <span class="n">OpenAPIMetaResponseItem</span><span class="p">(</span>
</span><span id="create_response-175"><a href="#create_response-175"><span class="linenos">175</span></a>            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
</span><span id="create_response-176"><a href="#create_response-176"><span class="linenos">176</span></a>            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
</span><span id="create_response-177"><a href="#create_response-177"><span class="linenos">177</span></a>            <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span>
</span><span id="create_response-178"><a href="#create_response-178"><span class="linenos">178</span></a>            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
</span><span id="create_response-179"><a href="#create_response-179"><span class="linenos">179</span></a>            <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
</span><span id="create_response-180"><a href="#create_response-180"><span class="linenos">180</span></a>            <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span>
</span><span id="create_response-181"><a href="#create_response-181"><span class="linenos">181</span></a>        <span class="p">),</span>
</span><span id="create_response-182"><a href="#create_response-182"><span class="linenos">182</span></a>    <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Create a response definition for use with OpenAPIMetaResponse.</p>

<p>This is a helper function to create a response definition for a specific status code.
It returns a dictionary that can be used to build an OpenAPIMetaResponse object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model</strong>:  Pydantic model for the response</li>
<li><strong>description</strong>:  Response description</li>
<li><strong>status_code</strong>:  HTTP status code</li>
<li><strong>content_type</strong>:  Response content type</li>
<li><strong>headers</strong>:  Response headers</li>
<li><strong>examples</strong>:  Response examples</li>
<li><strong>msg</strong>:  Simple message for responses without a model</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A dictionary with the status code as key and response item as value</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import create_response, OpenAPIMetaResponse
      from pydantic import BaseModel</p>

      <p>class UserResponse(BaseModel):
          ...     id: str
          ...     name: str</p>

      <h1 id="create-a-response-for-status-code-200">Create a response for status code 200</h1>

      <p>user_response = create_response(model=UserResponse, description="User details", status_code=200)</p>

      <h1 id="create-a-response-for-status-code-404">Create a response for status code 404</h1>

      <p>not_found_response = create_response(msg="User not found", description="User not found", status_code=404)</p>

      <h1 id="combine-responses">Combine responses</h1>

      <p>responses = OpenAPIMetaResponse(responses={<em>*user_response, *</em>not_found_response})</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="error_response">
                            <input id="error_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">error_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">400</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">pydantic</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>,</span><span class="param">	<span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n"><a href="#OpenAPIMetaResponseItem">OpenAPIMetaResponseItem</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="error_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#error_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="error_response-217"><a href="#error_response-217"><span class="linenos">217</span></a><span class="k">def</span><span class="w"> </span><span class="nf">error_response</span><span class="p">(</span>
</span><span id="error_response-218"><a href="#error_response-218"><span class="linenos">218</span></a>    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="error_response-219"><a href="#error_response-219"><span class="linenos">219</span></a>    <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
</span><span id="error_response-220"><a href="#error_response-220"><span class="linenos">220</span></a>    <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="error_response-221"><a href="#error_response-221"><span class="linenos">221</span></a>    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="error_response-222"><a href="#error_response-222"><span class="linenos">222</span></a>    <span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="error_response-223"><a href="#error_response-223"><span class="linenos">223</span></a>    <span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="error_response-224"><a href="#error_response-224"><span class="linenos">224</span></a>    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="error_response-225"><a href="#error_response-225"><span class="linenos">225</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OpenAPIMetaResponseItem</span><span class="p">]:</span>
</span><span id="error_response-226"><a href="#error_response-226"><span class="linenos">226</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create an error response definition for use with OpenAPIMetaResponse.</span>
</span><span id="error_response-227"><a href="#error_response-227"><span class="linenos">227</span></a>
</span><span id="error_response-228"><a href="#error_response-228"><span class="linenos">228</span></a><span class="sd">    Args:</span>
</span><span id="error_response-229"><a href="#error_response-229"><span class="linenos">229</span></a><span class="sd">        description: Response description</span>
</span><span id="error_response-230"><a href="#error_response-230"><span class="linenos">230</span></a><span class="sd">        status_code: HTTP status code</span>
</span><span id="error_response-231"><a href="#error_response-231"><span class="linenos">231</span></a><span class="sd">        model: Optional Pydantic model for the response</span>
</span><span id="error_response-232"><a href="#error_response-232"><span class="linenos">232</span></a><span class="sd">        content_type: Response content type</span>
</span><span id="error_response-233"><a href="#error_response-233"><span class="linenos">233</span></a><span class="sd">        headers: Response headers</span>
</span><span id="error_response-234"><a href="#error_response-234"><span class="linenos">234</span></a><span class="sd">        examples: Response examples</span>
</span><span id="error_response-235"><a href="#error_response-235"><span class="linenos">235</span></a><span class="sd">        msg: Simple message for responses without a model</span>
</span><span id="error_response-236"><a href="#error_response-236"><span class="linenos">236</span></a>
</span><span id="error_response-237"><a href="#error_response-237"><span class="linenos">237</span></a><span class="sd">    Returns:</span>
</span><span id="error_response-238"><a href="#error_response-238"><span class="linenos">238</span></a><span class="sd">        A dictionary with the status code as key and response item as value</span>
</span><span id="error_response-239"><a href="#error_response-239"><span class="linenos">239</span></a>
</span><span id="error_response-240"><a href="#error_response-240"><span class="linenos">240</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="error_response-241"><a href="#error_response-241"><span class="linenos">241</span></a>    <span class="k">return</span> <span class="n">create_response</span><span class="p">(</span>
</span><span id="error_response-242"><a href="#error_response-242"><span class="linenos">242</span></a>        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
</span><span id="error_response-243"><a href="#error_response-243"><span class="linenos">243</span></a>        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
</span><span id="error_response-244"><a href="#error_response-244"><span class="linenos">244</span></a>        <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
</span><span id="error_response-245"><a href="#error_response-245"><span class="linenos">245</span></a>        <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span>
</span><span id="error_response-246"><a href="#error_response-246"><span class="linenos">246</span></a>        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
</span><span id="error_response-247"><a href="#error_response-247"><span class="linenos">247</span></a>        <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
</span><span id="error_response-248"><a href="#error_response-248"><span class="linenos">248</span></a>        <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span>
</span><span id="error_response-249"><a href="#error_response-249"><span class="linenos">249</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create an error response definition for use with OpenAPIMetaResponse.</p>

<p>Args:
    description: Response description
    status_code: HTTP status code
    model: Optional Pydantic model for the response
    content_type: Response content type
    headers: Response headers
    examples: Response examples
    msg: Simple message for responses without a model</p>

<p>Returns:
    A dictionary with the status code as key and response item as value</p>
</div>


                </section>
                <section id="get_current_language">
                            <input id="get_current_language-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">get_current_language</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="get_current_language-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_current_language"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_current_language-13"><a href="#get_current_language-13"><span class="linenos">13</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_current_language</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="get_current_language-14"><a href="#get_current_language-14"><span class="linenos">14</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current language for the current thread.</span>
</span><span id="get_current_language-15"><a href="#get_current_language-15"><span class="linenos">15</span></a>
</span><span id="get_current_language-16"><a href="#get_current_language-16"><span class="linenos">16</span></a><span class="sd">    This function returns the language code that is currently set for the current thread.</span>
</span><span id="get_current_language-17"><a href="#get_current_language-17"><span class="linenos">17</span></a><span class="sd">    The language code is used for internationalization of strings in the OpenAPI schema.</span>
</span><span id="get_current_language-18"><a href="#get_current_language-18"><span class="linenos">18</span></a>
</span><span id="get_current_language-19"><a href="#get_current_language-19"><span class="linenos">19</span></a><span class="sd">    :return: The current language code (e.g., &quot;en-US&quot;, &quot;zh-Hans&quot;)</span>
</span><span id="get_current_language-20"><a href="#get_current_language-20"><span class="linenos">20</span></a><span class="sd">    :rtype: str</span>
</span><span id="get_current_language-21"><a href="#get_current_language-21"><span class="linenos">21</span></a>
</span><span id="get_current_language-22"><a href="#get_current_language-22"><span class="linenos">22</span></a><span class="sd">    Example:</span>
</span><span id="get_current_language-23"><a href="#get_current_language-23"><span class="linenos">23</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import get_current_language</span>
</span><span id="get_current_language-24"><a href="#get_current_language-24"><span class="linenos">24</span></a><span class="sd">        &gt;&gt;&gt; get_current_language()</span>
</span><span id="get_current_language-25"><a href="#get_current_language-25"><span class="linenos">25</span></a><span class="sd">        &#39;en-US&#39;</span>
</span><span id="get_current_language-26"><a href="#get_current_language-26"><span class="linenos">26</span></a>
</span><span id="get_current_language-27"><a href="#get_current_language-27"><span class="linenos">27</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_current_language-28"><a href="#get_current_language-28"><span class="linenos">28</span></a>    <span class="k">return</span> <span class="n">_current_language</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the current language for the current thread.</p>

<p>This function returns the language code that is currently set for the current thread.
The language code is used for internationalization of strings in the OpenAPI schema.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The current language code (e.g., "en-US", "zh-Hans")</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import get_current_language
      get_current_language()
          'en-US'</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="reset_prefixes">
                            <input id="reset_prefixes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">reset_prefixes</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="reset_prefixes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#reset_prefixes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="reset_prefixes-193"><a href="#reset_prefixes-193"><span class="linenos">193</span></a><span class="k">def</span><span class="w"> </span><span class="nf">reset_prefixes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="reset_prefixes-194"><a href="#reset_prefixes-194"><span class="linenos">194</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Reset parameter prefixes to default values.</span>
</span><span id="reset_prefixes-195"><a href="#reset_prefixes-195"><span class="linenos">195</span></a>
</span><span id="reset_prefixes-196"><a href="#reset_prefixes-196"><span class="linenos">196</span></a><span class="sd">    Resets the global parameter prefix configuration to the default values:</span>
</span><span id="reset_prefixes-197"><a href="#reset_prefixes-197"><span class="linenos">197</span></a><span class="sd">    - request_body_prefix: &quot;_x_body&quot;</span>
</span><span id="reset_prefixes-198"><a href="#reset_prefixes-198"><span class="linenos">198</span></a><span class="sd">    - request_query_prefix: &quot;_x_query&quot;</span>
</span><span id="reset_prefixes-199"><a href="#reset_prefixes-199"><span class="linenos">199</span></a><span class="sd">    - request_path_prefix: &quot;_x_path&quot;</span>
</span><span id="reset_prefixes-200"><a href="#reset_prefixes-200"><span class="linenos">200</span></a><span class="sd">    - request_file_prefix: &quot;_x_file&quot;</span>
</span><span id="reset_prefixes-201"><a href="#reset_prefixes-201"><span class="linenos">201</span></a>
</span><span id="reset_prefixes-202"><a href="#reset_prefixes-202"><span class="linenos">202</span></a><span class="sd">    :return: None</span>
</span><span id="reset_prefixes-203"><a href="#reset_prefixes-203"><span class="linenos">203</span></a>
</span><span id="reset_prefixes-204"><a href="#reset_prefixes-204"><span class="linenos">204</span></a><span class="sd">    Example:</span>
</span><span id="reset_prefixes-205"><a href="#reset_prefixes-205"><span class="linenos">205</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import reset_prefixes</span>
</span><span id="reset_prefixes-206"><a href="#reset_prefixes-206"><span class="linenos">206</span></a><span class="sd">        &gt;&gt;&gt; reset_prefixes()  # Resets to default prefixes</span>
</span><span id="reset_prefixes-207"><a href="#reset_prefixes-207"><span class="linenos">207</span></a>
</span><span id="reset_prefixes-208"><a href="#reset_prefixes-208"><span class="linenos">208</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="reset_prefixes-209"><a href="#reset_prefixes-209"><span class="linenos">209</span></a>    <span class="c1"># Reset the configuration in a thread-safe manner</span>
</span><span id="reset_prefixes-210"><a href="#reset_prefixes-210"><span class="linenos">210</span></a>    <span class="n">GLOBAL_CONFIG_HOLDER</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Reset parameter prefixes to default values.</p>

<p>Resets the global parameter prefix configuration to the default values:</p>

<ul>
<li>request_body_prefix: "_x_body"</li>
<li>request_query_prefix: "_x_query"</li>
<li>request_path_prefix: "_x_path"</li>
<li>request_file_prefix: "_x_file"</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>None</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import reset_prefixes
      reset_prefixes()  # Resets to default prefixes</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="set_current_language">
                            <input id="set_current_language-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">set_current_language</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">language</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="set_current_language-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#set_current_language"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="set_current_language-31"><a href="#set_current_language-31"><span class="linenos">31</span></a><span class="k">def</span><span class="w"> </span><span class="nf">set_current_language</span><span class="p">(</span><span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="set_current_language-32"><a href="#set_current_language-32"><span class="linenos">32</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the current language for the current thread.</span>
</span><span id="set_current_language-33"><a href="#set_current_language-33"><span class="linenos">33</span></a>
</span><span id="set_current_language-34"><a href="#set_current_language-34"><span class="linenos">34</span></a><span class="sd">    This function sets the language code for the current thread. This affects how</span>
</span><span id="set_current_language-35"><a href="#set_current_language-35"><span class="linenos">35</span></a><span class="sd">    internationalized strings are displayed in the OpenAPI schema and in responses.</span>
</span><span id="set_current_language-36"><a href="#set_current_language-36"><span class="linenos">36</span></a>
</span><span id="set_current_language-37"><a href="#set_current_language-37"><span class="linenos">37</span></a><span class="sd">    :param language: The language code to set (e.g., &quot;en-US&quot;, &quot;zh-Hans&quot;)</span>
</span><span id="set_current_language-38"><a href="#set_current_language-38"><span class="linenos">38</span></a><span class="sd">    :type language: str</span>
</span><span id="set_current_language-39"><a href="#set_current_language-39"><span class="linenos">39</span></a><span class="sd">    :return: None</span>
</span><span id="set_current_language-40"><a href="#set_current_language-40"><span class="linenos">40</span></a>
</span><span id="set_current_language-41"><a href="#set_current_language-41"><span class="linenos">41</span></a><span class="sd">    Example:</span>
</span><span id="set_current_language-42"><a href="#set_current_language-42"><span class="linenos">42</span></a><span class="sd">        &gt;&gt;&gt; from flask_x_openapi_schema import set_current_language</span>
</span><span id="set_current_language-43"><a href="#set_current_language-43"><span class="linenos">43</span></a><span class="sd">        &gt;&gt;&gt; set_current_language(&quot;zh-Hans&quot;)  # Switch to Simplified Chinese</span>
</span><span id="set_current_language-44"><a href="#set_current_language-44"><span class="linenos">44</span></a>
</span><span id="set_current_language-45"><a href="#set_current_language-45"><span class="linenos">45</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="set_current_language-46"><a href="#set_current_language-46"><span class="linenos">46</span></a>    <span class="n">_current_language</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the current language for the current thread.</p>

<p>This function sets the language code for the current thread. This affects how
internationalized strings are displayed in the OpenAPI schema and in responses.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>language</strong>:  The language code to set (e.g., "en-US", "zh-Hans")</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>None</p>
</blockquote>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from flask_x_openapi_schema import set_current_language
      set_current_language("zh-Hans")  # Switch to Simplified Chinese</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="success_response">
                            <input id="success_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">success_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">pydantic</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">]</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Successful response&#39;</span>,</span><span class="param">	<span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">200</span>,</span><span class="param">	<span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>,</span><span class="param">	<span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n"><a href="#OpenAPIMetaResponseItem">OpenAPIMetaResponseItem</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="success_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#success_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="success_response-185"><a href="#success_response-185"><span class="linenos">185</span></a><span class="k">def</span><span class="w"> </span><span class="nf">success_response</span><span class="p">(</span>
</span><span id="success_response-186"><a href="#success_response-186"><span class="linenos">186</span></a>    <span class="n">model</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span>
</span><span id="success_response-187"><a href="#success_response-187"><span class="linenos">187</span></a>    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Successful response&quot;</span><span class="p">,</span>
</span><span id="success_response-188"><a href="#success_response-188"><span class="linenos">188</span></a>    <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
</span><span id="success_response-189"><a href="#success_response-189"><span class="linenos">189</span></a>    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="success_response-190"><a href="#success_response-190"><span class="linenos">190</span></a>    <span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="success_response-191"><a href="#success_response-191"><span class="linenos">191</span></a>    <span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="success_response-192"><a href="#success_response-192"><span class="linenos">192</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OpenAPIMetaResponseItem</span><span class="p">]:</span>
</span><span id="success_response-193"><a href="#success_response-193"><span class="linenos">193</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a success response definition for use with OpenAPIMetaResponse.</span>
</span><span id="success_response-194"><a href="#success_response-194"><span class="linenos">194</span></a>
</span><span id="success_response-195"><a href="#success_response-195"><span class="linenos">195</span></a><span class="sd">    Args:</span>
</span><span id="success_response-196"><a href="#success_response-196"><span class="linenos">196</span></a><span class="sd">        model: Pydantic model for the response</span>
</span><span id="success_response-197"><a href="#success_response-197"><span class="linenos">197</span></a><span class="sd">        description: Response description</span>
</span><span id="success_response-198"><a href="#success_response-198"><span class="linenos">198</span></a><span class="sd">        status_code: HTTP status code</span>
</span><span id="success_response-199"><a href="#success_response-199"><span class="linenos">199</span></a><span class="sd">        content_type: Response content type</span>
</span><span id="success_response-200"><a href="#success_response-200"><span class="linenos">200</span></a><span class="sd">        headers: Response headers</span>
</span><span id="success_response-201"><a href="#success_response-201"><span class="linenos">201</span></a><span class="sd">        examples: Response examples</span>
</span><span id="success_response-202"><a href="#success_response-202"><span class="linenos">202</span></a>
</span><span id="success_response-203"><a href="#success_response-203"><span class="linenos">203</span></a><span class="sd">    Returns:</span>
</span><span id="success_response-204"><a href="#success_response-204"><span class="linenos">204</span></a><span class="sd">        A dictionary with the status code as key and response item as value</span>
</span><span id="success_response-205"><a href="#success_response-205"><span class="linenos">205</span></a>
</span><span id="success_response-206"><a href="#success_response-206"><span class="linenos">206</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="success_response-207"><a href="#success_response-207"><span class="linenos">207</span></a>    <span class="k">return</span> <span class="n">create_response</span><span class="p">(</span>
</span><span id="success_response-208"><a href="#success_response-208"><span class="linenos">208</span></a>        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
</span><span id="success_response-209"><a href="#success_response-209"><span class="linenos">209</span></a>        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
</span><span id="success_response-210"><a href="#success_response-210"><span class="linenos">210</span></a>        <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
</span><span id="success_response-211"><a href="#success_response-211"><span class="linenos">211</span></a>        <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span>
</span><span id="success_response-212"><a href="#success_response-212"><span class="linenos">212</span></a>        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
</span><span id="success_response-213"><a href="#success_response-213"><span class="linenos">213</span></a>        <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
</span><span id="success_response-214"><a href="#success_response-214"><span class="linenos">214</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a success response definition for use with OpenAPIMetaResponse.</p>

<p>Args:
    model: Pydantic model for the response
    description: Response description
    status_code: HTTP status code
    content_type: Response content type
    headers: Response headers
    examples: Response examples</p>

<p>Returns:
    A dictionary with the status code as key and response item as value</p>
</div>


                </section>
    </main>
</body>
</html>
